!function(d,c,e,a){d.site=d.fn.site=function(k){var B,w,v=(new Date).getTime(),z=[],C=k,y="string"==typeof C,h=[].slice.call(arguments,1),D=d.isPlainObject(k)?d.extend(!0,{},d.site.settings,k):d.extend({},d.site.settings),b=D.namespace,j=D.error,A="module-"+b,p=d(e),x=this,q=p.data(A);return B={initialize:function(){B.instantiate()},instantiate:function(){B.verbose("Storing instance of site",B),q=B,p.data(A,B)},normalize:function(){B.fix.console(),B.fix.requestAnimationFrame()},fix:{console:function(){B.debug("Normalizing window.console"),console!==a&&console.log!==a||(B.verbose("Console not available, normalizing events"),B.disable.console()),void 0!==console.group&&void 0!==console.groupEnd&&void 0!==console.groupCollapsed||(B.verbose("Console group not available, normalizing events"),c.console.group=function(){},c.console.groupEnd=function(){},c.console.groupCollapsed=function(){}),void 0===console.markTimeline&&(B.verbose("Mark timeline not available, normalizing events"),c.console.markTimeline=function(){})},consoleClear:function(){B.debug("Disabling programmatic console clearing"),c.console.clear=function(){}},requestAnimationFrame:function(){B.debug("Normalizing requestAnimationFrame"),c.requestAnimationFrame===a&&(B.debug("RequestAnimationFrame not available, normalizing event"),c.requestAnimationFrame=c.requestAnimationFrame||c.mozRequestAnimationFrame||c.webkitRequestAnimationFrame||c.msRequestAnimationFrame||function(f){setTimeout(f,0)})}},moduleExists:function(f){return d.fn[f]!==a&&d.fn[f].settings!==a},enabled:{modules:function(f){var g=[];return f=f||D.modules,d.each(f,function(i,l){B.moduleExists(l)&&g.push(l)}),g}},disabled:{modules:function(f){var g=[];return f=f||D.modules,d.each(f,function(i,l){B.moduleExists(l)||g.push(l)}),g}},change:{setting:function(i,f,g,l){g="string"==typeof g?"all"===g?D.modules:[g]:g||D.modules,l=l===a||l,d.each(g,function(m,s){var r,o=!B.moduleExists(s)||(d.fn[s].settings.namespace||!1);B.moduleExists(s)&&(B.verbose("Changing default setting",i,f,s),d.fn[s].settings[i]=f,l&&o&&0<(r=d(":data(module-"+o+")")).length&&(B.verbose("Modifying existing settings",r),r[s]("setting",i,f)))})},settings:function(g,f,l){f="string"==typeof f?[f]:f||D.modules,l=l===a||l,d.each(f,function(i,o){var m;B.moduleExists(o)&&(B.verbose("Changing default setting",g,o),d.extend(!0,d.fn[o].settings,g),l&&b&&0<(m=d(":data(module-"+b+")")).length&&(B.verbose("Modifying existing settings",m),m[o]("setting",g)))})}},enable:{console:function(){B.console(!0)},debug:function(f,g){f=f||D.modules,B.debug("Enabling debug for modules",f),B.change.setting("debug",!0,f,g)},verbose:function(f,g){f=f||D.modules,B.debug("Enabling verbose debug for modules",f),B.change.setting("verbose",!0,f,g)}},disable:{console:function(){B.console(!1)},debug:function(f,g){f=f||D.modules,B.debug("Disabling debug for modules",f),B.change.setting("debug",!1,f,g)},verbose:function(f,g){f=f||D.modules,B.debug("Disabling verbose debug for modules",f),B.change.setting("verbose",!1,f,g)}},console:function(f){if(f){if(q.cache.console===a){return void B.error(j.console)}B.debug("Restoring console function"),c.console=q.cache.console}else{B.debug("Disabling console function"),q.cache.console=c.console,c.console={clear:function(){},error:function(){},group:function(){},groupCollapsed:function(){},groupEnd:function(){},info:function(){},log:function(){},markTimeline:function(){},warn:function(){}}}},destroy:function(){B.verbose("Destroying previous site for",p),p.removeData(A)},cache:{},setting:function(f,g){if(d.isPlainObject(f)){d.extend(!0,D,f)}else{if(g===a){return D[f]}D[f]=g}},internal:function(f,g){if(d.isPlainObject(f)){d.extend(!0,B,f)}else{if(g===a){return B[f]}B[f]=g}},debug:function(){D.debug&&(D.performance?B.performance.log(arguments):(B.debug=Function.prototype.bind.call(console.info,console,D.name+":"),B.debug.apply(console,arguments)))},verbose:function(){D.verbose&&D.debug&&(D.performance?B.performance.log(arguments):(B.verbose=Function.prototype.bind.call(console.info,console,D.name+":"),B.verbose.apply(console,arguments)))},error:function(){B.error=Function.prototype.bind.call(console.error,console,D.name+":"),B.error.apply(console,arguments)},performance:{log:function(f){var i,g;D.performance&&(g=(i=(new Date).getTime())-(v||i),v=i,z.push({Element:x,Name:f[0],Arguments:[].slice.call(f,1)||"","Execution Time":g})),clearTimeout(B.performance.timer),B.performance.timer=setTimeout(B.performance.display,500)},display:function(){var f=D.name+":",g=0;v=!1,clearTimeout(B.performance.timer),d.each(z,function(i,l){g+=l["Execution Time"]}),f+=" "+g+"ms",(console.group!==a||console.table!==a)&&0<z.length&&(console.groupCollapsed(f),console.table?console.table(z):d.each(z,function(i,l){console.log(l.Name+": "+l["Execution Time"]+"ms")}),console.groupEnd()),z=[]}},invoke:function(l,g,E){var s,f,m,u=q;return g=g||h,E=x||E,"string"==typeof l&&u!==a&&(l=l.split(/[\. ]/),s=l.length-1,d.each(l,function(i,r){var o=i!=s?r+l[i+1].charAt(0).toUpperCase()+l[i+1].slice(1):l;if(d.isPlainObject(u[o])&&i!=s){u=u[o]}else{if(u[o]!==a){return f=u[o],!1}if(!d.isPlainObject(u[r])||i==s){return u[r]!==a?f=u[r]:B.error(j.method,l),!1}u=u[r]}})),d.isFunction(f)?m=f.apply(E,g):f!==a&&(m=f),d.isArray(w)?w.push(m):w!==a?w=[w,m]:m!==a&&(w=m),f}},y?(q===a&&B.initialize(),B.invoke(C)):(q!==a&&B.destroy(),B.initialize()),w!==a?w:this},d.site.settings={name:"Site",namespace:"site",error:{console:"Console cannot be restored, most likely it was overwritten outside of module",method:"The method you called is not defined."},debug:!1,verbose:!1,performance:!0,modules:["accordion","api","checkbox","dimmer","dropdown","embed","form","modal","nag","popup","rating","shape","sidebar","state","sticky","tab","transition","visit","visibility"],siteNamespace:"site",namespaceStub:{cache:{},config:{},sections:{},section:{},utilities:{}}},d.extend(d.expr[":"],{data:d.expr.createPseudo?d.expr.createPseudo(function(b){return function(f){return !!d.data(f,b)}}):function(b,g,f){return !!d.data(b,f[3])}})}(jQuery,window,document),function(c,b,d,a){b=void 0!==b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),c.fn.form=function(o){var f,n=c(this),l=n.selector||"",h=(new Date).getTime(),m=[],e=o,j=arguments[1],i="string"==typeof e,g=[].slice.call(arguments,1);return n.each(function(){var G,E,L,z,x,w,M,A,F,D,K,H,k,B,I,C,J=c(this),N=this,q=[],O=!1;(C={initialize:function(){C.get.settings(),i?(I===a&&C.instantiate(),C.invoke(e)):(I!==a&&I.invoke("destroy"),C.verbose("Initializing form validation",J,x),C.bindEvents(),C.set.defaults(),C.instantiate())},instantiate:function(){C.verbose("Storing instance of module",C),I=C,J.data(k,C)},destroy:function(){C.verbose("Destroying previous module",I),C.removeEvents(),J.removeData(k)},refresh:function(){C.verbose("Refreshing selector cache"),G=J.find(A.field),E=J.find(A.group),L=J.find(A.message),J.find(A.prompt),z=J.find(A.submit),J.find(A.clear),J.find(A.reset)},submit:function(){C.verbose("Submitting form",J),J.submit()},attachEvents:function(p,r){r=r||"submit",c(p).on("click"+B,function(s){C[r](),s.preventDefault()})},bindEvents:function(){C.verbose("Attaching form events"),J.on("submit"+B,C.validate.form).on("blur"+B,A.field,C.event.field.blur).on("click"+B,A.submit,C.submit).on("click"+B,A.reset,C.reset).on("click"+B,A.clear,C.clear),x.keyboardShortcuts&&J.on("keydown"+B,A.field,C.event.field.keydown),G.each(function(){var p=c(this),s=p.prop("type"),r=C.get.changeEvent(s,p);c(this).on(r+B,C.event.field.change)})},clear:function(){G.each(function(){var s=c(this),Q=s.parent(),v=s.closest(E),u=v.find(A.prompt),y=s.data(M.defaultValue)||"",p=Q.is(A.uiCheckbox),P=Q.is(A.uiDropdown);v.hasClass(F.error)&&(C.verbose("Resetting error on field",v),v.removeClass(F.error),u.remove()),P?(C.verbose("Resetting dropdown value",Q,y),Q.dropdown("clear")):p?s.prop("checked",!1):(C.verbose("Resetting field value",s,y),s.val(""))})},reset:function(){G.each(function(){var u=c(this),S=u.parent(),y=u.closest(E),v=y.find(A.prompt),P=u.data(M.defaultValue),p=S.is(A.uiCheckbox),Q=S.is(A.uiDropdown),R=y.hasClass(F.error);P!==a&&(R&&(C.verbose("Resetting error on field",y),y.removeClass(F.error),v.remove()),Q?(C.verbose("Resetting dropdown value",S,P),S.dropdown("restore defaults")):p?(C.verbose("Resetting checkbox value",S,P),u.prop("checked",P)):(C.verbose("Resetting field value",u,P),u.val(P)))})},determine:{isValid:function(){var p=!0;return c.each(w,function(r,s){C.validate.field(s,r,!0)||(p=!1)}),p}},is:{bracketedRule:function(p){return p.type&&p.type.match(x.regExp.bracket)},shorthandFields:function(p){var r=p[Object.keys(p)[0]];return C.is.shorthandRules(r)},shorthandRules:function(p){return"string"==typeof p||c.isArray(p)},empty:function(p){return !p||0===p.length||(p.is('input[type="checkbox"]')?!p.is(":checked"):C.is.blank(p))},blank:function(p){return""===c.trim(p.val())},valid:function(p){var r=!0;return p?(C.verbose("Checking if field is valid",p),C.validate.field(w[p],p,!1)):(C.verbose("Checking if form is valid"),c.each(w,function(s,u){C.is.valid(s)||(r=!1)}),r)}},removeEvents:function(){J.off(B),G.off(B),z.off(B),G.off(B)},event:{field:{keydown:function(s){var Q=c(this),v=s.which,u=Q.is(A.input),y=Q.is(A.checkbox),p=0<Q.closest(A.uiDropdown).length,P=13;v==27&&(C.verbose("Escape key pressed blurring field"),Q.blur()),s.ctrlKey||v!=P||!u||p||y||(O||(Q.one("keyup"+B,C.event.field.keyup),C.submit(),C.debug("Enter pressed on input submitting form")),O=!0)},keyup:function(){O=!1},blur:function(p){var u=c(this),s=u.closest(E),r=C.get.validation(u);s.hasClass(F.error)?(C.debug("Revalidating field",u,r),r&&C.validate.field(r)):"blur"==x.on&&r&&C.validate.field(r)},change:function(p){var u=c(this),s=u.closest(E),r=C.get.validation(u);r&&("change"==x.on||s.hasClass(F.error)&&x.revalidate)&&(clearTimeout(C.timer),C.timer=setTimeout(function(){C.debug("Revalidating field",u,C.get.validation(u)),C.validate.field(r)},x.delay))}}},get:{ancillaryValue:function(p){return !(!p.type||!p.value&&!C.is.bracketedRule(p))&&(p.value!==a?p.value:p.type.match(x.regExp.bracket)[1]+"")},ruleName:function(p){return C.is.bracketedRule(p)?p.type.replace(p.type.match(x.regExp.bracket)[0],""):p.type},changeEvent:function(p,r){return"checkbox"==p||"radio"==p||"hidden"==p||r.is("select")?"change":C.get.inputEvent()},inputEvent:function(){return d.createElement("input").oninput!==a?"input":d.createElement("input").onpropertychange!==a?"propertychange":"keyup"},fieldsFromShorthand:function(p){var r={};return c.each(p,function(t,s){"string"==typeof s&&(s=[s]),r[t]={rules:[]},c.each(s,function(u,v){r[t].rules.push({type:v})})}),r},prompt:function(y,V){var R,P,S=C.get.ruleName(y),p=C.get.ancillaryValue(y),T=C.get.field(V.identifier),U=T.val(),Q=c.isFunction(y.prompt)?y.prompt(U):y.prompt||x.prompt[S]||x.text.unspecifiedRule,v=-1!==Q.search("{value}"),W=-1!==Q.search("{name}");return v&&(Q=Q.replace("{value}",T.val())),W&&(P=1==(R=T.closest(A.group).find("label").eq(0)).length?R.text():T.prop("placeholder")||x.text.unspecifiedField,Q=Q.replace("{name}",P)),Q=(Q=Q.replace("{identifier}",V.identifier)).replace("{ruleValue}",p),y.prompt||C.verbose("Using default validation prompt for type",Q,S),Q},settings:function(){if(c.isPlainObject(o)){var p=Object.keys(o);0<p.length&&(o[p[0]].identifier!==a&&o[p[0]].rules!==a)?(x=c.extend(!0,{},c.fn.form.settings,j),w=c.extend({},c.fn.form.settings.defaults,o),C.error(x.error.oldSyntax,N),C.verbose("Extending settings from legacy parameters",w,x)):(o.fields&&C.is.shorthandFields(o.fields)&&(o.fields=C.get.fieldsFromShorthand(o.fields)),x=c.extend(!0,{},c.fn.form.settings,o),w=c.extend({},c.fn.form.settings.defaults,x.fields),C.verbose("Extending settings",w,x))}else{x=c.fn.form.settings,w=c.fn.form.settings.defaults,C.verbose("Using default form validation",w,x)}H=x.namespace,M=x.metadata,A=x.selector,F=x.className,D=x.regExp,K=x.error,k="module-"+H,B="."+H,I=J.data(k),C.refresh()},field:function(p){return C.verbose("Finding field with identifier",p),p=C.escape.string(p),0<G.filter("#"+p).length?G.filter("#"+p):0<G.filter('[name="'+p+'"]').length?G.filter('[name="'+p+'"]'):0<G.filter('[name="'+p+'[]"]').length?G.filter('[name="'+p+'[]"]'):0<G.filter("[data-"+M.validate+'="'+p+'"]').length?G.filter("[data-"+M.validate+'="'+p+'"]'):c("<input/>")},fields:function(p){var r=c();return c.each(p,function(s,u){r=r.add(C.get.field(u))}),r},validation:function(r){var p,s;return !!w&&(c.each(w,function(u,v){s=v.identifier||u,C.get.field(s)[0]==r[0]&&(v.identifier=s,p=v)}),p||!1)},value:function(p){var r=[];return r.push(p),C.get.values.call(N,r)[p]},values:function(r){var s=c.isArray(r)?C.get.fields(r):G,p={};return s.each(function(v,U){var Q=c(U),y=(Q.prop("type"),Q.prop("name")),R=Q.val(),u=Q.is(A.checkbox),S=Q.is(A.radio),T=-1!==y.indexOf("[]"),P=!!u&&Q.is(":checked");y&&(T?(y=y.replace("[]",""),p[y]||(p[y]=[]),u?P?p[y].push(R||!0):p[y].push(!1):p[y].push(R)):S?p[y]!==a&&0!=p[y]||(p[y]=!!P&&(R||!0)):p[y]=u?!!P&&(R||!0):R)}),p}},has:{field:function(p){return C.verbose("Checking for existence of a field with identifier",p),"string"!=typeof(p=C.escape.string(p))&&C.error(K.identifier,p),0<G.filter("#"+p).length||(0<G.filter('[name="'+p+'"]').length||0<G.filter("[data-"+M.validate+'="'+p+'"]').length)}},escape:{string:function(p){return(p=String(p)).replace(D.escape,"\\$&")}},add:{rule:function(p,r){C.add.field(p,r)},field:function(s,p){var r={};C.is.shorthandRules(p)?(p=c.isArray(p)?p:[p],r[s]={rules:[]},c.each(p,function(u,v){r[s].rules.push({type:v})})):r[s]=p,w=c.extend({},w,r),C.debug("Adding rules",r,w)},fields:function(p){var r;r=p&&C.is.shorthandFields(p)?C.get.fieldsFromShorthand(p):p,w=c.extend({},w,r)},prompt:function(p,v){var s=C.get.field(p).closest(E),r=s.children(A.prompt),u=0!==r.length;v="string"==typeof v?[v]:v,C.verbose("Adding field error state",p),s.addClass(F.error),x.inline&&(u||(r=x.templates.prompt(v)).appendTo(s),r.html(v[0]),u?C.verbose("Inline errors are disabled, no inline error added",p):x.transition&&c.fn.transition!==a&&J.transition("is supported")?(C.verbose("Displaying error with css transition",x.transition),r.transition(x.transition+" in",x.duration)):(C.verbose("Displaying error with fallback javascript animation"),r.fadeIn(x.duration)))},errors:function(p){C.debug("Adding form error messages",p),C.set.error(),L.html(x.templates.error(p))}},remove:{rule:function(s,p){var r=c.isArray(p)?p:[p];if(p==a){return C.debug("Removed all rules"),void (w[s].rules=[])}w[s]!=a&&c.isArray(w[s].rules)&&c.each(w[s].rules,function(u,v){-1!==r.indexOf(v.type)&&(C.debug("Removed rule",v.type),w[s].rules.splice(u,1))})},field:function(p){var r=c.isArray(p)?p:[p];c.each(r,function(s,u){C.remove.rule(u)})},rules:function(p,r){c.isArray(p)?c.each(fields,function(s,u){C.remove.rule(u,r)}):C.remove.rule(p,r)},fields:function(p){C.remove.field(p)},prompt:function(p){var s=C.get.field(p).closest(E),r=s.children(A.prompt);s.removeClass(F.error),x.inline&&r.is(":visible")&&(C.verbose("Removing prompt for field",p),x.transition&&c.fn.transition!==a&&J.transition("is supported")?r.transition(x.transition+" out",x.duration,function(){r.remove()}):r.fadeOut(x.duration,function(){r.remove()}))}},set:{success:function(){J.removeClass(F.error).addClass(F.success)},defaults:function(){G.each(function(){var p=c(this),r=0<p.filter(A.checkbox).length?p.is(":checked"):p.val();p.data(M.defaultValue,r)})},error:function(){J.removeClass(F.success).addClass(F.error)},value:function(p,s){var r={};return r[p]=s,C.set.values.call(N,r)},values:function(p){c.isEmptyObject(p)||c.each(p,function(v,U){var Q,y=C.get.field(v),R=y.parent(),u=c.isArray(U),S=R.is(A.uiCheckbox),T=R.is(A.uiDropdown),P=y.is(A.radio)&&S;0<y.length&&(u&&S?(C.verbose("Selecting multiple",U,y),R.checkbox("uncheck"),c.each(U,function(r,s){Q=y.filter('[value="'+s+'"]'),R=Q.parent(),0<Q.length&&R.checkbox("check")})):P?(C.verbose("Selecting radio value",U,y),y.filter('[value="'+U+'"]').parent(A.uiCheckbox).checkbox("check")):S?(C.verbose("Setting checkbox value",U,R),!0===U?R.checkbox("check"):R.checkbox("uncheck")):T?(C.verbose("Setting dropdown value",U,R),R.dropdown("set selected",U)):(C.verbose("Setting field value",U,y),y.val(U)))})}},validate:{form:function(p,s){var r=C.get.values();if(O){return !1}if(q=[],C.determine.isValid()){if(C.debug("Form has no validation errors, submitting"),C.set.success(),!0!==s){return x.onSuccess.call(N,p,r)}}else{if(C.debug("Form has errors"),C.set.error(),x.inline||C.add.errors(q),J.data("moduleApi")!==a&&p.stopImmediatePropagation(),!0!==s){return x.onFailure.call(N,q,r)}}},field:function(y,u,S){S=S===a||S,"string"==typeof y&&(C.verbose("Validating field",y),y=w[u=y]);var v=y.identifier||u,P=C.get.field(v),p=!!y.depends&&C.get.field(y.depends),Q=!0,R=[];return y.identifier||(C.debug("Using field name as identifier",v),y.identifier=v),P.prop("disabled")?(C.debug("Field is disabled. Skipping",v),Q=!0):y.optional&&C.is.blank(P)?(C.debug("Field is optional and blank. Skipping",v),Q=!0):y.depends&&C.is.empty(p)?(C.debug("Field depends on another value that is not present or empty. Skipping",p),Q=!0):y.rules!==a&&c.each(y.rules,function(r,s){C.has.field(v)&&!C.validate.rule(y,s)&&(C.debug("Field is invalid",v,s.type),R.push(C.get.prompt(s,y)),Q=!1)}),Q?(S&&(C.remove.prompt(v,R),x.onValid.call(P)),!0):(S&&(q=q.concat(R),C.add.prompt(v,R),x.onInvalid.call(P,R)),!1)},rule:function(s,Q){var v=C.get.field(s.identifier),u=(Q.type,v.val()),y=C.get.ancillaryValue(Q),p=C.get.ruleName(Q),P=x.rules[p];if(c.isFunction(P)){return u=u===a||""===u||null===u?"":c.trim(u+""),P.call(v,u,y)}C.error(K.noRule,p)}},setting:function(p,r){if(c.isPlainObject(p)){c.extend(!0,x,p)}else{if(r===a){return x[p]}x[p]=r}},internal:function(p,r){if(c.isPlainObject(p)){c.extend(!0,C,p)}else{if(r===a){return C[p]}C[p]=r}},debug:function(){!x.silent&&x.debug&&(x.performance?C.performance.log(arguments):(C.debug=Function.prototype.bind.call(console.info,console,x.name+":"),C.debug.apply(console,arguments)))},verbose:function(){!x.silent&&x.verbose&&x.debug&&(x.performance?C.performance.log(arguments):(C.verbose=Function.prototype.bind.call(console.info,console,x.name+":"),C.verbose.apply(console,arguments)))},error:function(){x.silent||(C.error=Function.prototype.bind.call(console.error,console,x.name+":"),C.error.apply(console,arguments))},performance:{log:function(p){var s,r;x.performance&&(r=(s=(new Date).getTime())-(h||s),h=s,m.push({Name:p[0],Arguments:[].slice.call(p,1)||"",Element:N,"Execution Time":r})),clearTimeout(C.performance.timer),C.performance.timer=setTimeout(C.performance.display,500)},display:function(){var p=x.name+":",r=0;h=!1,clearTimeout(C.performance.timer),c.each(m,function(s,u){r+=u["Execution Time"]}),p+=" "+r+"ms",l&&(p+=" '"+l+"'"),1<n.length&&(p+=" ("+n.length+")"),(console.group!==a||console.table!==a)&&0<m.length&&(console.groupCollapsed(p),console.table?console.table(m):c.each(m,function(s,u){console.log(u.Name+": "+u["Execution Time"]+"ms")}),console.groupEnd()),m=[]}},invoke:function(u,s,Q){var y,p,v,P=I;return s=s||g,Q=N||Q,"string"==typeof u&&P!==a&&(u=u.split(/[\. ]/),y=u.length-1,c.each(u,function(r,S){var R=r!=y?S+u[r+1].charAt(0).toUpperCase()+u[r+1].slice(1):u;if(c.isPlainObject(P[R])&&r!=y){P=P[R]}else{if(P[R]!==a){return p=P[R],!1}if(!c.isPlainObject(P[S])||r==y){return P[S]!==a&&(p=P[S]),!1}P=P[S]}})),c.isFunction(p)?v=p.apply(Q,s):p!==a&&(v=p),c.isArray(f)?f.push(v):f!==a?f=[f,v]:v!==a&&(f=v),p}}).initialize()}),f!==a?f:this},c.fn.form.settings={name:"Form",namespace:"form",debug:!1,verbose:!1,performance:!0,fields:!1,keyboardShortcuts:!0,on:"submit",inline:!1,delay:200,revalidate:!0,transition:"scale",duration:200,onValid:function(){},onInvalid:function(){},onSuccess:function(){return !0},onFailure:function(){return !1},metadata:{defaultValue:"default",validate:"validate"},regExp:{htmlID:/^[a-zA-Z][\w:.-]*$/g,bracket:/\[(.*)\]/i,decimal:/^\d+\.?\d*$/,email:/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,flags:/^\/(.*)\/(.*)?/,integer:/^\-?\d+$/,number:/^\-?\d*(\.\d+)?$/,url:/(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/i},text:{unspecifiedRule:"Please enter a valid value",unspecifiedField:"This field"},prompt:{empty:"{name} must have a value",checked:"{name} must be checked",email:"{name} must be a valid e-mail",url:"{name} must be a valid url",regExp:"{name} is not formatted correctly",integer:"{name} must be an integer",decimal:"{name} must be a decimal number",number:"{name} must be set to a number",is:'{name} must be "{ruleValue}"',isExactly:'{name} must be exactly "{ruleValue}"',not:'{name} cannot be set to "{ruleValue}"',notExactly:'{name} cannot be set to exactly "{ruleValue}"',contain:'{name} must contain "{ruleValue}"',containExactly:'{name} must contain exactly "{ruleValue}"',doesntContain:'{name} cannot contain  "{ruleValue}"',doesntContainExactly:'{name} cannot contain exactly "{ruleValue}"',minLength:"{name} must be at least {ruleValue} characters",length:"{name} must be at least {ruleValue} characters",exactLength:"{name} must be exactly {ruleValue} characters",maxLength:"{name} cannot be longer than {ruleValue} characters",match:"{name} must match {ruleValue} field",different:"{name} must have a different value than {ruleValue} field",creditCard:"{name} must be a valid credit card number",minCount:"{name} must have at least {ruleValue} choices",exactCount:"{name} must have exactly {ruleValue} choices",maxCount:"{name} must have {ruleValue} or less choices"},selector:{checkbox:'input[type="checkbox"], input[type="radio"]',clear:".clear",field:"input, textarea, select",group:".field",input:"input",message:".error.message",prompt:".prompt.label",radio:'input[type="radio"]',reset:'.reset:not([type="reset"])',submit:'.submit:not([type="submit"])',uiCheckbox:".ui.checkbox",uiDropdown:".ui.dropdown"},className:{error:"error",label:"ui prompt label",pressed:"down",success:"success"},error:{identifier:"You must specify a string identifier for each field",method:"The method you called is not defined.",noRule:"There is no rule matching the one you specified",oldSyntax:"Starting in 2.0 forms now only take a single settings object. Validation settings converted to new syntax automatically."},templates:{error:function(f){var g='<ul class="list">';return c.each(f,function(h,i){g+="<li>"+i+"</li>"}),c(g+="</ul>")},prompt:function(f){return c("<div/>").addClass("ui basic red pointing prompt label").html(f[0])}},rules:{empty:function(f){return !(f===a||""===f||c.isArray(f)&&0===f.length)},checked:function(){return 0<c(this).filter(":checked").length},email:function(f){return c.fn.form.settings.regExp.email.test(f)},url:function(f){return c.fn.form.settings.regExp.url.test(f)},regExp:function(f,j){if(j instanceof RegExp){return f.match(j)}var h,g=j.match(c.fn.form.settings.regExp.flags);return g&&(j=2<=g.length?g[1]:j,h=3<=g.length?g[2]:""),f.match(new RegExp(j,h))},integer:function(g,l){var j,h,k,f=c.fn.form.settings.regExp.integer;return l&&-1===["",".."].indexOf(l)&&(-1==l.indexOf("..")?f.test(l)&&(j=h=l-0):(k=l.split("..",2),f.test(k[0])&&(j=k[0]-0),f.test(k[1])&&(h=k[1]-0))),f.test(g)&&(j===a||j<=g)&&(h===a||g<=h)},decimal:function(f){return c.fn.form.settings.regExp.decimal.test(f)},number:function(f){return c.fn.form.settings.regExp.number.test(f)},is:function(f,g){return g="string"==typeof g?g.toLowerCase():g,(f="string"==typeof f?f.toLowerCase():f)==g},isExactly:function(f,g){return f==g},not:function(f,g){return(f="string"==typeof f?f.toLowerCase():f)!=(g="string"==typeof g?g.toLowerCase():g)},notExactly:function(f,g){return f!=g},contains:function(f,g){return g=g.replace(c.fn.form.settings.regExp.escape,"\\$&"),-1!==f.search(new RegExp(g,"i"))},containsExactly:function(f,g){return g=g.replace(c.fn.form.settings.regExp.escape,"\\$&"),-1!==f.search(new RegExp(g))},doesntContain:function(f,g){return g=g.replace(c.fn.form.settings.regExp.escape,"\\$&"),-1===f.search(new RegExp(g,"i"))},doesntContainExactly:function(f,g){return g=g.replace(c.fn.form.settings.regExp.escape,"\\$&"),-1===f.search(new RegExp(g))},minLength:function(f,g){return f!==a&&f.length>=g},length:function(f,g){return f!==a&&f.length>=g},exactLength:function(f,g){return f!==a&&f.length==g},maxLength:function(f,g){return f!==a&&f.length<=g},match:function(f,h){var g;c(this);return 0<c('[data-validate="'+h+'"]').length?g=c('[data-validate="'+h+'"]').val():0<c("#"+h).length?g=c("#"+h).val():0<c('[name="'+h+'"]').length?g=c('[name="'+h+'"]').val():0<c('[name="'+h+'[]"]').length&&(g=c('[name="'+h+'[]"]')),g!==a&&f.toString()==g.toString()},different:function(f,h){var g;c(this);return 0<c('[data-validate="'+h+'"]').length?g=c('[data-validate="'+h+'"]').val():0<c("#"+h).length?g=c("#"+h).val():0<c('[name="'+h+'"]').length?g=c('[name="'+h+'"]').val():0<c('[name="'+h+'[]"]').length&&(g=c('[name="'+h+'[]"]')),g!==a&&f.toString()!==g.toString()},creditCard:function(p,j){var x,k,q={visa:{pattern:/^4/,length:[16]},amex:{pattern:/^3[47]/,length:[15]},mastercard:{pattern:/^5[1-5]/,length:[16]},discover:{pattern:/^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,length:[16]},unionPay:{pattern:/^(62|88)/,length:[16,17,18,19]},jcb:{pattern:/^35(2[89]|[3-8][0-9])/,length:[16]},maestro:{pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,length:[12,13,14,15,16,17,18,19]},dinersClub:{pattern:/^(30[0-5]|^36)/,length:[14]},laser:{pattern:/^(6304|670[69]|6771)/,length:[16,17,18,19]},visaElectron:{pattern:/^(4026|417500|4508|4844|491(3|7))/,length:[16]}},f={},v=!1,w="string"==typeof j&&j.split(",");if("string"==typeof p&&0!==p.length){if(p=p.replace(/[\-]/g,""),w&&(c.each(w,function(i,l){(k=q[l])&&(f={length:-1!==c.inArray(p.length,k.length),pattern:-1!==p.search(k.pattern)}).length&&f.pattern&&(v=!0)}),!v)){return !1}if((x={number:-1!==c.inArray(p.length,q.unionPay.length),pattern:-1!==p.search(q.unionPay.pattern)}).number&&x.pattern){return !0}for(var m=p.length,g=0,y=[[0,1,2,3,4,5,6,7,8,9],[0,2,4,6,8,1,3,5,7,9]],h=0;m--;){h+=y[g][parseInt(p.charAt(m),10)],g^=1}return h%10==0&&0<h}},minCount:function(f,g){return 0==g||(1==g?""!==f:f.split(",").length>=g)},exactCount:function(f,g){return 0==g?""===f:1==g?""!==f&&-1===f.search(","):f.split(",").length==g},maxCount:function(f,g){return 0!=g&&(1==g?-1===f.search(","):f.split(",").length<=g)}}}}(jQuery,window,document),function(c,b,a,d){b=void 0!==b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),c.fn.accordion=function(e){var i,h=c(this),f=(new Date).getTime(),l=[],k=e,g="string"==typeof k,j=[].slice.call(arguments,1);b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame;return h.each(function(){var v,q,H=c.isPlainObject(e)?c.extend(!0,{},c.fn.accordion.settings,e):c.extend({},c.fn.accordion.settings),r=H.className,G=H.namespace,w=H.selector,F=H.error,C="."+G,z="module-"+G,D=h.selector||"",B=c(this),x=B.find(w.title),E=B.find(w.content),A=this,y=B.data(z);q={initialize:function(){q.debug("Initializing",B),q.bind.events(),H.observeChanges&&q.observeChanges(),q.instantiate()},instantiate:function(){y=q,B.data(z,q)},destroy:function(){q.debug("Destroying previous instance",B),B.off(C).removeData(z)},refresh:function(){x=B.find(w.title),E=B.find(w.content)},observeChanges:function(){"MutationObserver" in b&&((v=new MutationObserver(function(m){q.debug("DOM tree modified, updating selector cache"),q.refresh()})).observe(A,{childList:!0,subtree:!0}),q.debug("Setting up mutation observer",v))},bind:{events:function(){q.debug("Binding delegated events"),B.on(H.on+C,w.trigger,q.event.click)}},event:{click:function(){q.toggle.call(this)}},toggle:function(p){var K=p!==d?"number"==typeof p?x.eq(p):c(p).closest(w.title):c(this).closest(w.title),u=K.next(E),s=u.hasClass(r.animating),I=u.hasClass(r.active),m=I&&!s,J=!I&&s;q.debug("Toggling visibility of content",K),m||J?H.collapsible?q.close.call(K):q.debug("Cannot close accordion content collapsing is disabled"):q.open.call(K)},open:function(m){var s=m!==d?"number"==typeof m?x.eq(m):c(m).closest(w.title):c(this).closest(w.title),p=s.next(E),o=p.hasClass(r.animating);p.hasClass(r.active)||o?q.debug("Accordion already open, skipping",p):(q.debug("Opening accordion content",s),H.onOpening.call(p),H.onChanging.call(p),H.exclusive&&q.closeOthers.call(s),s.addClass(r.active),p.stop(!0,!0).addClass(r.animating),H.animateChildren&&(c.fn.transition!==d&&B.transition("is supported")?p.children().transition({animation:"fade in",queue:!1,useFailSafe:!0,debug:H.debug,verbose:H.verbose,duration:H.duration}):p.children().stop(!0,!0).animate({opacity:1},H.duration,q.resetOpacity)),p.slideDown(H.duration,H.easing,function(){p.removeClass(r.animating).addClass(r.active),q.reset.display.call(this),H.onOpen.call(this),H.onChange.call(this)}))},close:function(m){var I=m!==d?"number"==typeof m?x.eq(m):c(m).closest(w.title):c(this).closest(w.title),s=I.next(E),p=s.hasClass(r.animating),u=s.hasClass(r.active);!u&&!(!u&&p)||u&&p||(q.debug("Closing accordion content",s),H.onClosing.call(s),H.onChanging.call(s),I.removeClass(r.active),s.stop(!0,!0).addClass(r.animating),H.animateChildren&&(c.fn.transition!==d&&B.transition("is supported")?s.children().transition({animation:"fade out",queue:!1,useFailSafe:!0,debug:H.debug,verbose:H.verbose,duration:H.duration}):s.children().stop(!0,!0).animate({opacity:0},H.duration,q.resetOpacity)),s.slideUp(H.duration,H.easing,function(){s.removeClass(r.animating).removeClass(r.active),q.reset.display.call(this),H.onClose.call(this),H.onChange.call(this)}))},closeOthers:function(p){var N,J,u,K=p!==d?x.eq(p):c(this).closest(w.title),m=K.parents(w.content).prev(w.title),L=K.closest(w.accordion),M=w.title+"."+r.active+":visible",I=w.content+"."+r.active+":visible";u=H.closeNested?(N=L.find(M).not(m)).next(E):(N=L.find(M).not(m),J=L.find(I).find(M).not(m),(N=N.not(J)).next(E)),0<N.length&&(q.debug("Exclusive enabled, closing other content",N),N.removeClass(r.active),u.removeClass(r.animating).stop(!0,!0),H.animateChildren&&(c.fn.transition!==d&&B.transition("is supported")?u.children().transition({animation:"fade out",useFailSafe:!0,debug:H.debug,verbose:H.verbose,duration:H.duration}):u.children().stop(!0,!0).animate({opacity:0},H.duration,q.resetOpacity)),u.slideUp(H.duration,H.easing,function(){c(this).removeClass(r.active),q.reset.display.call(this)}))},reset:{display:function(){q.verbose("Removing inline display from element",this),c(this).css("display",""),""===c(this).attr("style")&&c(this).attr("style","").removeAttr("style")},opacity:function(){q.verbose("Removing inline opacity from element",this),c(this).css("opacity",""),""===c(this).attr("style")&&c(this).attr("style","").removeAttr("style")}},setting:function(m,n){if(q.debug("Changing setting",m,n),c.isPlainObject(m)){c.extend(!0,H,m)}else{if(n===d){return H[m]}c.isPlainObject(H[m])?c.extend(!0,H[m],n):H[m]=n}},internal:function(m,n){if(q.debug("Changing internal",m,n),n===d){return q[m]}c.isPlainObject(m)?c.extend(!0,q,m):q[m]=n},debug:function(){!H.silent&&H.debug&&(H.performance?q.performance.log(arguments):(q.debug=Function.prototype.bind.call(console.info,console,H.name+":"),q.debug.apply(console,arguments)))},verbose:function(){!H.silent&&H.verbose&&H.debug&&(H.performance?q.performance.log(arguments):(q.verbose=Function.prototype.bind.call(console.info,console,H.name+":"),q.verbose.apply(console,arguments)))},error:function(){H.silent||(q.error=Function.prototype.bind.call(console.error,console,H.name+":"),q.error.apply(console,arguments))},performance:{log:function(m){var p,o;H.performance&&(o=(p=(new Date).getTime())-(f||p),f=p,l.push({Name:m[0],Arguments:[].slice.call(m,1)||"",Element:A,"Execution Time":o})),clearTimeout(q.performance.timer),q.performance.timer=setTimeout(q.performance.display,500)},display:function(){var m=H.name+":",o=0;f=!1,clearTimeout(q.performance.timer),c.each(l,function(n,p){o+=p["Execution Time"]}),m+=" "+o+"ms",D&&(m+=" '"+D+"'"),(console.group!==d||console.table!==d)&&0<l.length&&(console.groupCollapsed(m),console.table?console.table(l):c.each(l,function(n,p){console.log(p.Name+": "+p["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(s,p,K){var I,m,u,J=y;return p=p||j,K=A||K,"string"==typeof s&&J!==d&&(s=s.split(/[\. ]/),I=s.length-1,c.each(s,function(o,M){var L=o!=I?M+s[o+1].charAt(0).toUpperCase()+s[o+1].slice(1):s;if(c.isPlainObject(J[L])&&o!=I){J=J[L]}else{if(J[L]!==d){return m=J[L],!1}if(!c.isPlainObject(J[M])||o==I){return J[M]!==d?m=J[M]:q.error(F.method,s),!1}J=J[M]}})),c.isFunction(m)?u=m.apply(K,p):m!==d&&(u=m),c.isArray(i)?i.push(u):i!==d?i=[i,u]:u!==d&&(i=u),m}},g?(y===d&&q.initialize(),q.invoke(k)):(y!==d&&y.invoke("destroy"),q.initialize())}),i!==d?i:this},c.fn.accordion.settings={name:"Accordion",namespace:"accordion",silent:!1,debug:!1,verbose:!1,performance:!0,on:"click",observeChanges:!0,exclusive:!0,collapsible:!0,closeNested:!1,animateChildren:!0,duration:350,easing:"easeOutQuad",onOpening:function(){},onClosing:function(){},onChanging:function(){},onOpen:function(){},onClose:function(){},onChange:function(){},error:{method:"The method you called is not defined"},className:{active:"active",animating:"animating"},selector:{accordion:".accordion",title:".title",trigger:".title",content:".content"}},c.extend(c.easing,{easeOutQuad:function(f,k,h,g,j){return -g*(k/=j)*(k-2)+h}})}(jQuery,window,document),function(d,a,c,b){a=void 0!==a&&a.Math==Math?a:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),d.fn.checkbox=function(l){var f,h=d(this),o=h.selector||"",n=(new Date).getTime(),g=[],m=l,j="string"==typeof m,i=[].slice.call(arguments,1);return h.each(function(){var w,H,A=d.extend(!0,{},d.fn.checkbox.settings,l),I=A.className,D=A.namespace,E=A.selector,B=A.error,k="."+D,G="module-"+D,q=d(this),J=d(this).children(E.label),v=d(this).children(E.input),x=v[0],C=!1,y=!1,F=q.data(G),z=this;H={initialize:function(){H.verbose("Initializing checkbox",A),H.create.label(),H.bind.events(),H.set.tabbable(),H.hide.input(),H.observeChanges(),H.instantiate(),H.setup()},instantiate:function(){H.verbose("Storing instance of module",H),F=H,q.data(G,H)},destroy:function(){H.verbose("Destroying module"),H.unbind.events(),H.show.input(),q.removeData(G)},fix:{reference:function(){q.is(E.input)&&(H.debug("Behavior called on <input> adjusting invoked element"),q=q.closest(E.checkbox),H.refresh())}},setup:function(){H.set.initialLoad(),H.is.indeterminate()?(H.debug("Initial value is indeterminate"),H.indeterminate()):H.is.checked()?(H.debug("Initial value is checked"),H.check()):(H.debug("Initial value is unchecked"),H.uncheck()),H.remove.initialLoad()},refresh:function(){J=q.children(E.label),v=q.children(E.input),x=v[0]},hide:{input:function(){H.verbose("Modifying <input> z-index to be unselectable"),v.addClass(I.hidden)}},show:{input:function(){H.verbose("Modifying <input> z-index to be selectable"),v.removeClass(I.hidden)}},observeChanges:function(){"MutationObserver" in a&&((w=new MutationObserver(function(p){H.debug("DOM tree modified, updating selector cache"),H.refresh()})).observe(z,{childList:!0,subtree:!0}),H.debug("Setting up mutation observer",w))},attachEvents:function(p,s){var r=d(p);s=d.isFunction(H[s])?H[s]:H.toggle,0<r.length?(H.debug("Attaching checkbox events to element",p,s),r.on("click"+k,s)):H.error(B.notFound)},event:{click:function(p){var r=d(p.target);r.is(E.input)?H.verbose("Using default check action on initialized checkbox"):r.is(E.link)?H.debug("Clicking link inside checkbox, skipping toggle"):(H.toggle(),v.focus(),p.preventDefault())},keydown:function(p){var u=p.which,s=13,r=32;y=u==27?(H.verbose("Escape key pressed blurring field"),v.blur(),!0):!(p.ctrlKey||u!=r&&u!=s)&&(H.verbose("Enter/space key pressed, toggling checkbox"),H.toggle(),!0)},keyup:function(p){y&&p.preventDefault()}},check:function(){H.should.allowCheck()&&(H.debug("Checking checkbox",v),H.set.checked(),H.should.ignoreCallbacks()||(A.onChecked.call(x),A.onChange.call(x)))},uncheck:function(){H.should.allowUncheck()&&(H.debug("Unchecking checkbox"),H.set.unchecked(),H.should.ignoreCallbacks()||(A.onUnchecked.call(x),A.onChange.call(x)))},indeterminate:function(){H.should.allowIndeterminate()?H.debug("Checkbox is already indeterminate"):(H.debug("Making checkbox indeterminate"),H.set.indeterminate(),H.should.ignoreCallbacks()||(A.onIndeterminate.call(x),A.onChange.call(x)))},determinate:function(){H.should.allowDeterminate()?H.debug("Checkbox is already determinate"):(H.debug("Making checkbox determinate"),H.set.determinate(),H.should.ignoreCallbacks()||(A.onDeterminate.call(x),A.onChange.call(x)))},enable:function(){H.is.enabled()?H.debug("Checkbox is already enabled"):(H.debug("Enabling checkbox"),H.set.enabled(),A.onEnable.call(x),A.onEnabled.call(x))},disable:function(){H.is.disabled()?H.debug("Checkbox is already disabled"):(H.debug("Disabling checkbox"),H.set.disabled(),A.onDisable.call(x),A.onDisabled.call(x))},get:{radios:function(){var p=H.get.name();return d('input[name="'+p+'"]').closest(E.checkbox)},otherRadios:function(){return H.get.radios().not(q)},name:function(){return v.attr("name")}},is:{initialLoad:function(){return C},radio:function(){return v.hasClass(I.radio)||"radio"==v.attr("type")},indeterminate:function(){return v.prop("indeterminate")!==b&&v.prop("indeterminate")},checked:function(){return v.prop("checked")!==b&&v.prop("checked")},disabled:function(){return v.prop("disabled")!==b&&v.prop("disabled")},enabled:function(){return !H.is.disabled()},determinate:function(){return !H.is.indeterminate()},unchecked:function(){return !H.is.checked()}},should:{allowCheck:function(){return H.is.determinate()&&H.is.checked()&&!H.should.forceCallbacks()?(H.debug("Should not allow check, checkbox is already checked"),!1):!1!==A.beforeChecked.apply(x)||(H.debug("Should not allow check, beforeChecked cancelled"),!1)},allowUncheck:function(){return H.is.determinate()&&H.is.unchecked()&&!H.should.forceCallbacks()?(H.debug("Should not allow uncheck, checkbox is already unchecked"),!1):!1!==A.beforeUnchecked.apply(x)||(H.debug("Should not allow uncheck, beforeUnchecked cancelled"),!1)},allowIndeterminate:function(){return H.is.indeterminate()&&!H.should.forceCallbacks()?(H.debug("Should not allow indeterminate, checkbox is already indeterminate"),!1):!1!==A.beforeIndeterminate.apply(x)||(H.debug("Should not allow indeterminate, beforeIndeterminate cancelled"),!1)},allowDeterminate:function(){return H.is.determinate()&&!H.should.forceCallbacks()?(H.debug("Should not allow determinate, checkbox is already determinate"),!1):!1!==A.beforeDeterminate.apply(x)||(H.debug("Should not allow determinate, beforeDeterminate cancelled"),!1)},forceCallbacks:function(){return H.is.initialLoad()&&A.fireOnInit},ignoreCallbacks:function(){return C&&!A.fireOnInit}},can:{change:function(){return !(q.hasClass(I.disabled)||q.hasClass(I.readOnly)||v.prop("disabled")||v.prop("readonly"))},uncheck:function(){return"boolean"==typeof A.uncheckable?A.uncheckable:!H.is.radio()}},set:{initialLoad:function(){C=!0},checked:function(){H.verbose("Setting class to checked"),q.removeClass(I.indeterminate).addClass(I.checked),H.is.radio()&&H.uncheckOthers(),H.is.indeterminate()||!H.is.checked()?(H.verbose("Setting state to checked",x),v.prop("indeterminate",!1).prop("checked",!0),H.trigger.change()):H.debug("Input is already checked, skipping input property change")},unchecked:function(){H.verbose("Removing checked class"),q.removeClass(I.indeterminate).removeClass(I.checked),H.is.indeterminate()||!H.is.unchecked()?(H.debug("Setting state to unchecked"),v.prop("indeterminate",!1).prop("checked",!1),H.trigger.change()):H.debug("Input is already unchecked")},indeterminate:function(){H.verbose("Setting class to indeterminate"),q.addClass(I.indeterminate),H.is.indeterminate()?H.debug("Input is already indeterminate, skipping input property change"):(H.debug("Setting state to indeterminate"),v.prop("indeterminate",!0),H.trigger.change())},determinate:function(){H.verbose("Removing indeterminate class"),q.removeClass(I.indeterminate),H.is.determinate()?H.debug("Input is already determinate, skipping input property change"):(H.debug("Setting state to determinate"),v.prop("indeterminate",!1))},disabled:function(){H.verbose("Setting class to disabled"),q.addClass(I.disabled),H.is.disabled()?H.debug("Input is already disabled, skipping input property change"):(H.debug("Setting state to disabled"),v.prop("disabled","disabled"),H.trigger.change())},enabled:function(){H.verbose("Removing disabled class"),q.removeClass(I.disabled),H.is.enabled()?H.debug("Input is already enabled, skipping input property change"):(H.debug("Setting state to enabled"),v.prop("disabled",!1),H.trigger.change())},tabbable:function(){H.verbose("Adding tabindex to checkbox"),v.attr("tabindex")===b&&v.attr("tabindex",0)}},remove:{initialLoad:function(){C=!1}},trigger:{change:function(){var p=c.createEvent("HTMLEvents"),r=v[0];r&&(H.verbose("Triggering native change event"),p.initEvent("change",!0,!1),r.dispatchEvent(p))}},create:{label:function(){0<v.prevAll(E.label).length?(v.prev(E.label).detach().insertAfter(v),H.debug("Moving existing label",J)):H.has.label()||(J=d("<label>").insertAfter(v),H.debug("Creating label",J))}},has:{label:function(){return 0<J.length}},bind:{events:function(){H.verbose("Attaching checkbox events"),q.on("click"+k,H.event.click).on("keydown"+k,E.input,H.event.keydown).on("keyup"+k,E.input,H.event.keyup)}},unbind:{events:function(){H.debug("Removing events"),q.off(k)}},uncheckOthers:function(){var p=H.get.otherRadios();H.debug("Unchecking other radios",p),p.removeClass(I.checked)},toggle:function(){H.can.change()?H.is.indeterminate()||H.is.unchecked()?(H.debug("Currently unchecked"),H.check()):H.is.checked()&&H.can.uncheck()&&(H.debug("Currently checked"),H.uncheck()):H.is.radio()||H.debug("Checkbox is read-only or disabled, ignoring toggle")},setting:function(p,r){if(H.debug("Changing setting",p,r),d.isPlainObject(p)){d.extend(!0,A,p)}else{if(r===b){return A[p]}d.isPlainObject(A[p])?d.extend(!0,A[p],r):A[p]=r}},internal:function(p,r){if(d.isPlainObject(p)){d.extend(!0,H,p)}else{if(r===b){return H[p]}H[p]=r}},debug:function(){!A.silent&&A.debug&&(A.performance?H.performance.log(arguments):(H.debug=Function.prototype.bind.call(console.info,console,A.name+":"),H.debug.apply(console,arguments)))},verbose:function(){!A.silent&&A.verbose&&A.debug&&(A.performance?H.performance.log(arguments):(H.verbose=Function.prototype.bind.call(console.info,console,A.name+":"),H.verbose.apply(console,arguments)))},error:function(){A.silent||(H.error=Function.prototype.bind.call(console.error,console,A.name+":"),H.error.apply(console,arguments))},performance:{log:function(p){var s,r;A.performance&&(r=(s=(new Date).getTime())-(n||s),n=s,g.push({Name:p[0],Arguments:[].slice.call(p,1)||"",Element:z,"Execution Time":r})),clearTimeout(H.performance.timer),H.performance.timer=setTimeout(H.performance.display,500)},display:function(){var p=A.name+":",r=0;n=!1,clearTimeout(H.performance.timer),d.each(g,function(s,u){r+=u["Execution Time"]}),p+=" "+r+"ms",o&&(p+=" '"+o+"'"),(console.group!==b||console.table!==b)&&0<g.length&&(console.groupCollapsed(p),console.table?console.table(g):d.each(g,function(s,u){console.log(u.Name+": "+u["Execution Time"]+"ms")}),console.groupEnd()),g=[]}},invoke:function(u,s,N){var L,p,K,M=F;return s=s||i,N=z||N,"string"==typeof u&&M!==b&&(u=u.split(/[\. ]/),L=u.length-1,d.each(u,function(r,P){var O=r!=L?P+u[r+1].charAt(0).toUpperCase()+u[r+1].slice(1):u;if(d.isPlainObject(M[O])&&r!=L){M=M[O]}else{if(M[O]!==b){return p=M[O],!1}if(!d.isPlainObject(M[P])||r==L){return M[P]!==b?p=M[P]:H.error(B.method,u),!1}M=M[P]}})),d.isFunction(p)?K=p.apply(N,s):p!==b&&(K=p),d.isArray(f)?f.push(K):f!==b?f=[f,K]:K!==b&&(f=K),p}},j?(F===b&&H.initialize(),H.invoke(m)):(F!==b&&F.invoke("destroy"),H.initialize())}),f!==b?f:this},d.fn.checkbox.settings={name:"Checkbox",namespace:"checkbox",silent:!1,debug:!1,verbose:!0,performance:!0,uncheckable:"auto",fireOnInit:!1,onChange:function(){},beforeChecked:function(){},beforeUnchecked:function(){},beforeDeterminate:function(){},beforeIndeterminate:function(){},onChecked:function(){},onUnchecked:function(){},onDeterminate:function(){},onIndeterminate:function(){},onEnable:function(){},onDisable:function(){},onEnabled:function(){},onDisabled:function(){},className:{checked:"checked",indeterminate:"indeterminate",disabled:"disabled",hidden:"hidden",radio:"radio",readOnly:"read-only"},error:{method:"The method you called is not defined"},selector:{checkbox:".ui.checkbox",label:"label, .box",input:'input[type="checkbox"], input[type="radio"]',link:"a[href]"}}}(jQuery,window,document),function(c,a,b,d){a=void 0!==a&&a.Math==Math?a:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),c.fn.dimmer=function(i){var g,j=c(this),e=(new Date).getTime(),m=[],l=i,f="string"==typeof l,k=[].slice.call(arguments,1);return j.each(function(){var h,F,E,D=c.isPlainObject(i)?c.extend(!0,{},c.fn.dimmer.settings,i):c.extend({},c.fn.dimmer.settings),B=D.selector,v=D.namespace,y=D.className,z=D.error,C="."+v,p="module-"+v,G=j.selector||"",q="ontouchstart" in b.documentElement?"touchstart":"click",w=c(this),A=this,x=w.data(p);(E={preinitialize:function(){h=E.is.dimmer()?(F=w.parent(),w):(F=w,E.has.dimmer()?D.dimmerName?F.find(B.dimmer).filter("."+D.dimmerName):F.find(B.dimmer):E.create())},initialize:function(){E.debug("Initializing dimmer",D),E.bind.events(),E.set.dimmable(),E.instantiate()},instantiate:function(){E.verbose("Storing instance of module",E),x=E,w.data(p,x)},destroy:function(){E.verbose("Destroying previous module",h),E.unbind.events(),E.remove.variation(),F.off(C)},bind:{events:function(){"hover"==D.on?F.on("mouseenter"+C,E.show).on("mouseleave"+C,E.hide):"click"==D.on&&F.on(q+C,E.toggle),E.is.page()&&(E.debug("Setting as a page dimmer",F),E.set.pageDimmer()),E.is.closable()&&(E.verbose("Adding dimmer close event",h),F.on(q+C,B.dimmer,E.event.click))}},unbind:{events:function(){w.removeData(p),F.off(C)}},event:{click:function(n){E.verbose("Determining if event occured on dimmer",n),(0===h.find(n.target).length||c(n.target).is(B.content))&&(E.hide(),n.stopImmediatePropagation())}},addContent:function(n){var o=c(n);E.debug("Add content to dimmer",o),o.parent()[0]!==h[0]&&o.detach().appendTo(h)},create:function(){var n=c(D.template.dimmer());return D.dimmerName&&(E.debug("Creating named dimmer",D.dimmerName),n.addClass(D.dimmerName)),n.appendTo(F),n},show:function(n){n=c.isFunction(n)?n:function(){},E.debug("Showing dimmer",h,D),E.set.variation(),E.is.dimmed()&&!E.is.animating()||!E.is.enabled()?E.debug("Dimmer is already shown or disabled"):(E.animate.show(n),D.onShow.call(A),D.onChange.call(A))},hide:function(n){n=c.isFunction(n)?n:function(){},E.is.dimmed()||E.is.animating()?(E.debug("Hiding dimmer",h),E.animate.hide(n),D.onHide.call(A),D.onChange.call(A)):E.debug("Dimmer is not visible")},toggle:function(){E.verbose("Toggling dimmer visibility",h),E.is.dimmed()?E.hide():E.show()},animate:{show:function(n){n=c.isFunction(n)?n:function(){},D.useCSS&&c.fn.transition!==d&&h.transition("is supported")?(D.useFlex?(E.debug("Using flex dimmer"),E.remove.legacy()):(E.debug("Using legacy non-flex dimmer"),E.set.legacy()),"auto"!==D.opacity&&E.set.opacity(),h.transition({displayType:D.useFlex?"flex":"block",animation:D.transition+" in",queue:!1,duration:E.get.duration(),useFailSafe:!0,onStart:function(){E.set.dimmed()},onComplete:function(){E.set.active(),n()}})):(E.verbose("Showing dimmer animation with javascript"),E.set.dimmed(),"auto"==D.opacity&&(D.opacity=0.8),h.stop().css({opacity:0,width:"100%",height:"100%"}).fadeTo(E.get.duration(),D.opacity,function(){h.removeAttr("style"),E.set.active(),n()}))},hide:function(n){n=c.isFunction(n)?n:function(){},D.useCSS&&c.fn.transition!==d&&h.transition("is supported")?(E.verbose("Hiding dimmer with css"),h.transition({displayType:D.useFlex?"flex":"block",animation:D.transition+" out",queue:!1,duration:E.get.duration(),useFailSafe:!0,onStart:function(){E.remove.dimmed()},onComplete:function(){E.remove.variation(),E.remove.active(),n()}})):(E.verbose("Hiding dimmer with javascript"),E.remove.dimmed(),h.stop().fadeOut(E.get.duration(),function(){E.remove.active(),h.removeAttr("style"),n()}))}},get:{dimmer:function(){return h},duration:function(){return"object"==typeof D.duration?E.is.active()?D.duration.hide:D.duration.show:D.duration}},has:{dimmer:function(){return D.dimmerName?0<w.find(B.dimmer).filter("."+D.dimmerName).length:0<w.find(B.dimmer).length}},is:{active:function(){return h.hasClass(y.active)},animating:function(){return h.is(":animated")||h.hasClass(y.animating)},closable:function(){return"auto"==D.closable?"hover"!=D.on:D.closable},dimmer:function(){return w.hasClass(y.dimmer)},dimmable:function(){return w.hasClass(y.dimmable)},dimmed:function(){return F.hasClass(y.dimmed)},disabled:function(){return F.hasClass(y.disabled)},enabled:function(){return !E.is.disabled()},page:function(){return F.is("body")},pageDimmer:function(){return h.hasClass(y.pageDimmer)}},can:{show:function(){return !h.hasClass(y.disabled)}},set:{opacity:function(r){var I=h.css("background-color"),u=I.split(","),s=u&&3==u.length,H=u&&4==u.length;r=0===D.opacity?0:D.opacity||r,I=s||H?(u[3]=r+")",u.join(",")):"rgba(0, 0, 0, "+r+")",E.debug("Setting opacity to",r),h.css("background-color",I)},legacy:function(){h.addClass(y.legacy)},active:function(){h.addClass(y.active)},dimmable:function(){F.addClass(y.dimmable)},dimmed:function(){F.addClass(y.dimmed)},pageDimmer:function(){h.addClass(y.pageDimmer)},disabled:function(){h.addClass(y.disabled)},variation:function(n){(n=n||D.variation)&&h.addClass(n)}},remove:{active:function(){h.removeClass(y.active)},legacy:function(){h.removeClass(y.legacy)},dimmed:function(){F.removeClass(y.dimmed)},disabled:function(){h.removeClass(y.disabled)},variation:function(n){(n=n||D.variation)&&h.removeClass(n)}},setting:function(n,o){if(E.debug("Changing setting",n,o),c.isPlainObject(n)){c.extend(!0,D,n)}else{if(o===d){return D[n]}c.isPlainObject(D[n])?c.extend(!0,D[n],o):D[n]=o}},internal:function(n,o){if(c.isPlainObject(n)){c.extend(!0,E,n)}else{if(o===d){return E[n]}E[n]=o}},debug:function(){!D.silent&&D.debug&&(D.performance?E.performance.log(arguments):(E.debug=Function.prototype.bind.call(console.info,console,D.name+":"),E.debug.apply(console,arguments)))},verbose:function(){!D.silent&&D.verbose&&D.debug&&(D.performance?E.performance.log(arguments):(E.verbose=Function.prototype.bind.call(console.info,console,D.name+":"),E.verbose.apply(console,arguments)))},error:function(){D.silent||(E.error=Function.prototype.bind.call(console.error,console,D.name+":"),E.error.apply(console,arguments))},performance:{log:function(o){var s,r;D.performance&&(r=(s=(new Date).getTime())-(e||s),e=s,m.push({Name:o[0],Arguments:[].slice.call(o,1)||"",Element:A,"Execution Time":r})),clearTimeout(E.performance.timer),E.performance.timer=setTimeout(E.performance.display,500)},display:function(){var o=D.name+":",r=0;e=!1,clearTimeout(E.performance.timer),c.each(m,function(n,s){r+=s["Execution Time"]}),o+=" "+r+"ms",G&&(o+=" '"+G+"'"),1<j.length&&(o+=" ("+j.length+")"),(console.group!==d||console.table!==d)&&0<m.length&&(console.groupCollapsed(o),console.table?console.table(m):c.each(m,function(n,s){console.log(s.Name+": "+s["Execution Time"]+"ms")}),console.groupEnd()),m=[]}},invoke:function(H,u,L){var J,s,I,K=x;return u=u||k,L=A||L,"string"==typeof H&&K!==d&&(H=H.split(/[\. ]/),J=H.length-1,c.each(H,function(o,M){var r=o!=J?M+H[o+1].charAt(0).toUpperCase()+H[o+1].slice(1):H;if(c.isPlainObject(K[r])&&o!=J){K=K[r]}else{if(K[r]!==d){return s=K[r],!1}if(!c.isPlainObject(K[M])||o==J){return K[M]!==d?s=K[M]:E.error(z.method,H),!1}K=K[M]}})),c.isFunction(s)?I=s.apply(L,u):s!==d&&(I=s),c.isArray(g)?g.push(I):g!==d?g=[g,I]:I!==d&&(g=I),s}}).preinitialize(),f?(x===d&&E.initialize(),E.invoke(l)):(x!==d&&x.invoke("destroy"),E.initialize())}),g!==d?g:this},c.fn.dimmer.settings={name:"Dimmer",namespace:"dimmer",silent:!1,debug:!1,verbose:!1,performance:!0,useFlex:!0,dimmerName:!1,variation:!1,closable:"auto",useCSS:!0,transition:"fade",on:!1,opacity:"auto",duration:{show:500,hide:500},onChange:function(){},onShow:function(){},onHide:function(){},error:{method:"The method you called is not defined."},className:{active:"active",animating:"animating",dimmable:"dimmable",dimmed:"dimmed",dimmer:"dimmer",disabled:"disabled",hide:"hide",legacy:"legacy",pageDimmer:"page",show:"show"},selector:{dimmer:"> .ui.dimmer",content:".ui.dimmer > .content, .ui.dimmer > .content > .center"},template:{dimmer:function(){return c("<div />").attr("class","ui dimmer")}}}}(jQuery,window,document),function(c,d,b,a){d=void 0!==d&&d.Math==Math?d:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),c.fn.dropdown=function(i){var h,m=c(this),j=c(b),g=m.selector||"",l="ontouchstart" in b.documentElement,n=(new Date).getTime(),f=[],k=i,o="string"==typeof k,e=[].slice.call(arguments,1);return m.each(function(ae){var N,ao,Y,af,B,ak,am,W,ah=c.isPlainObject(i)?c.extend(!0,{},c.fn.dropdown.settings,i):c.extend({},c.fn.dropdown.settings),X=ah.className,J=ah.message,ac=ah.fields,ar=ah.keys,H=ah.metadata,aq=ah.namespace,L=ah.regExp,av=ah.selector,U=ah.error,ad=ah.templates,au="."+aq,K="module-"+aq,at=c(this),an=c(ah.context),ab=at.find(av.text),ap=at.find(av.search),G=at.find(av.sizer),al=at.find(av.input),ai=at.find(av.icon),Q=0<at.prev().find(av.text).length?at.prev().find(av.text):at.prev(),V=at.children(av.menu),ag=V.find(av.item),M=!1,aj=!1,aa=!1,aw=this,Z=at.data(K);W={initialize:function(){W.debug("Initializing dropdown",ah),W.is.alreadySetup()?W.setup.reference():(W.setup.layout(),ah.values&&W.change.values(ah.values),W.refreshData(),W.save.defaults(),W.restore.selected(),W.create.id(),W.bind.events(),W.observeChanges(),W.instantiate())},instantiate:function(){W.verbose("Storing instance of dropdown",W),Z=W,at.data(K,W)},destroy:function(){W.verbose("Destroying previous dropdown",at),W.remove.tabbable(),at.off(au).removeData(K),V.off(au),j.off(af),W.disconnect.menuObserver(),W.disconnect.selectObserver()},observeChanges:function(){"MutationObserver" in d&&(ak=new MutationObserver(W.event.select.mutation),am=new MutationObserver(W.event.menu.mutation),W.debug("Setting up mutation observer",ak,am),W.observe.select(),W.observe.menu())},disconnect:{menuObserver:function(){am&&am.disconnect()},selectObserver:function(){ak&&ak.disconnect()}},observe:{select:function(){W.has.input()&&ak.observe(at[0],{childList:!0,subtree:!0})},menu:function(){W.has.menu()&&am.observe(V[0],{childList:!0,subtree:!0})}},create:{id:function(){B=(Math.random().toString(16)+"000000000").substr(2,8),af="."+B,W.verbose("Creating unique id for element",B)},userChoice:function(p){var r,q,s;return !!(p=p||W.get.userValues())&&(p=c.isArray(p)?p:[p],c.each(p,function(u,v){!1===W.get.item(v)&&(s=ah.templates.addition(W.add.variables(J.addResult,v)),q=c("<div />").html(s).attr("data-"+H.value,v).attr("data-"+H.text,v).addClass(X.addition).addClass(X.item),ah.hideAdditions&&q.addClass(X.hidden),r=r===a?q:r.add(q),W.verbose("Creating user choices for value",v,q))}),r)},userLabels:function(p){var q=W.get.userValues();q&&(W.debug("Adding user labels",q),c.each(q,function(r,s){W.verbose("Adding custom user value"),W.add.label(s,s)}))},menu:function(){V=c("<div />").addClass(X.menu).appendTo(at)},sizer:function(){G=c("<span />").addClass(X.sizer).insertAfter(ap)}},search:function(p){p=p!==a?p:W.get.query(),W.verbose("Searching for query",p),W.has.minCharacters(p)?W.filter(p):W.hide()},select:{firstUnfiltered:function(){W.verbose("Selecting first non-filtered element"),W.remove.selectedItem(),ag.not(av.unselectable).not(av.addition+av.hidden).eq(0).addClass(X.selected)},nextAvailable:function(p){var r=(p=p.eq(0)).nextAll(av.item).not(av.unselectable).eq(0),q=p.prevAll(av.item).not(av.unselectable).eq(0);0<r.length?(W.verbose("Moving selection to",r),r.addClass(X.selected)):(W.verbose("Moving selection to",q),q.addClass(X.selected))}},setup:{api:function(){var p={debug:ah.debug,urlData:{value:W.get.value(),query:W.get.query()},on:!1};W.verbose("First request, initializing API"),at.api(p)},layout:function(){at.is("select")&&(W.setup.select(),W.setup.returnedObject()),W.has.menu()||W.create.menu(),W.is.search()&&!W.has.search()&&(W.verbose("Adding search input"),ap=c("<input />").addClass(X.search).prop("autocomplete","off").insertBefore(ab)),W.is.multiple()&&W.is.searchSelection()&&!W.has.sizer()&&W.create.sizer(),ah.allowTab&&W.set.tabbable()},select:function(){var p=W.get.selectValues();W.debug("Dropdown initialized on a select",p),at.is("select")&&(al=at),0<al.parent(av.dropdown).length?(W.debug("UI dropdown already exists. Creating dropdown menu only"),at=al.closest(av.dropdown),W.has.menu()||W.create.menu(),V=at.children(av.menu),W.setup.menu(p)):(W.debug("Creating entire dropdown from select"),at=c("<div />").attr("class",al.attr("class")).addClass(X.selection).addClass(X.dropdown).html(ad.dropdown(p)).insertBefore(al),al.hasClass(X.multiple)&&!1===al.prop("multiple")&&(W.error(U.missingMultiple),al.prop("multiple",!0)),al.is("[multiple]")&&W.set.multiple(),al.prop("disabled")&&(W.debug("Disabling dropdown"),at.addClass(X.disabled)),al.removeAttr("class").detach().prependTo(at)),W.refresh()},menu:function(p){V.html(ad.menu(p,ac)),ag=V.find(av.item)},reference:function(){W.debug("Dropdown behavior was called on select, replacing with closest dropdown"),at=at.parent(av.dropdown),Z=at.data(K),aw=at.get(0),W.refresh(),W.setup.returnedObject()},returnedObject:function(){var p=m.slice(0,ae),q=m.slice(ae+1);m=p.add(at).add(q)}},refresh:function(){W.refreshSelectors(),W.refreshData()},refreshItems:function(){ag=V.find(av.item)},refreshSelectors:function(){W.verbose("Refreshing selector cache"),ab=at.find(av.text),ap=at.find(av.search),al=at.find(av.input),ai=at.find(av.icon),Q=0<at.prev().find(av.text).length?at.prev().find(av.text):at.prev(),V=at.children(av.menu),ag=V.find(av.item)},refreshData:function(){W.verbose("Refreshing cached metadata"),ag.removeData(H.text).removeData(H.value)},clearData:function(){W.verbose("Clearing metadata"),ag.removeData(H.text).removeData(H.value),at.removeData(H.defaultText).removeData(H.defaultValue).removeData(H.placeholderText)},toggle:function(){W.verbose("Toggling menu visibility"),W.is.active()?W.hide():W.show()},show:function(p){if(p=c.isFunction(p)?p:function(){},!W.can.show()&&W.is.remote()&&(W.debug("No API results retrieved, searching before show"),W.queryRemote(W.get.query(),W.show)),W.can.show()&&!W.is.active()){if(W.debug("Showing dropdown"),!W.has.message()||W.has.maxSelections()||W.has.allResultsFiltered()||W.remove.message(),W.is.allFiltered()){return !0}!1!==ah.onShow.call(aw)&&W.animate.show(function(){W.can.click()&&W.bind.intent(),W.has.menuSearch()&&W.focusSearch(),W.set.visible(),p.call(aw)})}},hide:function(p){p=c.isFunction(p)?p:function(){},W.is.active()&&!W.is.animatingOutward()&&(W.debug("Hiding dropdown"),!1!==ah.onHide.call(aw)&&W.animate.hide(function(){W.remove.visible(),p.call(aw)}))},hideOthers:function(){W.verbose("Finding other dropdowns to hide"),m.not(at).has(av.menu+"."+X.visible).dropdown("hide")},hideMenu:function(){W.verbose("Hiding menu  instantaneously"),W.remove.active(),W.remove.visible(),V.transition("hide")},hideSubMenus:function(){var p=V.children(av.item).find(av.menu);W.verbose("Hiding sub menus",p),p.transition("hide")},bind:{events:function(){l&&W.bind.touchEvents(),W.bind.keyboardEvents(),W.bind.inputEvents(),W.bind.mouseEvents()},touchEvents:function(){W.debug("Touch device detected binding additional touch events"),W.is.searchSelection()||W.is.single()&&at.on("touchstart"+au,W.event.test.toggle),V.on("touchstart"+au,av.item,W.event.item.mouseenter)},keyboardEvents:function(){W.verbose("Binding keyboard events"),at.on("keydown"+au,W.event.keydown),W.has.search()&&at.on(W.get.inputEvent()+au,av.search,W.event.input),W.is.multiple()&&j.on("keydown"+af,W.event.document.keydown)},inputEvents:function(){W.verbose("Binding input change events"),at.on("change"+au,av.input,W.event.change)},mouseEvents:function(){W.verbose("Binding mouse events"),W.is.multiple()&&at.on("click"+au,av.label,W.event.label.click).on("click"+au,av.remove,W.event.remove.click),W.is.searchSelection()?(at.on("mousedown"+au,W.event.mousedown).on("mouseup"+au,W.event.mouseup).on("mousedown"+au,av.menu,W.event.menu.mousedown).on("mouseup"+au,av.menu,W.event.menu.mouseup).on("click"+au,av.icon,W.event.icon.click).on("focus"+au,av.search,W.event.search.focus).on("click"+au,av.search,W.event.search.focus).on("blur"+au,av.search,W.event.search.blur).on("click"+au,av.text,W.event.text.focus),W.is.multiple()&&at.on("click"+au,W.event.click)):("click"==ah.on?at.on("click"+au,W.event.test.toggle):"hover"==ah.on?at.on("mouseenter"+au,W.delay.show).on("mouseleave"+au,W.delay.hide):at.on(ah.on+au,W.toggle),at.on("click"+au,av.icon,W.event.icon.click).on("mousedown"+au,W.event.mousedown).on("mouseup"+au,W.event.mouseup).on("focus"+au,W.event.focus),W.has.menuSearch()?at.on("blur"+au,av.search,W.event.search.blur):at.on("blur"+au,W.event.blur)),V.on("mouseenter"+au,av.item,W.event.item.mouseenter).on("mouseleave"+au,av.item,W.event.item.mouseleave).on("click"+au,av.item,W.event.item.click)},intent:function(){W.verbose("Binding hide intent event to document"),l&&j.on("touchstart"+af,W.event.test.touch).on("touchmove"+af,W.event.test.touch),j.on("click"+af,W.event.test.hide)}},unbind:{intent:function(){W.verbose("Removing hide intent event from document"),l&&j.off("touchstart"+af).off("touchmove"+af),j.off("click"+af)}},filter:function(p){var r=p!==a?p:W.get.query(),q=function(){W.is.multiple()&&W.filterActive(),(p||!p&&0==W.get.activeItem().length)&&W.select.firstUnfiltered(),W.has.allResultsFiltered()?ah.onNoResults.call(aw,r)?ah.allowAdditions?ah.hideAdditions&&(W.verbose("User addition with no menu, setting empty style"),W.set.empty(),W.hideMenu()):(W.verbose("All items filtered, showing message",r),W.add.message(J.noResults)):(W.verbose("All items filtered, hiding dropdown",r),W.hideMenu()):(W.remove.empty(),W.remove.message()),ah.allowAdditions&&W.add.userSuggestion(p),W.is.searchSelection()&&W.can.show()&&W.is.focusedOnSearch()&&W.show()};ah.useLabels&&W.has.maxSelections()||(ah.apiSettings?W.can.useAPI()?W.queryRemote(r,function(){ah.filterRemoteData&&W.filterItems(r),q()}):W.error(U.noAPI):(W.filterItems(r),q()))},queryRemote:function(p,q){var r={errorDuration:!1,cache:"local",throttle:ah.throttle,urlData:{query:p},onError:function(){W.add.message(J.serverError),q()},onFailure:function(){W.add.message(J.serverError),q()},onSuccess:function(s){var u=s[ac.remoteValues];c.isArray(u)&&0<u.length?(W.remove.message(),W.setup.menu({values:s[ac.remoteValues]})):W.add.message(J.noResults),q()}};at.api("get request")||W.setup.api(),r=c.extend(!0,{},r,ah.apiSettings),at.api("setting",r).api("query")},filterItems:function(q){var r=q!==a?q:W.get.query(),s=null,u=W.escape.string(r),p=new RegExp("^"+u,"igm");W.has.query()&&(s=[],W.verbose("Searching for matching values",r),ag.each(function(){var v,x,w=c(this);if("both"==ah.match||"text"==ah.match){if(-1!==(v=String(W.get.choiceText(w,!1))).search(p)){return s.push(this),!0}if("exact"===ah.fullTextSearch&&W.exactSearch(r,v)){return s.push(this),!0}if(!0===ah.fullTextSearch&&W.fuzzySearch(r,v)){return s.push(this),!0}}if("both"==ah.match||"value"==ah.match){if(-1!==(x=String(W.get.choiceValue(w,v))).search(p)){return s.push(this),!0}if("exact"===ah.fullTextSearch&&W.exactSearch(r,x)){return s.push(this),!0}if(!0===ah.fullTextSearch&&W.fuzzySearch(r,x)){return s.push(this),!0}}})),W.debug("Showing only matched items",r),W.remove.filteredItem(),s&&ag.not(s).addClass(X.filtered)},fuzzySearch:function(q,x){var u=x.length,s=q.length;if(q=q.toLowerCase(),x=x.toLowerCase(),u<s){return !1}if(s===u){return q===x}q:for(var v=0,p=0;v<s;v++){for(var w=q.charCodeAt(v);p<u;){if(x.charCodeAt(p++)===w){continue q}}return !1}return !0},exactSearch:function(p,q){return p=p.toLowerCase(),-1<(q=q.toLowerCase()).indexOf(p)},filterActive:function(){ah.useLabels&&ag.filter("."+X.active).addClass(X.filtered)},focusSearch:function(p){W.has.search()&&!W.is.focusedOnSearch()&&(p?(at.off("focus"+au,av.search),ap.focus(),at.on("focus"+au,av.search,W.event.search.focus)):ap.focus())},forceSelection:function(){var p=ag.not(X.filtered).filter("."+X.selected).eq(0),r=ag.not(X.filtered).filter("."+X.active).eq(0),q=0<p.length?p:r;if(0<q.length&&!W.is.multiple()){return W.debug("Forcing partial selection to selected item",q),void W.event.item.click.call(q,{},!0)}ah.allowAdditions&&W.set.selected(W.get.query()),W.remove.searchTerm()},change:{values:function(p){ah.allowAdditions||W.clear(),W.debug("Creating dropdown with specified values",p),W.setup.menu({values:p}),c.each(p,function(q,r){if(1==r.selected){return W.debug("Setting initial selection to",r.value),W.set.selected(r.value),!0}})}},event:{change:function(){aa||(W.debug("Input changed, updating selection"),W.set.selected())},focus:function(){ah.showOnFocus&&!M&&W.is.hidden()&&!ao&&W.show()},blur:function(p){ao=b.activeElement===this,M||ao||(W.remove.activeLabel(),W.hide())},mousedown:function(){W.is.searchSelection()?Y=!0:M=!0},mouseup:function(){W.is.searchSelection()?Y=!1:M=!1},click:function(p){c(p.target).is(at)&&(W.is.focusedOnSearch()?W.show():W.focusSearch())},search:{focus:function(){M=!0,W.is.multiple()&&W.remove.activeLabel(),ah.showOnFocus&&W.search()},blur:function(p){ao=b.activeElement===this,W.is.searchSelection()&&!Y&&(aj||ao||(ah.forceSelection&&W.forceSelection(),W.hide())),Y=!1}},icon:{click:function(p){ai.hasClass(X.clear)?W.clear():W.can.click()&&W.toggle()}},text:{focus:function(p){M=!0,W.focusSearch()}},input:function(p){(W.is.multiple()||W.is.searchSelection())&&W.set.filtered(),clearTimeout(W.timer),W.timer=setTimeout(W.search,ah.delay.search)},label:{click:function(q){var x=c(this),u=at.find(av.label),s=u.filter("."+X.active),v=x.nextAll("."+X.active),p=x.prevAll("."+X.active),w=0<v.length?x.nextUntil(v).add(s).add(x):x.prevUntil(p).add(s).add(x);q.shiftKey?(s.removeClass(X.active),w.addClass(X.active)):q.ctrlKey?x.toggleClass(X.active):(s.removeClass(X.active),x.addClass(X.active)),ah.onLabelSelect.apply(this,u.filter("."+X.active))}},remove:{click:function(){var p=c(this).parent();p.hasClass(X.active)?W.remove.activeLabels():W.remove.activeLabels(p)}},test:{toggle:function(p){var q=W.is.multiple()?W.show:W.toggle;W.is.bubbledLabelClick(p)||W.is.bubbledIconClick(p)||W.determine.eventOnElement(p,q)&&p.preventDefault()},touch:function(p){W.determine.eventOnElement(p,function(){"touchstart"==p.type?W.timer=setTimeout(function(){W.hide()},ah.delay.touch):"touchmove"==p.type&&clearTimeout(W.timer)}),p.stopPropagation()},hide:function(p){W.determine.eventInModule(p,W.hide)}},select:{mutation:function(p){W.debug("<select> modified, recreating menu");var q=!1;c.each(p,function(r,s){if(c(s.target).is("select")||c(s.addedNodes).is("select")){return q=!0}}),q&&(W.disconnect.selectObserver(),W.refresh(),W.setup.select(),W.set.selected(),W.observe.select())}},menu:{mutation:function(q){var x=q[0],u=x.addedNodes?c(x.addedNodes[0]):c(!1),s=x.removedNodes?c(x.removedNodes[0]):c(!1),v=u.add(s),p=v.is(av.addition)||0<v.closest(av.addition).length,w=v.is(av.message)||0<v.closest(av.message).length;p||w?(W.debug("Updating item selector cache"),W.refreshItems()):(W.debug("Menu modified, updating selector cache"),W.refresh())},mousedown:function(){aj=!0},mouseup:function(){aj=!1}},item:{mouseenter:function(q){var v=c(q.target),s=c(this),r=s.children(av.menu),u=s.siblings(av.item).children(av.menu),p=0<r.length;!(0<r.find(v).length)&&p&&(clearTimeout(W.itemTimer),W.itemTimer=setTimeout(function(){W.verbose("Showing sub-menu",r),c.each(u,function(){W.animate.hide(!1,c(this))}),W.animate.show(!1,r)},ah.delay.show),q.preventDefault())},mouseleave:function(p){var q=c(this).children(av.menu);0<q.length&&(clearTimeout(W.itemTimer),W.itemTimer=setTimeout(function(){W.verbose("Hiding sub-menu",q),W.animate.hide(!1,q)},ah.delay.hide))},click:function(q,A){var w=c(this),u=c(q?q.target:""),x=w.find(av.menu),p=W.get.choiceText(w),y=W.get.choiceValue(w,p),z=0<x.length,v=0<x.find(u).length;W.has.menuSearch()&&c(b.activeElement).blur(),v||z&&!ah.allowCategorySelection||(W.is.searchSelection()&&(ah.allowAdditions&&W.remove.userAddition(),W.remove.searchTerm(),W.is.focusedOnSearch()||1==A||W.focusSearch(!0)),ah.useLabels||(W.remove.filteredItem(),W.set.scrollPosition(w)),W.determine.selectAction.call(this,p,y))}},document:{keydown:function(w){var I=w.which;if(W.is.inObject(I,ar)){var C=at.find(av.label),y=C.filter("."+X.active),D=(y.data(H.value),C.index(y)),p=C.length,E=0<y.length,F=1<y.length,z=0===D,q=D+1==p,O=W.is.searchSelection(),v=W.is.focusedOnSearch(),x=W.is.focused(),A=v&&0===W.get.caretPosition();if(O&&!E&&!v){return}I==ar.leftArrow?!x&&!A||E?E&&(w.shiftKey?W.verbose("Adding previous label to selection"):(W.verbose("Selecting previous label"),C.removeClass(X.active)),z&&!F?y.addClass(X.active):y.prev(av.siblingLabel).addClass(X.active).end(),w.preventDefault()):(W.verbose("Selecting previous label"),C.last().addClass(X.active)):I==ar.rightArrow?(x&&!E&&C.first().addClass(X.active),E&&(w.shiftKey?W.verbose("Adding next label to selection"):(W.verbose("Selecting next label"),C.removeClass(X.active)),q?O?v?C.removeClass(X.active):W.focusSearch():F?y.next(av.siblingLabel).addClass(X.active):y.addClass(X.active):y.next(av.siblingLabel).addClass(X.active),w.preventDefault())):I==ar.deleteKey||I==ar.backspace?E?(W.verbose("Removing active labels"),q&&O&&!v&&W.focusSearch(),y.last().next(av.siblingLabel).addClass(X.active),W.remove.activeLabels(y),w.preventDefault()):A&&!E&&I==ar.backspace&&(W.verbose("Removing last label on input backspace"),y=C.last().addClass(X.active),W.remove.activeLabels(y)):y.removeClass(X.active)}}},keydown:function(w){var I=w.which;if(W.is.inObject(I,ar)){var C,y=ag.not(av.unselectable).filter("."+X.selected).eq(0),D=V.children("."+X.active).eq(0),p=0<y.length?y:D,E=0<p.length?p.siblings(":not(."+X.filtered+")").addBack():V.children(":not(."+X.filtered+")"),F=p.children(av.menu),z=p.closest(av.menu),q=z.hasClass(X.visible)||z.hasClass(X.animating)||0<z.parent(av.menu).length,O=0<F.length,v=0<p.length,x=0<p.not(av.unselectable).length,A=I==ar.delimiter&&ah.allowAdditions&&W.is.multiple();if(ah.allowAdditions&&ah.hideAdditions&&(I==ar.enter||A)&&x&&(W.verbose("Selecting item from keyboard shortcut",p),W.event.item.click.call(p,w),W.is.searchSelection()&&W.remove.searchTerm()),W.is.visible()){if((I==ar.enter||A)&&(I==ar.enter&&v&&O&&!ah.allowCategorySelection?(W.verbose("Pressed enter on unselectable category, opening sub menu"),I=ar.rightArrow):x&&(W.verbose("Selecting item from keyboard shortcut",p),W.event.item.click.call(p,w),W.is.searchSelection()&&W.remove.searchTerm()),w.preventDefault()),v&&(I==ar.leftArrow&&z[0]!==V[0]&&(W.verbose("Left key pressed, closing sub-menu"),W.animate.hide(!1,z),p.removeClass(X.selected),z.closest(av.item).addClass(X.selected),w.preventDefault()),I==ar.rightArrow&&O&&(W.verbose("Right key pressed, opening sub-menu"),W.animate.show(!1,F),p.removeClass(X.selected),F.find(av.item).eq(0).addClass(X.selected),w.preventDefault())),I==ar.upArrow){if(C=v&&q?p.prevAll(av.item+":not("+av.unselectable+")").eq(0):ag.eq(0),E.index(C)<0){return W.verbose("Up key pressed but reached top of current menu"),void w.preventDefault()}W.verbose("Up key pressed, changing active item"),p.removeClass(X.selected),C.addClass(X.selected),W.set.scrollPosition(C),ah.selectOnKeydown&&W.is.single()&&W.set.selectedItem(C),w.preventDefault()}if(I==ar.downArrow){if(0===(C=v&&q?C=p.nextAll(av.item+":not("+av.unselectable+")").eq(0):ag.eq(0)).length){return W.verbose("Down key pressed but reached bottom of current menu"),void w.preventDefault()}W.verbose("Down key pressed, changing active item"),ag.removeClass(X.selected),C.addClass(X.selected),W.set.scrollPosition(C),ah.selectOnKeydown&&W.is.single()&&W.set.selectedItem(C),w.preventDefault()}I==ar.pageUp&&(W.scrollPage("up"),w.preventDefault()),I==ar.pageDown&&(W.scrollPage("down"),w.preventDefault()),I==ar.escape&&(W.verbose("Escape key pressed, closing dropdown"),W.hide())}else{A&&w.preventDefault(),I!=ar.downArrow||W.is.visible()||(W.verbose("Down key pressed, showing dropdown"),W.show(),w.preventDefault())}}else{W.has.search()||W.set.selectedLetter(String.fromCharCode(I))}}},trigger:{change:function(){var p=b.createEvent("HTMLEvents"),q=al[0];q&&(W.verbose("Triggering native change event"),p.initEvent("change",!0,!1),q.dispatchEvent(p))}},determine:{selectAction:function(p,q){W.verbose("Determining action",ah.action),c.isFunction(W.action[ah.action])?(W.verbose("Triggering preset action",ah.action,p,q),W.action[ah.action].call(aw,p,q,this)):c.isFunction(ah.action)?(W.verbose("Triggering user action",ah.action,p,q),ah.action.call(aw,p,q,this)):W.error(U.action,ah.action)},eventInModule:function(p,u){var r=c(p.target),q=0<r.closest(b.documentElement).length,s=0<r.closest(at).length;return u=c.isFunction(u)?u:function(){},q&&!s?(W.verbose("Triggering event",u),u(),!0):(W.verbose("Event occurred in dropdown, canceling callback"),!1)},eventOnElement:function(q,x){var u=c(q.target),s=u.closest(av.siblingLabel),v=b.body.contains(q.target),p=0===at.find(s).length,w=0===u.closest(V).length;return x=c.isFunction(x)?x:function(){},v&&p&&w?(W.verbose("Triggering event",x),x(),!0):(W.verbose("Event occurred in dropdown menu, canceling callback"),!1)}},action:{nothing:function(){},activate:function(p,r,q){if(r=r!==a?r:p,W.can.activate(c(q))){if(W.set.selected(r,c(q)),W.is.multiple()&&!W.is.allFiltered()){return}W.hideAndClear()}},select:function(p,r,q){if(r=r!==a?r:p,W.can.activate(c(q))){if(W.set.value(r,p,c(q)),W.is.multiple()&&!W.is.allFiltered()){return}W.hideAndClear()}},combo:function(p,r,q){r=r!==a?r:p,W.set.selected(r,c(q)),W.hideAndClear()},hide:function(p,r,q){W.set.value(r,p,c(q)),W.hideAndClear()}},get:{id:function(){return B},defaultText:function(){return at.data(H.defaultText)},defaultValue:function(){return at.data(H.defaultValue)},placeholderText:function(){return"auto"!=ah.placeholder&&"string"==typeof ah.placeholder?ah.placeholder:at.data(H.placeholderText)||""},text:function(){return ab.text()},query:function(){return c.trim(ap.val())},searchWidth:function(p){return p=p!==a?p:ap.val(),G.text(p),Math.ceil(G.width()+1)},selectionCount:function(){var p=W.get.values();return W.is.multiple()?c.isArray(p)?p.length:0:""!==W.get.value()?1:0},transition:function(p){return"auto"==ah.transition?W.is.upward(p)?"slide up":"slide down":ah.transition},userValues:function(){var p=W.get.values();return !!p&&(p=c.isArray(p)?p:[p],c.grep(p,function(q){return !1===W.get.item(q)}))},uniqueArray:function(p){return c.grep(p,function(q,r){return c.inArray(q,p)===r})},caretPosition:function(){var p,r,q=ap.get(0);return"selectionStart" in q?q.selectionStart:b.selection?(q.focus(),r=(p=b.selection.createRange()).text.length,p.moveStart("character",-q.value.length),p.text.length-r):void 0},value:function(){var p=0<al.length?al.val():at.data(H.value),q=c.isArray(p)&&1===p.length&&""===p[0];return p===a||q?"":p},values:function(){var p=W.get.value();return""===p?"":!W.has.selectInput()&&W.is.multiple()?"string"==typeof p?p.split(ah.delimiter):"":p},remoteValues:function(){var p=W.get.values(),q=!1;return p&&("string"==typeof p&&(p=[p]),c.each(p,function(r,u){var s=W.read.remoteData(u);W.verbose("Restoring value from session data",s,u),s&&(q||(q={}),q[u]=s)})),q},choiceText:function(p,q){if(q=q!==a?q:ah.preserveHTML,p){return 0<p.find(av.menu).length&&(W.verbose("Retrieving text of element with sub-menu"),(p=p.clone()).find(av.menu).remove(),p.find(av.menuIcon).remove()),p.data(H.text)!==a?p.data(H.text):q?c.trim(p.html()):c.trim(p.text())}},choiceValue:function(p,q){return q=q||W.get.choiceText(p),!!p&&(p.data(H.value)!==a?String(p.data(H.value)):"string"==typeof q?c.trim(q.toLowerCase()):String(q))},inputEvent:function(){var p=ap[0];return !!p&&(p.oninput!==a?"input":p.onpropertychange!==a?"propertychange":"keyup")},selectValues:function(){var p={values:[]};return at.find("option").each(function(){var q=c(this),u=q.html(),s=q.attr("disabled"),r=q.attr("value")!==a?q.attr("value"):u;"auto"===ah.placeholder&&""===r?p.placeholder=u:p.values.push({name:u,value:r,disabled:s})}),ah.placeholder&&"auto"!==ah.placeholder&&(W.debug("Setting placeholder value to",ah.placeholder),p.placeholder=ah.placeholder),ah.sortSelect?(p.values.sort(function(q,r){return q.name>r.name?1:-1}),W.debug("Retrieved and sorted values from select",p)):W.debug("Retrieved values from select",p),p},activeItem:function(){return ag.filter("."+X.active)},selectedItem:function(){var p=ag.not(av.unselectable).filter("."+X.selected);return 0<p.length?p:ag.eq(0)},itemWithAdditions:function(p){var r=W.get.item(p),q=W.create.userChoice(p);return q&&0<q.length&&(r=0<r.length?r.add(q):q),r},item:function(s,t){var q,p,u=!1;return s=s!==a?s:W.get.values()!==a?W.get.values():W.get.text(),q=p?0<s.length:s!==a&&null!==s,p=W.is.multiple()&&c.isArray(s),t=""===s||0===s||(t||!1),q&&ag.each(function(){var r=c(this),w=W.get.choiceText(r),v=W.get.choiceValue(r,w);if(null!==v&&v!==a){if(p){-1===c.inArray(String(v),s)&&-1===c.inArray(w,s)||(u=u?u.add(r):r)}else{if(t){if(W.verbose("Ambiguous dropdown value using strict type check",r,s),v===s||w===s){return u=r,!0}}else{if(String(v)==String(s)||w==s){return W.verbose("Found select item by value",v,s),u=r,!0}}}}}),u}},check:{maxSelections:function(p){return !ah.maxSelections||((p=p!==a?p:W.get.selectionCount())>=ah.maxSelections?(W.debug("Maximum selection count reached"),ah.useLabels&&(ag.addClass(X.filtered),W.add.message(J.maxSelections)),!0):(W.verbose("No longer at maximum selection count"),W.remove.message(),W.remove.filteredItem(),W.is.searchSelection()&&W.filterItems(),!1))}},restore:{defaults:function(){W.clear(),W.restore.defaultText(),W.restore.defaultValue()},defaultText:function(){var p=W.get.defaultText();p===W.get.placeholderText?(W.debug("Restoring default placeholder text",p),W.set.placeholderText(p)):(W.debug("Restoring default text",p),W.set.text(p))},placeholderText:function(){W.set.placeholderText()},defaultValue:function(){var p=W.get.defaultValue();p!==a&&(W.debug("Restoring default value",p),""!==p?(W.set.value(p),W.set.selected()):(W.remove.activeItem(),W.remove.selectedItem()))},labels:function(){ah.allowAdditions&&(ah.useLabels||(W.error(U.labels),ah.useLabels=!0),W.debug("Restoring selected values"),W.create.userLabels()),W.check.maxSelections()},selected:function(){W.restore.values(),W.is.multiple()?(W.debug("Restoring previously selected values and labels"),W.restore.labels()):W.debug("Restoring previously selected values")},values:function(){W.set.initialLoad(),ah.apiSettings&&ah.saveRemoteData&&W.get.remoteValues()?W.restore.remoteValues():W.set.selected(),W.remove.initialLoad()},remoteValues:function(){var p=W.get.remoteValues();W.debug("Recreating selected from session data",p),p&&(W.is.single()?c.each(p,function(q,r){W.set.text(r)}):c.each(p,function(q,r){W.add.label(q,r)}))}},read:{remoteData:function(p){var q;if(d.Storage!==a){return(q=sessionStorage.getItem(p))!==a&&q}W.error(U.noStorage)}},save:{defaults:function(){W.save.defaultText(),W.save.placeholderText(),W.save.defaultValue()},defaultValue:function(){var p=W.get.value();W.verbose("Saving default value as",p),at.data(H.defaultValue,p)},defaultText:function(){var p=W.get.text();W.verbose("Saving default text as",p),at.data(H.defaultText,p)},placeholderText:function(){var p;!1!==ah.placeholder&&ab.hasClass(X.placeholder)&&(p=W.get.text(),W.verbose("Saving placeholder text as",p),at.data(H.placeholderText,p))},remoteData:function(p,q){d.Storage!==a?(W.verbose("Saving remote data to session storage",q,p),sessionStorage.setItem(q,p)):W.error(U.noStorage)}},clear:function(){W.is.multiple()&&ah.useLabels?W.remove.labels():(W.remove.activeItem(),W.remove.selectedItem()),W.set.placeholderText(),W.clearValue()},clearValue:function(){W.set.value("")},scrollPage:function(w,E){var z,x,A=E||W.get.selectedItem(),p=A.closest(av.menu),C=p.outerHeight(),D=p.scrollTop(),y=ag.eq(0).outerHeight(),q=Math.floor(C/y),F=(p.prop("scrollHeight"),"up"==w?D-y*q:D+y*q),v=ag.not(av.unselectable);x="up"==w?v.index(A)-q:v.index(A)+q,0<(z=("up"==w?0<=x:x<v.length)?v.eq(x):"up"==w?v.first():v.last()).length&&(W.debug("Scrolling page",w,z),A.removeClass(X.selected),z.addClass(X.selected),ah.selectOnKeydown&&W.is.single()&&W.set.selectedItem(z),p.scrollTop(F))},set:{filtered:function(){var q=W.is.multiple(),x=W.is.searchSelection(),u=q&&x,s=x?W.get.query():"",v="string"==typeof s&&0<s.length,p=W.get.searchWidth(),w=""!==s;q&&v&&(W.verbose("Adjusting input width",p,ah.glyphWidth),ap.css("width",p)),v||u&&w?(W.verbose("Hiding placeholder text"),ab.addClass(X.filtered)):(!q||u&&!w)&&(W.verbose("Showing placeholder text"),ab.removeClass(X.filtered))},empty:function(){at.addClass(X.empty)},loading:function(){at.addClass(X.loading)},placeholderText:function(p){p=p||W.get.placeholderText(),W.debug("Setting placeholder text",p),W.set.text(p),ab.addClass(X.placeholder)},tabbable:function(){W.is.searchSelection()?(W.debug("Added tabindex to searchable dropdown"),ap.val("").attr("tabindex",0),V.attr("tabindex",-1)):(W.debug("Added tabindex to dropdown"),at.attr("tabindex")===a&&(at.attr("tabindex",0),V.attr("tabindex",-1)))},initialLoad:function(){W.verbose("Setting initial load"),N=!0},activeItem:function(p){ah.allowAdditions&&0<p.filter(av.addition).length?p.addClass(X.filtered):p.addClass(X.active)},partialSearch:function(p){var q=W.get.query().length;ap.val(p.substr(0,q))},scrollPosition:function(q,z){var v,u,w,p,x,y;v=(q=q||W.get.selectedItem()).closest(av.menu),u=q&&0<q.length,z=z!==a&&z,q&&0<v.length&&u&&(q.position().top,v.addClass(X.loading),w=(p=v.scrollTop())-v.offset().top+q.offset().top,z||(y=p+v.height()<w+5,x=w-5<p),W.debug("Scrolling to active item",w),(z||x||y)&&v.scrollTop(w),v.removeClass(X.loading))},text:function(p){"select"!==ah.action&&("combo"==ah.action?(W.debug("Changing combo button text",p,Q),ah.preserveHTML?Q.html(p):Q.text(p)):(p!==W.get.placeholderText()&&ab.removeClass(X.placeholder),W.debug("Changing text",p,ab),ab.removeClass(X.filtered),ah.preserveHTML?ab.html(p):ab.text(p)))},selectedItem:function(p){var s=W.get.choiceValue(p),r=W.get.choiceText(p,!1),q=W.get.choiceText(p,!0);W.debug("Setting user selection to item",p),W.remove.activeItem(),W.set.partialSearch(r),W.set.activeItem(p),W.set.selected(s,p),W.set.text(q)},selectedLetter:function(p){var u,r=ag.filter("."+X.selected),q=0<r.length&&W.has.firstLetter(r,p),s=!1;q&&(u=r.nextAll(ag).eq(0),W.has.firstLetter(u,p)&&(s=u)),s||ag.each(function(){if(W.has.firstLetter(c(this),p)){return s=c(this),!1}}),s&&(W.verbose("Scrolling to next value with letter",p),W.set.scrollPosition(s),r.removeClass(X.selected),s.addClass(X.selected),ah.selectOnKeydown&&W.is.single()&&W.set.selectedItem(s))},direction:function(p){"auto"==ah.direction?(W.remove.upward(),W.can.openDownward(p)?W.remove.upward(p):W.set.upward(p),W.is.leftward(p)||W.can.openRightward(p)||W.set.leftward(p)):"upward"==ah.direction&&W.set.upward(p)},upward:function(p){(p||at).addClass(X.upward)},leftward:function(p){(p||V).addClass(X.leftward)},value:function(q,x,u){var s=W.escape.value(q),v=0<al.length,p=W.get.values(),w=q!==a?String(q):q;if(v){if(!ah.allowReselection&&w==p&&(W.verbose("Skipping value update already same value",q,p),!W.is.initialLoad())){return}W.is.single()&&W.has.selectInput()&&W.can.extendSelect()&&(W.debug("Adding user option",q),W.add.optionValue(q)),W.debug("Updating input value",s,p),aa=!0,al.val(s),!1===ah.fireOnInit&&W.is.initialLoad()?W.debug("Input native change event ignored on initial load"):W.trigger.change(),aa=!1}else{W.verbose("Storing value in metadata",s,al),s!==p&&at.data(H.value,w)}W.is.single()&&ah.clearable&&(s?W.set.clearable():W.remove.clearable()),!1===ah.fireOnInit&&W.is.initialLoad()?W.verbose("No callback on initial load",ah.onChange):ah.onChange.call(aw,q,x,u)},active:function(){at.addClass(X.active)},multiple:function(){at.addClass(X.multiple)},visible:function(){at.addClass(X.visible)},exactly:function(p,q){W.debug("Setting selected to exact values"),W.clear(),W.set.selected(p,q)},selected:function(p,r){var q=W.is.multiple();(r=ah.allowAdditions?r||W.get.itemWithAdditions(p):r||W.get.item(p))&&(W.debug("Setting selected menu item to",r),W.is.multiple()&&W.remove.searchWidth(),W.is.single()?(W.remove.activeItem(),W.remove.selectedItem()):ah.useLabels&&W.remove.selectedItem(),r.each(function(){var u=c(this),z=W.get.choiceText(u),w=W.get.choiceValue(u,z),v=u.hasClass(X.filtered),x=u.hasClass(X.active),s=u.hasClass(X.addition),y=q&&1==r.length;q?!x||s?(ah.apiSettings&&ah.saveRemoteData&&W.save.remoteData(z,w),ah.useLabels?(W.add.label(w,z,y),W.add.value(w,z,u),W.set.activeItem(u),W.filterActive(),W.select.nextAvailable(r)):(W.add.value(w,z,u),W.set.text(W.add.variables(J.count)),W.set.activeItem(u))):v||(W.debug("Selected active value, removing label"),W.remove.selected(w)):(ah.apiSettings&&ah.saveRemoteData&&W.save.remoteData(z,w),W.set.text(z),W.set.value(w,z,u),u.addClass(X.active).addClass(X.selected))}))},clearable:function(){ai.addClass(X.clear)}},add:{label:function(q,v,s){var r,u=W.is.searchSelection()?ap:ab,p=W.escape.value(q);ah.ignoreCase&&(p=p.toLowerCase()),r=c("<a />").addClass(X.label).attr("data-"+H.value,p).html(ad.label(p,v)),r=ah.onLabelCreate.call(r,p,v),W.has.label(q)?W.debug("User selection already exists, skipping",p):(ah.label.variation&&r.addClass(ah.label.variation),!0===s?(W.debug("Animating in label",r),r.addClass(X.hidden).insertBefore(u).transition(ah.label.transition,ah.label.duration)):(W.debug("Adding selection label",r),r.insertBefore(u)))},message:function(p){var r=V.children(av.message),q=ah.templates.message(W.add.variables(p));0<r.length?r.html(q):r=c("<div/>").html(q).addClass(X.message).appendTo(V)},optionValue:function(p){var q=W.escape.value(p);0<al.find('option[value="'+W.escape.string(q)+'"]').length||(W.disconnect.selectObserver(),W.is.single()&&(W.verbose("Removing previous user addition"),al.find("option."+X.addition).remove()),c("<option/>").prop("value",q).addClass(X.addition).html(p).appendTo(al),W.verbose("Adding user addition as an <option>",p),W.observe.select())},userSuggestion:function(q){var v,s=V.children(av.addition),r=W.get.item(q),u=r&&r.not(av.addition).length,p=0<s.length;ah.useLabels&&W.has.maxSelections()||(""===q||u?s.remove():(p?(s.data(H.value,q).data(H.text,q).attr("data-"+H.value,q).attr("data-"+H.text,q).removeClass(X.filtered),ah.hideAdditions||(v=ah.templates.addition(W.add.variables(J.addResult,q)),s.html(v)),W.verbose("Replacing user suggestion with new value",s)):((s=W.create.userChoice(q)).prependTo(V),W.verbose("Adding item choice to menu corresponding with user choice addition",s)),ah.hideAdditions&&!W.is.allFiltered()||s.addClass(X.selected).siblings().removeClass(X.selected),W.refreshItems()))},variables:function(q,x){var u,s,v=-1!==q.search("{count}"),p=-1!==q.search("{maxCount}"),w=-1!==q.search("{term}");return W.verbose("Adding templated variables to message",q),v&&(u=W.get.selectionCount(),q=q.replace("{count}",u)),p&&(u=W.get.selectionCount(),q=q.replace("{maxCount}",ah.maxSelections)),w&&(s=x||W.get.query(),q=q.replace("{term}",s)),q},value:function(p,u,r){var q,s=W.get.values();W.has.value(p)?W.debug("Value already selected"):""!==p?(q=c.isArray(s)?(q=s.concat([p]),W.get.uniqueArray(q)):[p],W.has.selectInput()?W.can.extendSelect()&&(W.debug("Adding value to select",p,q,al),W.add.optionValue(p)):(q=q.join(ah.delimiter),W.debug("Setting hidden input to delimited value",q,al)),!1===ah.fireOnInit&&W.is.initialLoad()?W.verbose("Skipping onadd callback on initial load",ah.onAdd):ah.onAdd.call(aw,p,u,r),W.set.value(q,p,u,r),W.check.maxSelections()):W.debug("Cannot select blank values from multiselect")}},remove:{active:function(){at.removeClass(X.active)},activeLabel:function(){at.find(av.label).removeClass(X.active)},empty:function(){at.removeClass(X.empty)},loading:function(){at.removeClass(X.loading)},initialLoad:function(){N=!1},upward:function(p){(p||at).removeClass(X.upward)},leftward:function(p){(p||V).removeClass(X.leftward)},visible:function(){at.removeClass(X.visible)},activeItem:function(){ag.removeClass(X.active)},filteredItem:function(){ah.useLabels&&W.has.maxSelections()||(ah.useLabels&&W.is.multiple()?ag.not("."+X.active).removeClass(X.filtered):ag.removeClass(X.filtered),W.remove.empty())},optionValue:function(p){var r=W.escape.value(p),q=al.find('option[value="'+W.escape.string(r)+'"]');0<q.length&&q.hasClass(X.addition)&&(ak&&(ak.disconnect(),W.verbose("Temporarily disconnecting mutation observer")),q.remove(),W.verbose("Removing user addition as an <option>",r),ak&&ak.observe(al[0],{childList:!0,subtree:!0}))},message:function(){V.children(av.message).remove()},searchWidth:function(){ap.css("width","")},searchTerm:function(){W.verbose("Cleared search term"),ap.val(""),W.set.filtered()},userAddition:function(){ag.filter(av.addition).remove()},selected:function(p,q){if(!(q=ah.allowAdditions?q||W.get.itemWithAdditions(p):q||W.get.item(p))){return !1}q.each(function(){var r=c(this),u=W.get.choiceText(r),s=W.get.choiceValue(r,u);W.is.multiple()?ah.useLabels?(W.remove.value(s,u,r),W.remove.label(s)):(W.remove.value(s,u,r),0===W.get.selectionCount()?W.set.placeholderText():W.set.text(W.add.variables(J.count))):W.remove.value(s,u,r),r.removeClass(X.filtered).removeClass(X.active),ah.useLabels&&r.removeClass(X.selected)})},selectedItem:function(){ag.removeClass(X.selected)},value:function(p,u,r){var q,s=W.get.values();W.has.selectInput()?(W.verbose("Input is <select> removing selected option",p),q=W.remove.arrayValue(p,s),W.remove.optionValue(p)):(W.verbose("Removing from delimited values",p),q=(q=W.remove.arrayValue(p,s)).join(ah.delimiter)),!1===ah.fireOnInit&&W.is.initialLoad()?W.verbose("No callback on initial load",ah.onRemove):ah.onRemove.call(aw,p,u,r),W.set.value(q,u,r),W.check.maxSelections()},arrayValue:function(q,p){return c.isArray(p)||(p=[p]),p=c.grep(p,function(r){return q!=r}),W.verbose("Removed value from delimited string",q,p),p},label:function(p,r){var q=at.find(av.label).filter("[data-"+H.value+'="'+W.escape.string(p)+'"]');W.verbose("Removing label",q),q.remove()},activeLabels:function(p){p=p||at.find(av.label).filter("."+X.active),W.verbose("Removing active label selections",p),W.remove.labels(p)},labels:function(p){p=p||at.find(av.label),W.verbose("Removing labels",p),p.each(function(){var q=c(this),u=q.data(H.value),s=u!==a?String(u):u,r=W.is.userValue(s);!1!==ah.onLabelRemove.call(q,u)?(W.remove.message(),r?(W.remove.value(s),W.remove.label(s)):W.remove.selected(s)):W.debug("Label remove callback cancelled removal")})},tabbable:function(){W.is.searchSelection()?(W.debug("Searchable dropdown initialized"),ap.removeAttr("tabindex")):(W.debug("Simple selection dropdown initialized"),at.removeAttr("tabindex")),V.removeAttr("tabindex")},clearable:function(){ai.removeClass(X.clear)}},has:{menuSearch:function(){return W.has.search()&&0<ap.closest(V).length},search:function(){return 0<ap.length},sizer:function(){return 0<G.length},selectInput:function(){return al.is("select")},minCharacters:function(p){return !ah.minCharacters||(p=p!==a?String(p):String(W.get.query())).length>=ah.minCharacters},firstLetter:function(p,r){var q;return !(!p||0===p.length||"string"!=typeof r)&&(q=W.get.choiceText(p,!1),(r=r.toLowerCase())==String(q).charAt(0).toLowerCase())},input:function(){return 0<al.length},items:function(){return 0<ag.length},menu:function(){return 0<V.length},message:function(){return 0!==V.children(av.message).length},label:function(p){var r=W.escape.value(p),q=at.find(av.label);return ah.ignoreCase&&(r=r.toLowerCase()),0<q.filter("[data-"+H.value+'="'+W.escape.string(r)+'"]').length},maxSelections:function(){return ah.maxSelections&&W.get.selectionCount()>=ah.maxSelections},allResultsFiltered:function(){var p=ag.not(av.addition);return p.filter(av.unselectable).length===p.length},userSuggestion:function(){return 0<V.children(av.addition).length},query:function(){return""!==W.get.query()},value:function(p){return ah.ignoreCase?W.has.valueIgnoringCase(p):W.has.valueMatchingCase(p)},valueMatchingCase:function(p){var q=W.get.values();return !!(c.isArray(q)?q&&-1!==c.inArray(p,q):q==p)},valueIgnoringCase:function(r){var p=W.get.values(),q=!1;return c.isArray(p)||(p=[p]),c.each(p,function(s,u){if(String(r).toLowerCase()==String(u).toLowerCase()){return !(q=!0)}}),q}},is:{active:function(){return at.hasClass(X.active)},animatingInward:function(){return V.transition("is inward")},animatingOutward:function(){return V.transition("is outward")},bubbledLabelClick:function(p){return c(p.target).is("select, input")&&0<at.closest("label").length},bubbledIconClick:function(p){return 0<c(p.target).closest(ai).length},alreadySetup:function(){return at.is("select")&&at.parent(av.dropdown).data(K)!==a&&0===at.prev().length},animating:function(p){return p?p.transition&&p.transition("is animating"):V.transition&&V.transition("is animating")},leftward:function(p){return(p||V).hasClass(X.leftward)},disabled:function(){return at.hasClass(X.disabled)},focused:function(){return b.activeElement===at[0]},focusedOnSearch:function(){return b.activeElement===ap[0]},allFiltered:function(){return(W.is.multiple()||W.has.search())&&!(0==ah.hideAdditions&&W.has.userSuggestion())&&!W.has.message()&&W.has.allResultsFiltered()},hidden:function(p){return !W.is.visible(p)},initialLoad:function(){return N},inObject:function(r,p){var q=!1;return c.each(p,function(s,u){if(u==r){return q=!0}}),q},multiple:function(){return at.hasClass(X.multiple)},remote:function(){return ah.apiSettings&&W.can.useAPI()},single:function(){return !W.is.multiple()},selectMutation:function(p){var q=!1;return c.each(p,function(r,s){if(s.target&&c(s.target).is("select")){return q=!0}}),q},search:function(){return at.hasClass(X.search)},searchSelection:function(){return W.has.search()&&1===ap.parent(av.dropdown).length},selection:function(){return at.hasClass(X.selection)},userValue:function(p){return -1!==c.inArray(p,W.get.userValues())},upward:function(p){return(p||at).hasClass(X.upward)},visible:function(p){return p?p.hasClass(X.visible):V.hasClass(X.visible)},verticallyScrollableContext:function(){var p=an.get(0)!==d&&an.css("overflow-y");return"auto"==p||"scroll"==p},horizontallyScrollableContext:function(){var p=an.get(0)!==d&&an.css("overflow-X");return"auto"==p||"scroll"==p}},can:{activate:function(p){return !!ah.useLabels||(!W.has.maxSelections()||!(!W.has.maxSelections()||!p.hasClass(X.active)))},openDownward:function(p){var u,r,q=p||V,s=!0;return q.addClass(X.loading),r={context:{offset:an.get(0)===d?{top:0,left:0}:an.offset(),scrollTop:an.scrollTop(),height:an.outerHeight()},menu:{offset:q.offset(),height:q.outerHeight()}},W.is.verticallyScrollableContext()&&(r.menu.offset.top+=r.context.scrollTop),s=(u={above:r.context.scrollTop<=r.menu.offset.top-r.context.offset.top-r.menu.height,below:r.context.scrollTop+r.context.height>=r.menu.offset.top-r.context.offset.top+r.menu.height}).below?(W.verbose("Dropdown can fit in context downward",u),!0):u.below||u.above?(W.verbose("Dropdown cannot fit below, opening upward",u),!1):(W.verbose("Dropdown cannot fit in either direction, favoring downward",u),!0),q.removeClass(X.loading),s},openRightward:function(p){var u,r,q=p||V,s=!0;return q.addClass(X.loading),r={context:{offset:an.get(0)===d?{top:0,left:0}:an.offset(),scrollLeft:an.scrollLeft(),width:an.outerWidth()},menu:{offset:q.offset(),width:q.outerWidth()}},W.is.horizontallyScrollableContext()&&(r.menu.offset.left+=r.context.scrollLeft),(u=r.menu.offset.left-r.context.offset.left+r.menu.width>=r.context.scrollLeft+r.context.width)&&(W.verbose("Dropdown cannot fit in context rightward",u),s=!1),q.removeClass(X.loading),s},click:function(){return l||"click"==ah.on},extendSelect:function(){return ah.allowAdditions||ah.apiSettings},show:function(){return !W.is.disabled()&&(W.has.items()||W.has.message())},useAPI:function(){return c.fn.api!==a}},animate:{show:function(p,u){var r,q=u||V,s=u?function(){}:function(){W.hideSubMenus(),W.hideOthers(),W.set.active()};p=c.isFunction(p)?p:function(){},W.verbose("Doing menu show animation",q),W.set.direction(u),r=W.get.transition(u),W.is.selection()&&W.set.scrollPosition(W.get.selectedItem(),!0),(W.is.hidden(q)||W.is.animating(q))&&("none"==r?(s(),q.transition("show"),p.call(aw)):c.fn.transition!==a&&at.transition("is supported")?q.transition({animation:r+" in",debug:ah.debug,verbose:ah.verbose,duration:ah.duration,queue:!0,onStart:s,onComplete:function(){p.call(aw)}}):W.error(U.noTransition,r))},hide:function(p,u){var r=u||V,q=(u?ah.duration:ah.duration,u?function(){}:function(){W.can.click()&&W.unbind.intent(),W.remove.active()}),s=W.get.transition(u);p=c.isFunction(p)?p:function(){},(W.is.visible(r)||W.is.animating(r))&&(W.verbose("Doing menu hide animation",r),"none"==s?(q(),r.transition("hide"),p.call(aw)):c.fn.transition!==a&&at.transition("is supported")?r.transition({animation:s+" out",duration:ah.duration,debug:ah.debug,verbose:ah.verbose,queue:!1,onStart:q,onComplete:function(){p.call(aw)}}):W.error(U.transition))}},hideAndClear:function(){W.remove.searchTerm(),W.has.maxSelections()||(W.has.search()?W.hide(function(){W.remove.filteredItem()}):W.hide())},delay:{show:function(){W.verbose("Delaying show event to ensure user intent"),clearTimeout(W.timer),W.timer=setTimeout(W.show,ah.delay.show)},hide:function(){W.verbose("Delaying hide event to ensure user intent"),clearTimeout(W.timer),W.timer=setTimeout(W.hide,ah.delay.hide)}},escape:{value:function(q){var v=c.isArray(q),s="string"==typeof q,r=!s&&!v,u=s&&-1!==q.search(L.quote),p=[];return r||!u?q:(W.debug("Encoding quote values for use in select",q),v?(c.each(q,function(w,x){p.push(x.replace(L.quote,"&quot;"))}),p):q.replace(L.quote,"&quot;"))},string:function(p){return(p=String(p)).replace(L.escape,"\\$&")}},setting:function(p,q){if(W.debug("Changing setting",p,q),c.isPlainObject(p)){c.extend(!0,ah,p)}else{if(q===a){return ah[p]}c.isPlainObject(ah[p])?c.extend(!0,ah[p],q):ah[p]=q}},internal:function(p,q){if(c.isPlainObject(p)){c.extend(!0,W,p)}else{if(q===a){return W[p]}W[p]=q}},debug:function(){!ah.silent&&ah.debug&&(ah.performance?W.performance.log(arguments):(W.debug=Function.prototype.bind.call(console.info,console,ah.name+":"),W.debug.apply(console,arguments)))},verbose:function(){!ah.silent&&ah.verbose&&ah.debug&&(ah.performance?W.performance.log(arguments):(W.verbose=Function.prototype.bind.call(console.info,console,ah.name+":"),W.verbose.apply(console,arguments)))},error:function(){ah.silent||(W.error=Function.prototype.bind.call(console.error,console,ah.name+":"),W.error.apply(console,arguments))},performance:{log:function(p){var r,q;ah.performance&&(q=(r=(new Date).getTime())-(n||r),n=r,f.push({Name:p[0],Arguments:[].slice.call(p,1)||"",Element:aw,"Execution Time":q})),clearTimeout(W.performance.timer),W.performance.timer=setTimeout(W.performance.display,500)},display:function(){var p=ah.name+":",q=0;n=!1,clearTimeout(W.performance.timer),c.each(f,function(r,s){q+=s["Execution Time"]}),p+=" "+q+"ms",g&&(p+=" '"+g+"'"),(console.group!==a||console.table!==a)&&0<f.length&&(console.groupCollapsed(p),console.table?console.table(f):c.each(f,function(r,s){console.log(s.Name+": "+s["Execution Time"]+"ms")}),console.groupEnd()),f=[]}},invoke:function(s,q,x){var v,p,u,w=Z;return q=q||e,x=aw||x,"string"==typeof s&&w!==a&&(s=s.split(/[\. ]/),v=s.length-1,c.each(s,function(r,z){var y=r!=v?z+s[r+1].charAt(0).toUpperCase()+s[r+1].slice(1):s;if(c.isPlainObject(w[y])&&r!=v){w=w[y]}else{if(w[y]!==a){return p=w[y],!1}if(!c.isPlainObject(w[z])||r==v){return w[z]!==a?p=w[z]:W.error(U.method,s),!1}w=w[z]}})),c.isFunction(p)?u=p.apply(x,q):p!==a&&(u=p),c.isArray(h)?h.push(u):h!==a?h=[h,u]:u!==a&&(h=u),p}},o?(Z===a&&W.initialize(),W.invoke(k)):(Z!==a&&Z.invoke("destroy"),W.initialize())}),h!==a?h:m},c.fn.dropdown.settings={silent:!1,debug:!1,verbose:!1,performance:!0,on:"click",action:"activate",values:!1,clearable:!1,apiSettings:!1,selectOnKeydown:!0,minCharacters:0,filterRemoteData:!1,saveRemoteData:!0,throttle:200,context:d,direction:"auto",keepOnScreen:!0,match:"both",fullTextSearch:!1,placeholder:"auto",preserveHTML:!0,sortSelect:!1,forceSelection:!0,allowAdditions:!1,ignoreCase:!1,hideAdditions:!0,maxSelections:!1,useLabels:!0,delimiter:",",showOnFocus:!0,allowReselection:!1,allowTab:!0,allowCategorySelection:!1,fireOnInit:!1,transition:"auto",duration:200,glyphWidth:1.037,label:{transition:"scale",duration:200,variation:!1},delay:{hide:300,show:200,search:20,touch:50},onChange:function(f,h,g){},onAdd:function(f,h,g){},onRemove:function(f,h,g){},onLabelSelect:function(f){},onLabelCreate:function(f,g){return c(this)},onLabelRemove:function(f){return !0},onNoResults:function(f){return !0},onShow:function(){},onHide:function(){},name:"Dropdown",namespace:"dropdown",message:{addResult:"Add <b>{term}</b>",count:"{count} selected",maxSelections:"Max {maxCount} selections",noResults:"No results found.",serverError:"There was an error contacting the server"},error:{action:"You called a dropdown action that was not defined",alreadySetup:"Once a select has been initialized behaviors must be called on the created ui dropdown",labels:"Allowing user additions currently requires the use of labels.",missingMultiple:"<select> requires multiple property to be set to correctly preserve multiple values",method:"The method you called is not defined.",noAPI:"The API module is required to load resources remotely",noStorage:"Saving remote data requires session storage",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>"},regExp:{escape:/[-[\]{}()*+?.,\\^$|#\s]/g,quote:/"/g},metadata:{defaultText:"defaultText",defaultValue:"defaultValue",placeholderText:"placeholder",text:"text",value:"value"},fields:{remoteValues:"results",values:"values",disabled:"disabled",name:"name",value:"value",text:"text"},keys:{backspace:8,delimiter:188,deleteKey:46,enter:13,escape:27,pageUp:33,pageDown:34,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40},selector:{addition:".addition",dropdown:".ui.dropdown",hidden:".hidden",icon:"> .dropdown.icon",input:'> input[type="hidden"], > select',item:".item",label:"> .label",remove:"> .label > .delete.icon",siblingLabel:".label",menu:".menu",message:".message",menuIcon:".dropdown.icon",search:"input.search, .menu > .search > input, .menu input.search",sizer:"> input.sizer",text:"> .text:not(.icon)",unselectable:".disabled, .filtered"},className:{active:"active",addition:"addition",animating:"animating",clear:"clear",disabled:"disabled",empty:"empty",dropdown:"ui dropdown",filtered:"filtered",hidden:"hidden transition",item:"item",label:"ui label",loading:"loading",menu:"menu",message:"message",multiple:"multiple",placeholder:"default",sizer:"sizer",search:"search",selected:"selected",selection:"selection",upward:"upward",leftward:"left",visible:"visible"}},c.fn.dropdown.settings.templates={dropdown:function(f){var h=f.placeholder||!1,g=(f.values,"");return g+='<i class="dropdown icon"></i>',f.placeholder?g+='<div class="default text">'+h+"</div>":g+='<div class="text"></div>',g+='<div class="menu">',c.each(f.values,function(i,j){g+=j.disabled?'<div class="disabled item" data-value="'+j.value+'">'+j.name+"</div>":'<div class="item" data-value="'+j.value+'">'+j.name+"</div>"}),g+="</div>"},menu:function(g,h){var i=g[h.values]||{},f="";return c.each(i,function(j,m){var l=m[h.text]?'data-text="'+m[h.text]+'"':"",k=m[h.disabled]?"disabled ":"";f+='<div class="'+k+'item" data-value="'+m[h.value]+'"'+l+">",f+=m[h.name],f+="</div>"}),f},label:function(f,g){return g+'<i class="delete icon"></i>'},message:function(f){return f},addition:function(f){return f}}}(jQuery,window,document),function(c,d,b,a){d=void 0!==d&&d.Math==Math?d:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),c.fn.embed=function(i){var g,k=c(this),e=k.selector||"",n=(new Date).getTime(),m=[],f=i,l="string"==typeof f,j=[].slice.call(arguments,1);return k.each(function(){var E,y=c.isPlainObject(i)?c.extend(!0,{},c.fn.embed.settings,i):c.extend({},c.fn.embed.settings),v=y.selector,F=y.className,C=y.sources,z=y.error,h=y.metadata,B=y.namespace,D=y.templates,p="."+B,G="module-"+B,q=(c(d),c(this)),w=(q.find(v.placeholder),q.find(v.icon),q.find(v.embed)),A=this,x=q.data(G);E={initialize:function(){E.debug("Initializing embed"),E.determine.autoplay(),E.create(),E.bind.events(),E.instantiate()},instantiate:function(){E.verbose("Storing instance of module",E),x=E,q.data(G,E)},destroy:function(){E.verbose("Destroying previous instance of embed"),E.reset(),q.removeData(G).off(p)},refresh:function(){E.verbose("Refreshing selector cache"),q.find(v.placeholder),q.find(v.icon),w=q.find(v.embed)},bind:{events:function(){E.has.placeholder()&&(E.debug("Adding placeholder events"),q.on("click"+p,v.placeholder,E.createAndShow).on("click"+p,v.icon,E.createAndShow))}},create:function(){E.get.placeholder()?E.createPlaceholder():E.createAndShow()},createPlaceholder:function(o){var s=E.get.icon(),r=E.get.url();E.generate.embed(r);o=o||E.get.placeholder(),q.html(D.placeholder(o,s)),E.debug("Creating placeholder for embed",o,s)},createEmbed:function(o){E.refresh(),o=o||E.get.url(),w=c("<div/>").addClass(F.embed).html(E.generate.embed(o)).appendTo(q),y.onCreate.call(A,o),E.debug("Creating embed object",w)},changeEmbed:function(o){w.html(E.generate.embed(o))},createAndShow:function(){E.createEmbed(),E.show()},change:function(o,s,r){E.debug("Changing video to ",o,s,r),q.data(h.source,o).data(h.id,s),r?q.data(h.url,r):q.removeData(h.url),E.has.embed()?E.changeEmbed():E.create()},reset:function(){E.debug("Clearing embed and showing placeholder"),E.remove.data(),E.remove.active(),E.remove.embed(),E.showPlaceholder(),y.onReset.call(A)},show:function(){E.debug("Showing embed"),E.set.active(),y.onDisplay.call(A)},hide:function(){E.debug("Hiding embed"),E.showPlaceholder()},showPlaceholder:function(){E.debug("Showing placeholder image"),E.remove.active(),y.onPlaceholderDisplay.call(A)},get:{id:function(){return y.id||q.data(h.id)},placeholder:function(){return y.placeholder||q.data(h.placeholder)},icon:function(){return y.icon?y.icon:q.data(h.icon)!==a?q.data(h.icon):E.determine.icon()},source:function(o){return y.source?y.source:q.data(h.source)!==a?q.data(h.source):E.determine.source()},type:function(){var o=E.get.source();return C[o]!==a&&C[o].type},url:function(){return y.url?y.url:q.data(h.url)!==a?q.data(h.url):E.determine.url()}},determine:{autoplay:function(){E.should.autoplay()&&(y.autoplay=!0)},source:function(r){var o=!1;return(r=r||E.get.url())&&c.each(C,function(s,u){if(-1!==r.search(u.domain)){return o=s,!1}}),o},icon:function(){var o=E.get.source();return C[o]!==a&&C[o].icon},url:function(){var o,s=y.id||q.data(h.id),r=y.source||q.data(h.source);return(o=C[r]!==a&&C[r].url.replace("{id}",s))&&q.data(h.url,o),o}},set:{active:function(){q.addClass(F.active)}},remove:{data:function(){q.removeData(h.id).removeData(h.icon).removeData(h.placeholder).removeData(h.source).removeData(h.url)},active:function(){q.removeClass(F.active)},embed:function(){w.empty()}},encode:{parameters:function(o){var s,r=[];for(s in o){r.push(encodeURIComponent(s)+"="+encodeURIComponent(o[s]))}return r.join("&amp;")}},generate:{embed:function(o){E.debug("Generating embed html");var u,s,r=E.get.source();return(o=E.get.url(o))?(s=E.generate.parameters(r),u=D.iframe(o,s)):E.error(z.noURL,q),u},parameters:function(o,s){var r=C[o]&&C[o].parameters!==a?C[o].parameters(y):{};return(s=s||y.parameters)&&(r=c.extend({},r,s)),r=y.onEmbed(r),E.encode.parameters(r)}},has:{embed:function(){return 0<w.length},placeholder:function(){return y.placeholder||q.data(h.placeholder)}},should:{autoplay:function(){return"auto"===y.autoplay?y.placeholder||q.data(h.placeholder)!==a:y.autoplay}},is:{video:function(){return"video"==E.get.type()}},setting:function(o,r){if(E.debug("Changing setting",o,r),c.isPlainObject(o)){c.extend(!0,y,o)}else{if(r===a){return y[o]}c.isPlainObject(y[o])?c.extend(!0,y[o],r):y[o]=r}},internal:function(o,r){if(c.isPlainObject(o)){c.extend(!0,E,o)}else{if(r===a){return E[o]}E[o]=r}},debug:function(){!y.silent&&y.debug&&(y.performance?E.performance.log(arguments):(E.debug=Function.prototype.bind.call(console.info,console,y.name+":"),E.debug.apply(console,arguments)))},verbose:function(){!y.silent&&y.verbose&&y.debug&&(y.performance?E.performance.log(arguments):(E.verbose=Function.prototype.bind.call(console.info,console,y.name+":"),E.verbose.apply(console,arguments)))},error:function(){y.silent||(E.error=Function.prototype.bind.call(console.error,console,y.name+":"),E.error.apply(console,arguments))},performance:{log:function(o){var s,r;y.performance&&(r=(s=(new Date).getTime())-(n||s),n=s,m.push({Name:o[0],Arguments:[].slice.call(o,1)||"",Element:A,"Execution Time":r})),clearTimeout(E.performance.timer),E.performance.timer=setTimeout(E.performance.display,500)},display:function(){var o=y.name+":",r=0;n=!1,clearTimeout(E.performance.timer),c.each(m,function(s,u){r+=u["Execution Time"]}),o+=" "+r+"ms",e&&(o+=" '"+e+"'"),1<k.length&&(o+=" ("+k.length+")"),(console.group!==a||console.table!==a)&&0<m.length&&(console.groupCollapsed(o),console.table?console.table(m):c.each(m,function(s,u){console.log(u.Name+": "+u["Execution Time"]+"ms")}),console.groupEnd()),m=[]}},invoke:function(H,u,L){var J,s,I,K=x;return u=u||j,L=A||L,"string"==typeof H&&K!==a&&(H=H.split(/[\. ]/),J=H.length-1,c.each(H,function(o,M){var r=o!=J?M+H[o+1].charAt(0).toUpperCase()+H[o+1].slice(1):H;if(c.isPlainObject(K[r])&&o!=J){K=K[r]}else{if(K[r]!==a){return s=K[r],!1}if(!c.isPlainObject(K[M])||o==J){return K[M]!==a?s=K[M]:E.error(z.method,H),!1}K=K[M]}})),c.isFunction(s)?I=s.apply(L,u):s!==a&&(I=s),c.isArray(g)?g.push(I):g!==a?g=[g,I]:I!==a&&(g=I),s}},l?(x===a&&E.initialize(),E.invoke(f)):(x!==a&&x.invoke("destroy"),E.initialize())}),g!==a?g:this},c.fn.embed.settings={name:"Embed",namespace:"embed",silent:!1,debug:!1,verbose:!1,performance:!0,icon:!1,source:!1,url:!1,id:!1,autoplay:"auto",color:"#444444",hd:!0,brandedUI:!1,parameters:!1,onDisplay:function(){},onPlaceholderDisplay:function(){},onReset:function(){},onCreate:function(f){},onEmbed:function(f){return f},metadata:{id:"id",icon:"icon",placeholder:"placeholder",source:"source",url:"url"},error:{noURL:"No URL specified",method:"The method you called is not defined"},className:{active:"active",embed:"embed"},selector:{embed:".embed",placeholder:".placeholder",icon:".icon"},sources:{youtube:{name:"youtube",type:"video",icon:"video play",domain:"youtube.com",url:"//www.youtube.com/embed/{id}",parameters:function(f){return{autohide:!f.brandedUI,autoplay:f.autoplay,color:f.color||a,hq:f.hd,jsapi:f.api,modestbranding:!f.brandedUI}}},vimeo:{name:"vimeo",type:"video",icon:"video play",domain:"vimeo.com",url:"//player.vimeo.com/video/{id}",parameters:function(f){return{api:f.api,autoplay:f.autoplay,byline:f.brandedUI,color:f.color||a,portrait:f.brandedUI,title:f.brandedUI}}}},templates:{iframe:function(f,h){var g=f;return h&&(g+="?"+h),'<iframe src="'+g+'" width="100%" height="100%" frameborder="0" scrolling="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'},placeholder:function(f,h){var g="";return h&&(g+='<i class="'+h+' icon"></i>'),f&&(g+='<img class="placeholder" src="'+f+'">'),g}},api:!1,onPause:function(){},onPlay:function(){},onStop:function(){}}}(jQuery,window,document),function(b,d,a,c){d=void 0!==d&&d.Math==Math?d:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),b.fn.modal=function(t){var r,h=b(this),l=b(d),s=b(a),f=b("body"),p=h.selector||"",n=(new Date).getTime(),i=[],j=t,m="string"==typeof j,g=[].slice.call(arguments,1),o=d.requestAnimationFrame||d.mozRequestAnimationFrame||d.webkitRequestAnimationFrame||d.msRequestAnimationFrame||function(k){setTimeout(k,0)};return h.each(function(){var J,G,B,K,k,O,M,N,H,w=b.isPlainObject(t)?b.extend(!0,{},b.fn.modal.settings,t):b.extend({},b.fn.modal.settings),P=w.selector,A=w.className,D=w.namespace,I=w.error,E="."+D,L="module-"+D,F=b(this),Q=b(w.context),q=F.find(P.close),S=this,R=F.data(L),z=!1;H={initialize:function(){H.verbose("Initializing dimmer",Q),H.create.id(),H.create.dimmer(),H.refreshModals(),H.bind.events(),w.observeChanges&&H.observeChanges(),H.instantiate()},instantiate:function(){H.verbose("Storing instance of modal"),R=H,F.data(L,R)},create:{dimmer:function(){var u={debug:w.debug,variation:!w.centered&&"top aligned",dimmerName:"modals"},v=b.extend(!0,u,w.dimmerSettings);b.fn.dimmer!==c?(H.debug("Creating dimmer"),K=Q.dimmer(v),w.detachable?(H.verbose("Modal is detachable, moving content into dimmer"),K.dimmer("add content",F)):H.set.undetached(),k=K.dimmer("get dimmer")):H.error(I.dimmer)},id:function(){M=(Math.random().toString(16)+"000000000").substr(2,8),O="."+M,H.verbose("Creating unique id for element",M)}},destroy:function(){H.verbose("Destroying previous modal"),F.removeData(L).off(E),l.off(O),k.off(O),q.off(E),Q.dimmer("destroy")},observeChanges:function(){"MutationObserver" in d&&((N=new MutationObserver(function(u){H.debug("DOM tree modified, refreshing"),H.refresh()})).observe(S,{childList:!0,subtree:!0}),H.debug("Setting up mutation observer",N))},refresh:function(){H.remove.scrolling(),H.cacheSizes(),H.can.useFlex()||H.set.modalOffset(),H.set.screenHeight(),H.set.type()},refreshModals:function(){G=F.siblings(P.modal),J=G.add(F)},attachEvents:function(u,x){var v=b(u);x=b.isFunction(H[x])?H[x]:H.toggle,0<v.length?(H.debug("Attaching modal events to element",u,x),v.off(E).on("click"+E,x)):H.error(I.notFound,u)},bind:{events:function(){H.verbose("Attaching events"),F.on("click"+E,P.close,H.event.close).on("click"+E,P.approve,H.event.approve).on("click"+E,P.deny,H.event.deny),l.on("resize"+O,H.event.resize)},scrollLock:function(){K.get(0).addEventListener("touchmove",H.event.preventScroll,{passive:!1})}},unbind:{scrollLock:function(){K.get(0).removeEventListener("touchmove",H.event.preventScroll,{passive:!1})}},get:{id:function(){return(Math.random().toString(16)+"000000000").substr(2,8)}},event:{approve:function(){z||!1===w.onApprove.call(S,b(this))?H.verbose("Approve callback returned false cancelling hide"):(z=!0,H.hide(function(){z=!1}))},preventScroll:function(u){u.preventDefault()},deny:function(){z||!1===w.onDeny.call(S,b(this))?H.verbose("Deny callback returned false cancelling hide"):(z=!0,H.hide(function(){z=!1}))},close:function(){H.hide()},click:function(u){if(w.closable){var x=0<b(u.target).closest(P.modal).length,v=b.contains(a.documentElement,u.target);!x&&v&&H.is.active()&&(H.debug("Dimmer clicked, hiding all modals"),H.remove.clickaway(),w.allowMultiple?H.hide():H.hideAll())}else{H.verbose("Dimmer clicked but closable setting is disabled")}},debounce:function(u,v){clearTimeout(H.timer),H.timer=setTimeout(u,v)},keyboard:function(u){27==u.which&&(w.closable?(H.debug("Escape key pressed hiding modal"),H.hide()):H.debug("Escape key pressed, but closable is set to false"),u.preventDefault())},resize:function(){K.dimmer("is active")&&(H.is.animating()||H.is.active())&&o(H.refresh)}},toggle:function(){H.is.active()||H.is.animating()?H.hide():H.show()},show:function(u){u=b.isFunction(u)?u:function(){},H.refreshModals(),H.set.dimmerSettings(),H.set.dimmerStyles(),H.showModal(u)},hide:function(u){u=b.isFunction(u)?u:function(){},H.refreshModals(),H.hideModal(u)},showModal:function(u){u=b.isFunction(u)?u:function(){},H.is.animating()||!H.is.active()?(H.showDimmer(),H.cacheSizes(),H.can.useFlex()?H.remove.legacy():(H.set.legacy(),H.set.modalOffset(),H.debug("Using non-flex legacy modal positioning.")),H.set.screenHeight(),H.set.type(),H.set.clickaway(),!w.allowMultiple&&H.others.active()?H.hideOthers(H.showModal):(w.allowMultiple&&w.detachable&&F.detach().appendTo(k),w.onShow.call(S),w.transition&&b.fn.transition!==c&&F.transition("is supported")?(H.debug("Showing modal with css animations"),F.transition({debug:w.debug,animation:w.transition+" in",queue:w.queue,duration:w.duration,useFailSafe:!0,onComplete:function(){w.onVisible.apply(S),w.keyboardShortcuts&&H.add.keyboardShortcuts(),H.save.focus(),H.set.active(),w.autofocus&&H.set.autofocus(),u()}})):H.error(I.noTransition))):H.debug("Modal is already visible")},hideModal:function(u,v){u=b.isFunction(u)?u:function(){},H.debug("Hiding modal"),!1!==w.onHide.call(S,b(this))?(H.is.animating()||H.is.active())&&(w.transition&&b.fn.transition!==c&&F.transition("is supported")?(H.remove.active(),F.transition({debug:w.debug,animation:w.transition+" out",queue:w.queue,duration:w.duration,useFailSafe:!0,onStart:function(){H.others.active()||v||H.hideDimmer(),w.keyboardShortcuts&&H.remove.keyboardShortcuts()},onComplete:function(){w.onHidden.call(S),H.remove.dimmerStyles(),H.restore.focus(),u()}})):H.error(I.noTransition)):H.verbose("Hide callback returned false cancelling hide")},showDimmer:function(){K.dimmer("is animating")||!K.dimmer("is active")?(H.debug("Showing dimmer"),K.dimmer("show")):H.debug("Dimmer already visible")},hideDimmer:function(){K.dimmer("is animating")||K.dimmer("is active")?(H.unbind.scrollLock(),K.dimmer("hide",function(){H.remove.clickaway(),H.remove.screenHeight()})):H.debug("Dimmer is not visible cannot hide")},hideAll:function(u){var v=J.filter("."+A.active+", ."+A.animating);u=b.isFunction(u)?u:function(){},0<v.length&&(H.debug("Hiding all visible modals"),H.hideDimmer(),v.modal("hide modal",u))},hideOthers:function(u){var v=G.filter("."+A.active+", ."+A.animating);u=b.isFunction(u)?u:function(){},0<v.length&&(H.debug("Hiding other modals",G),v.modal("hide modal",u,!0))},others:{active:function(){return 0<G.filter("."+A.active).length},animating:function(){return 0<G.filter("."+A.animating).length}},add:{keyboardShortcuts:function(){H.verbose("Adding keyboard shortcuts"),s.on("keyup"+E,H.event.keyboard)}},save:{focus:function(){0<b(a.activeElement).closest(F).length||(B=b(a.activeElement).blur())}},restore:{focus:function(){B&&0<B.length&&B.focus()}},remove:{active:function(){F.removeClass(A.active)},legacy:function(){F.removeClass(A.legacy)},clickaway:function(){k.off("click"+O)},dimmerStyles:function(){k.removeClass(A.inverted),K.removeClass(A.blurring)},bodyStyle:function(){""===f.attr("style")&&(H.verbose("Removing style attribute"),f.removeAttr("style"))},screenHeight:function(){H.debug("Removing page height"),f.css("height","")},keyboardShortcuts:function(){H.verbose("Removing keyboard shortcuts"),s.off("keyup"+E)},scrolling:function(){K.removeClass(A.scrolling),F.removeClass(A.scrolling)}},cacheSizes:function(){F.addClass(A.loading);var u=F.prop("scrollHeight"),x=F.outerWidth(),v=F.outerHeight();H.cache!==c&&0===v||(H.cache={pageHeight:b(a).outerHeight(),width:x,height:v+w.offset,scrollHeight:u+w.offset,contextHeight:"body"==w.context?b(d).height():K.height()},H.cache.topOffset=-H.cache.height/2),F.removeClass(A.loading),H.debug("Caching modal and container sizes",H.cache)},can:{useFlex:function(){return"auto"==w.useFlex?w.detachable&&!H.is.ie():w.useFlex},fit:function(){var v=H.cache.contextHeight,T=H.cache.contextHeight/2,y=H.cache.topOffset,x=H.cache.scrollHeight,C=H.cache.height,u=w.padding;return C<x?T+y+x+u<v:C+2*u<v}},is:{active:function(){return F.hasClass(A.active)},ie:function(){return !d.ActiveXObject&&"ActiveXObject" in d||"ActiveXObject" in d},animating:function(){return F.transition("is supported")?F.transition("is animating"):F.is(":visible")},scrolling:function(){return K.hasClass(A.scrolling)},modernBrowser:function(){return !(d.ActiveXObject||"ActiveXObject" in d)}},set:{autofocus:function(){var u=F.find("[tabindex], :input").filter(":visible"),x=u.filter("[autofocus]"),v=0<x.length?x.first():u.first();0<v.length&&v.focus()},clickaway:function(){k.on("click"+O,H.event.click)},dimmerSettings:function(){if(b.fn.dimmer!==c){var u={debug:w.debug,dimmerName:"modals",closable:"auto",useFlex:H.can.useFlex(),variation:!w.centered&&"top aligned",duration:{show:w.duration,hide:w.duration}},v=b.extend(!0,u,w.dimmerSettings);w.inverted&&(v.variation=v.variation!==c?v.variation+" inverted":"inverted"),Q.dimmer("setting",v)}else{H.error(I.dimmer)}},dimmerStyles:function(){w.inverted?k.addClass(A.inverted):k.removeClass(A.inverted),w.blurring?K.addClass(A.blurring):K.removeClass(A.blurring)},modalOffset:function(){var u=H.cache.width,v=H.cache.height;F.css({marginTop:w.centered&&H.can.fit()?-v/2:0,marginLeft:-u/2}),H.verbose("Setting modal offset for legacy mode")},screenHeight:function(){H.can.fit()?f.css("height",""):(H.debug("Modal is taller than page content, resizing page height"),f.css("height",H.cache.height+2*w.padding))},active:function(){F.addClass(A.active)},scrolling:function(){K.addClass(A.scrolling),F.addClass(A.scrolling),H.unbind.scrollLock()},legacy:function(){F.addClass(A.legacy)},type:function(){H.can.fit()?(H.verbose("Modal fits on screen"),H.others.active()||H.others.animating()||(H.remove.scrolling(),H.bind.scrollLock())):(H.verbose("Modal cannot fit on screen setting to scrolling"),H.set.scrolling())},undetached:function(){K.addClass(A.undetached)}},setting:function(u,v){if(H.debug("Changing setting",u,v),b.isPlainObject(u)){b.extend(!0,w,u)}else{if(v===c){return w[u]}b.isPlainObject(w[u])?b.extend(!0,w[u],v):w[u]=v}},internal:function(u,v){if(b.isPlainObject(u)){b.extend(!0,H,u)}else{if(v===c){return H[u]}H[u]=v}},debug:function(){!w.silent&&w.debug&&(w.performance?H.performance.log(arguments):(H.debug=Function.prototype.bind.call(console.info,console,w.name+":"),H.debug.apply(console,arguments)))},verbose:function(){!w.silent&&w.verbose&&w.debug&&(w.performance?H.performance.log(arguments):(H.verbose=Function.prototype.bind.call(console.info,console,w.name+":"),H.verbose.apply(console,arguments)))},error:function(){w.silent||(H.error=Function.prototype.bind.call(console.error,console,w.name+":"),H.error.apply(console,arguments))},performance:{log:function(u){var x,v;w.performance&&(v=(x=(new Date).getTime())-(n||x),n=x,i.push({Name:u[0],Arguments:[].slice.call(u,1)||"",Element:S,"Execution Time":v})),clearTimeout(H.performance.timer),H.performance.timer=setTimeout(H.performance.display,500)},display:function(){var u=w.name+":",v=0;n=!1,clearTimeout(H.performance.timer),b.each(i,function(x,y){v+=y["Execution Time"]}),u+=" "+v+"ms",p&&(u+=" '"+p+"'"),(console.group!==c||console.table!==c)&&0<i.length&&(console.groupCollapsed(u),console.table?console.table(i):b.each(i,function(x,y){console.log(y.Name+": "+y["Execution Time"]+"ms")}),console.groupEnd()),i=[]}},invoke:function(x,v,U){var C,u,y,T=R;return v=v||g,U=S||U,"string"==typeof x&&T!==c&&(x=x.split(/[\. ]/),C=x.length-1,b.each(x,function(V,X){var W=V!=C?X+x[V+1].charAt(0).toUpperCase()+x[V+1].slice(1):x;if(b.isPlainObject(T[W])&&V!=C){T=T[W]}else{if(T[W]!==c){return u=T[W],!1}if(!b.isPlainObject(T[X])||V==C){return T[X]!==c&&(u=T[X]),!1}T=T[X]}})),b.isFunction(u)?y=u.apply(U,v):u!==c&&(y=u),b.isArray(r)?r.push(y):r!==c?r=[r,y]:y!==c&&(r=y),u}},m?(R===c&&H.initialize(),H.invoke(j)):(R!==c&&R.invoke("destroy"),H.initialize())}),r!==c?r:this},b.fn.modal.settings={name:"Modal",namespace:"modal",useFlex:"auto",offset:0,silent:!1,debug:!1,verbose:!1,performance:!0,observeChanges:!1,allowMultiple:!1,detachable:!0,closable:!0,autofocus:!0,inverted:!1,blurring:!1,centered:!0,dimmerSettings:{closable:!1,useCSS:!0},keyboardShortcuts:!0,context:"body",queue:!1,duration:500,transition:"scale",padding:50,onShow:function(){},onVisible:function(){},onHide:function(){return !0},onHidden:function(){},onApprove:function(){return !0},onDeny:function(){return !0},selector:{close:"> .close",approve:".actions .positive, .actions .approve, .actions .ok",deny:".actions .negative, .actions .deny, .actions .cancel",modal:".ui.modal"},error:{dimmer:"UI Dimmer, a required component is not included in this page",method:"The method you called is not defined.",notFound:"The element you specified could not be found"},className:{active:"active",animating:"animating",blurring:"blurring",inverted:"inverted",legacy:"legacy",loading:"loading",scrolling:"scrolling",undetached:"undetached"}}}(jQuery,window,document),function(d,c,b,a){c=void 0!==c&&c.Math==Math?c:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),d.fn.nag=function(j){var l,k=d(this),q=k.selector||"",n=(new Date).getTime(),r=[],o=j,s="string"==typeof o,i=[].slice.call(arguments,1);return k.each(function(){var y,m=d.isPlainObject(j)?d.extend(!0,{},d.fn.nag.settings,j):d.extend({},d.fn.nag.settings),h=(m.className,m.selector),p=m.error,z=m.namespace,v="."+z,w=z+"-module",f=d(this),x=(f.find(h.close),m.context?d(m.context):d("body")),g=this,A=f.data(w);c.requestAnimationFrame||c.mozRequestAnimationFrame||c.webkitRequestAnimationFrame||c.msRequestAnimationFrame;y={initialize:function(){y.verbose("Initializing element"),f.on("click"+v,h.close,y.dismiss).data(w,y),m.detachable&&f.parent()[0]!==x[0]&&f.detach().prependTo(x),0<m.displayTime&&setTimeout(y.hide,m.displayTime),y.show()},destroy:function(){y.verbose("Destroying instance"),f.removeData(w).off(v)},show:function(){y.should.show()&&!f.is(":visible")&&(y.debug("Showing nag",m.animation.show),"fade"==m.animation.show?f.fadeIn(m.duration,m.easing):f.slideDown(m.duration,m.easing))},hide:function(){y.debug("Showing nag",m.animation.hide),"fade"==m.animation.show?f.fadeIn(m.duration,m.easing):f.slideUp(m.duration,m.easing)},onHide:function(){y.debug("Removing nag",m.animation.hide),f.remove(),m.onHide&&m.onHide()},dismiss:function(t){m.storageMethod&&y.storage.set(m.key,m.value),y.hide(),t.stopImmediatePropagation(),t.preventDefault()},should:{show:function(){return m.persist?(y.debug("Persistent nag is set, can show nag"),!0):y.storage.get(m.key)!=m.value.toString()?(y.debug("Stored value is not set, can show nag",y.storage.get(m.key)),!0):(y.debug("Stored value is set, cannot show nag",y.storage.get(m.key)),!1)}},get:{storageOptions:function(){var t={};return m.expires&&(t.expires=m.expires),m.domain&&(t.domain=m.domain),m.path&&(t.path=m.path),t}},clear:function(){y.storage.remove(m.key)},storage:{set:function(u,C){var B=y.get.storageOptions();if("localstorage"==m.storageMethod&&c.localStorage!==a){c.localStorage.setItem(u,C),y.debug("Value stored using local storage",u,C)}else{if("sessionstorage"==m.storageMethod&&c.sessionStorage!==a){c.sessionStorage.setItem(u,C),y.debug("Value stored using session storage",u,C)}else{if(d.cookie===a){return void y.error(p.noCookieStorage)}d.cookie(u,C,B),y.debug("Value stored using cookie",u,C,B)}}},get:function(u,C){var B;return"localstorage"==m.storageMethod&&c.localStorage!==a?B=c.localStorage.getItem(u):"sessionstorage"==m.storageMethod&&c.sessionStorage!==a?B=c.sessionStorage.getItem(u):d.cookie!==a?B=d.cookie(u):y.error(p.noCookieStorage),"undefined"!=B&&"null"!=B&&B!==a&&null!==B||(B=a),B},remove:function(u){var B=y.get.storageOptions();"localstorage"==m.storageMethod&&c.localStorage!==a?c.localStorage.removeItem(u):"sessionstorage"==m.storageMethod&&c.sessionStorage!==a?c.sessionStorage.removeItem(u):d.cookie!==a?d.removeCookie(u,B):y.error(p.noStorage)}},setting:function(u,B){if(y.debug("Changing setting",u,B),d.isPlainObject(u)){d.extend(!0,m,u)}else{if(B===a){return m[u]}d.isPlainObject(m[u])?d.extend(!0,m[u],B):m[u]=B}},internal:function(u,B){if(d.isPlainObject(u)){d.extend(!0,y,u)}else{if(B===a){return y[u]}y[u]=B}},debug:function(){!m.silent&&m.debug&&(m.performance?y.performance.log(arguments):(y.debug=Function.prototype.bind.call(console.info,console,m.name+":"),y.debug.apply(console,arguments)))},verbose:function(){!m.silent&&m.verbose&&m.debug&&(m.performance?y.performance.log(arguments):(y.verbose=Function.prototype.bind.call(console.info,console,m.name+":"),y.verbose.apply(console,arguments)))},error:function(){m.silent||(y.error=Function.prototype.bind.call(console.error,console,m.name+":"),y.error.apply(console,arguments))},performance:{log:function(u){var C,B;m.performance&&(B=(C=(new Date).getTime())-(n||C),n=C,r.push({Name:u[0],Arguments:[].slice.call(u,1)||"",Element:g,"Execution Time":B})),clearTimeout(y.performance.timer),y.performance.timer=setTimeout(y.performance.display,500)},display:function(){var t=m.name+":",u=0;n=!1,clearTimeout(y.performance.timer),d.each(r,function(B,C){u+=C["Execution Time"]}),t+=" "+u+"ms",q&&(t+=" '"+q+"'"),(console.group!==a||console.table!==a)&&0<r.length&&(console.groupCollapsed(t),console.table?console.table(r):d.each(r,function(B,C){console.log(C.Name+": "+C["Execution Time"]+"ms")}),console.groupEnd()),r=[]}},invoke:function(C,B,G){var E,u,D,F=A;return B=B||i,G=g||G,"string"==typeof C&&F!==a&&(C=C.split(/[\. ]/),E=C.length-1,d.each(C,function(H,J){var I=H!=E?J+C[H+1].charAt(0).toUpperCase()+C[H+1].slice(1):C;if(d.isPlainObject(F[I])&&H!=E){F=F[I]}else{if(F[I]!==a){return u=F[I],!1}if(!d.isPlainObject(F[J])||H==E){return F[J]!==a?u=F[J]:y.error(p.method,C),!1}F=F[J]}})),d.isFunction(u)?D=u.apply(G,B):u!==a&&(D=u),d.isArray(l)?l.push(D):l!==a?l=[l,D]:D!==a&&(l=D),u}},s?(A===a&&y.initialize(),y.invoke(o)):(A!==a&&A.invoke("destroy"),y.initialize())}),l!==a?l:this},d.fn.nag.settings={name:"Nag",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"Nag",persist:!1,displayTime:0,animation:{show:"slide",hide:"slide"},context:!1,detachable:!1,expires:30,domain:!1,path:"/",storageMethod:"cookie",key:"nag",value:"dismiss",error:{noCookieStorage:"$.cookie is not included. A storage solution is required.",noStorage:"Neither $.cookie or store is defined. A storage solution is required for storing state",method:"The method you called is not defined."},className:{bottom:"bottom",fixed:"fixed"},selector:{close:".close.icon"},speed:500,easing:"easeOutQuad",onHide:function(){}},d.extend(d.easing,{easeOutQuad:function(f,k,h,g,j){return -g*(k/=j)*(k-2)+h}})}(jQuery,window,document),function(d,a,c,b){a=void 0!==a&&a.Math==Math?a:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),d.fn.popup=function(n){var t,h=d(this),f=d(c),s=d(a),p=d("body"),i=h.selector||"",l=(new Date).getTime(),o=[],g=n,r="string"==typeof g,m=[].slice.call(arguments,1);return h.each(function(){var Q,q,B,P,J,A,D=d.isPlainObject(n)?d.extend(!0,{},d.fn.popup.settings,n):d.extend({},d.fn.popup.settings),K=D.selector,I=D.className,E=D.error,L=D.metadata,G=D.namespace,j="."+D.namespace,M="module-"+G,F=d(this),N=d(D.context),H=d(D.scrollContext),R=d(D.boundary),k=D.target?d(D.target):F,V=0,U=!1,z=!1,T=this,O=F.data(M);A={initialize:function(){A.debug("Initializing",F),A.createID(),A.bind.events(),!A.exists()&&D.preserve&&A.create(),D.observeChanges&&A.observeChanges(),A.instantiate()},instantiate:function(){A.verbose("Storing instance",A),O=A,F.data(M,O)},observeChanges:function(){"MutationObserver" in a&&((B=new MutationObserver(A.event.documentChanged)).observe(c,{childList:!0,subtree:!0}),A.debug("Setting up mutation observer",B))},refresh:function(){D.popup?Q=d(D.popup).eq(0):D.inline&&(Q=k.nextAll(K.popup).eq(0),D.popup=Q),D.popup?(Q.addClass(I.loading),q=A.get.offsetParent(),Q.removeClass(I.loading),D.movePopup&&A.has.popup()&&A.get.offsetParent(Q)[0]!==q[0]&&(A.debug("Moving popup to the same offset parent as target"),Q.detach().appendTo(q))):q=D.inline?A.get.offsetParent(k):A.has.popup()?A.get.offsetParent(Q):p,q.is("html")&&q[0]!==p[0]&&(A.debug("Setting page as offset parent"),q=p),A.get.variation()&&A.set.variation()},reposition:function(){A.refresh(),A.set.position()},destroy:function(){A.debug("Destroying previous module"),B&&B.disconnect(),Q&&!D.preserve&&A.removePopup(),clearTimeout(A.hideTimer),clearTimeout(A.showTimer),A.unbind.close(),A.unbind.events(),F.removeData(M)},event:{start:function(u){var v=d.isPlainObject(D.delay)?D.delay.show:D.delay;clearTimeout(A.hideTimer),z||(A.showTimer=setTimeout(A.show,v))},end:function(){var u=d.isPlainObject(D.delay)?D.delay.hide:D.delay;clearTimeout(A.showTimer),A.hideTimer=setTimeout(A.hide,u)},touchstart:function(u){z=!0,A.show()},resize:function(){A.is.visible()&&A.set.position()},documentChanged:function(u){[].forEach.call(u,function(v){v.removedNodes&&[].forEach.call(v.removedNodes,function(w){(w==T||0<d(w).find(T).length)&&(A.debug("Element removed from DOM, tearing down events"),A.destroy())})})},hideGracefully:function(u){var x=d(u.target),w=d.contains(c.documentElement,u.target),v=0<x.closest(K.popup).length;u&&!v&&w?(A.debug("Click occurred outside popup hiding popup"),A.hide()):A.debug("Click was inside popup, keeping popup open")}},create:function(){var u=A.get.html(),w=A.get.title(),v=A.get.content();u||v||w?(A.debug("Creating pop-up html"),u||(u=D.templates.popup({title:w,content:v})),Q=d("<div/>").addClass(I.popup).data(L.activator,F).html(u),D.inline?(A.verbose("Inserting popup element inline",Q),Q.insertAfter(F)):(A.verbose("Appending popup element to body",Q),Q.appendTo(N)),A.refresh(),A.set.variation(),D.hoverable&&A.bind.popup(),D.onCreate.call(Q,T)):0!==k.next(K.popup).length?(A.verbose("Pre-existing popup found"),D.inline=!0,D.popup=k.next(K.popup).data(L.activator,F),A.refresh(),D.hoverable&&A.bind.popup()):D.popup?(d(D.popup).data(L.activator,F),A.verbose("Used popup specified in settings"),A.refresh(),D.hoverable&&A.bind.popup()):A.debug("No content specified skipping display",T)},createID:function(){J=(Math.random().toString(16)+"000000000").substr(2,8),P="."+J,A.verbose("Creating unique id for element",J)},toggle:function(){A.debug("Toggling pop-up"),A.is.hidden()?(A.debug("Popup is hidden, showing pop-up"),A.unbind.close(),A.show()):(A.debug("Popup is visible, hiding pop-up"),A.hide())},show:function(u){if(u=u||function(){},A.debug("Showing pop-up",D.transition),A.is.hidden()&&(!A.is.active()||!A.is.dropdown())){if(A.exists()||A.create(),!1===D.onShow.call(Q,T)){return void A.debug("onShow callback returned false, cancelling popup animation")}D.preserve||D.popup||A.refresh(),Q&&A.set.position()&&(A.save.conditions(),D.exclusive&&A.hideAll(),A.animate.show(u))}},hide:function(u){if(u=u||function(){},A.is.visible()||A.is.animating()){if(!1===D.onHide.call(Q,T)){return void A.debug("onHide callback returned false, cancelling popup animation")}A.remove.visible(),A.unbind.close(),A.restore.conditions(),A.animate.hide(u)}},hideAll:function(){d(K.popup).filter("."+I.popupVisible).each(function(){d(this).data(L.activator).popup("hide")})},exists:function(){return !!Q&&(D.inline||D.popup?A.has.popup():1<=Q.closest(N).length)},removePopup:function(){A.has.popup()&&!D.popup&&(A.debug("Removing popup",Q),Q.remove(),Q=b,D.onRemove.call(Q,T))},save:{conditions:function(){A.cache={title:F.attr("title")},A.cache.title&&F.removeAttr("title"),A.verbose("Saving original attributes",A.cache.title)}},restore:{conditions:function(){return A.cache&&A.cache.title&&(F.attr("title",A.cache.title),A.verbose("Restoring original attributes",A.cache.title)),!0}},supports:{svg:function(){return"undefined"==typeof SVGGraphicsElement}},animate:{show:function(u){u=d.isFunction(u)?u:function(){},D.transition&&d.fn.transition!==b&&F.transition("is supported")?(A.set.visible(),Q.transition({animation:D.transition+" in",queue:!1,debug:D.debug,verbose:D.verbose,duration:D.duration,onComplete:function(){A.bind.close(),u.call(Q,T),D.onVisible.call(Q,T)}})):A.error(E.noTransition)},hide:function(u){u=d.isFunction(u)?u:function(){},A.debug("Hiding pop-up"),!1!==D.onHide.call(Q,T)?D.transition&&d.fn.transition!==b&&F.transition("is supported")?Q.transition({animation:D.transition+" out",queue:!1,duration:D.duration,debug:D.debug,verbose:D.verbose,onComplete:function(){A.reset(),u.call(Q,T),D.onHidden.call(Q,T)}}):A.error(E.noTransition):A.debug("onHide callback returned false, cancelling popup animation")}},change:{content:function(u){Q.html(u)}},get:{html:function(){return F.removeData(L.html),F.data(L.html)||D.html},title:function(){return F.removeData(L.title),F.data(L.title)||D.title},content:function(){return F.removeData(L.content),F.data(L.content)||D.content||F.attr("title")},variation:function(){return F.removeData(L.variation),F.data(L.variation)||D.variation},popup:function(){return Q},popupOffset:function(){return Q.offset()},calculations:function(){var v,X=A.get.offsetParent(Q),y=k[0],w=R[0]==a,C=D.inline||D.popup&&D.movePopup?k.position():k.offset(),u=w?{top:0,left:0}:R.offset(),S={},W=w?{top:s.scrollTop(),left:s.scrollLeft()}:{top:0,left:0};if(S={target:{element:k[0],width:k.outerWidth(),height:k.outerHeight(),top:C.top,left:C.left,margin:{}},popup:{width:Q.outerWidth(),height:Q.outerHeight()},parent:{width:q.outerWidth(),height:q.outerHeight()},screen:{top:u.top,left:u.left,scroll:{top:W.top,left:W.left},width:R.width(),height:R.height()}},X.get(0)!==q.get(0)){var x=X.offset();S.target.top-=x.top,S.target.left-=x.left,S.parent.width=X.outerWidth(),S.parent.height=X.outerHeight()}return D.setFluidWidth&&A.is.fluid()&&(S.container={width:Q.parent().outerWidth()},S.popup.width=S.container.width),S.target.margin.top=D.inline?parseInt(a.getComputedStyle(y).getPropertyValue("margin-top"),10):0,S.target.margin.left=D.inline?A.is.rtl()?parseInt(a.getComputedStyle(y).getPropertyValue("margin-right"),10):parseInt(a.getComputedStyle(y).getPropertyValue("margin-left"),10):0,v=S.screen,S.boundary={top:v.top+v.scroll.top,bottom:v.top+v.scroll.top+v.height,left:v.left+v.scroll.left,right:v.left+v.scroll.left+v.width},S},id:function(){return J},startEvent:function(){return"hover"==D.on?"mouseenter":"focus"==D.on&&"focus"},scrollEvent:function(){return"scroll"},endEvent:function(){return"hover"==D.on?"mouseleave":"focus"==D.on&&"blur"},distanceFromBoundary:function(u,y){var w,v,x={};return w=(y=y||A.get.calculations()).popup,v=y.boundary,u&&(x={top:u.top-v.top,left:u.left-v.left,right:v.right-(u.left+w.width),bottom:v.bottom-(u.top+w.height)},A.verbose("Distance from boundaries determined",u,x)),x},offsetParent:function(v){var C=(v!==b?v[0]:k[0]).parentNode,x=d(C);if(C){for(var w="none"===x.css("transform"),y="static"===x.css("position"),u=x.is("body");C&&!u&&y&&w;){C=C.parentNode,w="none"===(x=d(C)).css("transform"),y="static"===x.css("position"),u=x.is("body")}}return x&&0<x.length?x:d()},positions:function(){return{"top left":!1,"top center":!1,"top right":!1,"bottom left":!1,"bottom center":!1,"bottom right":!1,"left center":!1,"right center":!1}},nextPosition:function(v){var W=v.split(" "),x=W[0],w=W[1],y="top"==x||"bottom"==x,u=!1,C=!1,S=!1;return U||(A.verbose("All available positions available"),U=A.get.positions()),A.debug("Recording last position tried",v),U[v]=!0,"opposite"===D.prefer&&(S=(S=[{top:"bottom",bottom:"top",left:"right",right:"left"}[x],w]).join(" "),u=!0===U[S],A.debug("Trying opposite strategy",S)),"adjacent"===D.prefer&&y&&(S=(S=[x,{left:"center",center:"right",right:"left"}[w]]).join(" "),C=!0===U[S],A.debug("Trying adjacent strategy",S)),(C||u)&&(A.debug("Using backup position",S),S={"top left":"top center","top center":"top right","top right":"right center","right center":"bottom right","bottom right":"bottom center","bottom center":"bottom left","bottom left":"left center","left center":"top left"}[v]),S}},set:{position:function(w,Y){if(0!==k.length&&0!==Q.length){var C,x,S,u,W,X,y,v;if(Y=Y||A.get.calculations(),w=w||F.data(L.position)||D.position,C=F.data(L.offset)||D.offset,x=D.distanceAway,S=Y.target,u=Y.popup,W=Y.parent,A.should.centerArrow(Y)&&(A.verbose("Adjusting offset to center arrow on small target element"),"top left"!=w&&"bottom left"!=w||(C+=S.width/2,C-=D.arrowPixelsFromEdge),"top right"!=w&&"bottom right"!=w||(C-=S.width/2,C+=D.arrowPixelsFromEdge)),0===S.width&&0===S.height&&!A.is.svg(S.element)){return A.debug("Popup target is hidden, no action taken"),!1}switch(D.inline&&(A.debug("Adding margin to calculation",S.margin),"left center"==w||"right center"==w?(C+=S.margin.top,x+=-S.margin.left):"top left"==w||"top center"==w||"top right"==w?(C+=S.margin.left,x-=S.margin.top):(C+=S.margin.left,x+=S.margin.top)),A.debug("Determining popup position from calculations",w,Y),A.is.rtl()&&(w=w.replace(/left|right/g,function(Z){return"left"==Z?"right":"left"}),A.debug("RTL: Popup position updated",w)),V==D.maxSearchDepth&&"string"==typeof D.lastResort&&(w=D.lastResort),w){case"top left":X={top:"auto",bottom:W.height-S.top+x,left:S.left+C,right:"auto"};break;case"top center":X={bottom:W.height-S.top+x,left:S.left+S.width/2-u.width/2+C,top:"auto",right:"auto"};break;case"top right":X={bottom:W.height-S.top+x,right:W.width-S.left-S.width-C,top:"auto",left:"auto"};break;case"left center":X={top:S.top+S.height/2-u.height/2+C,right:W.width-S.left+x,left:"auto",bottom:"auto"};break;case"right center":X={top:S.top+S.height/2-u.height/2+C,left:S.left+S.width+x,bottom:"auto",right:"auto"};break;case"bottom left":X={top:S.top+S.height+x,left:S.left+C,bottom:"auto",right:"auto"};break;case"bottom center":X={top:S.top+S.height+x,left:S.left+S.width/2-u.width/2+C,bottom:"auto",right:"auto"};break;case"bottom right":X={top:S.top+S.height+x,right:W.width-S.left-S.width-C,left:"auto",bottom:"auto"}}if(X===b&&A.error(E.invalidPosition,w),A.debug("Calculated popup positioning values",X),Q.css(X).removeClass(I.position).addClass(w).addClass(I.loading),y=A.get.popupOffset(),v=A.get.distanceFromBoundary(y,Y),A.is.offstage(v,w)){if(A.debug("Position is outside viewport",w),V<D.maxSearchDepth){return V++,w=A.get.nextPosition(w),A.debug("Trying new position",w),!!Q&&A.set.position(w,Y)}if(!D.lastResort){return A.debug("Popup could not find a position to display",Q),A.error(E.cannotPlace,T),A.remove.attempts(),A.remove.loading(),A.reset(),D.onUnplaceable.call(Q,T),!1}A.debug("No position found, showing with last position")}return A.debug("Position is on stage",w),A.remove.attempts(),A.remove.loading(),D.setFluidWidth&&A.is.fluid()&&A.set.fluidWidth(Y),!0}A.error(E.notFound)},fluidWidth:function(u){u=u||A.get.calculations(),A.debug("Automatically setting element width to parent width",u.parent.width),Q.css("width",u.container.width)},variation:function(u){(u=u||A.get.variation())&&A.has.popup()&&(A.verbose("Adding variation to popup",u),Q.addClass(u))},visible:function(){F.addClass(I.visible)}},remove:{loading:function(){Q.removeClass(I.loading)},variation:function(u){(u=u||A.get.variation())&&(A.verbose("Removing variation",u),Q.removeClass(u))},visible:function(){F.removeClass(I.visible)},attempts:function(){A.verbose("Resetting all searched positions"),V=0,U=!1}},bind:{events:function(){A.debug("Binding popup events to module"),"click"==D.on&&F.on("click"+j,A.toggle),"hover"==D.on&&F.on("touchstart"+j,A.event.touchstart),A.get.startEvent()&&F.on(A.get.startEvent()+j,A.event.start).on(A.get.endEvent()+j,A.event.end),D.target&&A.debug("Target set to element",k),s.on("resize"+P,A.event.resize)},popup:function(){A.verbose("Allowing hover events on popup to prevent closing"),Q&&A.has.popup()&&Q.on("mouseenter"+j,A.event.start).on("mouseleave"+j,A.event.end)},close:function(){(!0===D.hideOnScroll||"auto"==D.hideOnScroll&&"click"!=D.on)&&A.bind.closeOnScroll(),A.is.closable()?A.bind.clickaway():"hover"==D.on&&z&&A.bind.touchClose()},closeOnScroll:function(){A.verbose("Binding scroll close event to document"),H.one(A.get.scrollEvent()+P,A.event.hideGracefully)},touchClose:function(){A.verbose("Binding popup touchclose event to document"),f.on("touchstart"+P,function(u){A.verbose("Touched away from popup"),A.event.hideGracefully.call(T,u)})},clickaway:function(){A.verbose("Binding popup close event to document"),f.on("click"+P,function(u){A.verbose("Clicked away from popup"),A.event.hideGracefully.call(T,u)})}},unbind:{events:function(){s.off(P),F.off(j)},close:function(){f.off(P),H.off(P)}},has:{popup:function(){return Q&&0<Q.length}},should:{centerArrow:function(u){return !A.is.basic()&&u.target.width<=2*D.arrowPixelsFromEdge}},is:{closable:function(){return"auto"==D.closable?"hover"!=D.on:D.closable},offstage:function(u,w){var v=[];return d.each(u,function(x,y){y<-D.jitter&&(A.debug("Position exceeds allowable distance from edge",x,y,w),v.push(x))}),0<v.length},svg:function(u){return A.supports.svg()&&u instanceof SVGGraphicsElement},basic:function(){return F.hasClass(I.basic)},active:function(){return F.hasClass(I.active)},animating:function(){return Q!==b&&Q.hasClass(I.animating)},fluid:function(){return Q!==b&&Q.hasClass(I.fluid)},visible:function(){return Q!==b&&Q.hasClass(I.popupVisible)},dropdown:function(){return F.hasClass(I.dropdown)},hidden:function(){return !A.is.visible()},rtl:function(){return"rtl"==F.css("direction")}},reset:function(){A.remove.visible(),D.preserve?d.fn.transition!==b&&Q.transition("remove transition"):A.removePopup()},setting:function(u,v){if(d.isPlainObject(u)){d.extend(!0,D,u)}else{if(v===b){return D[u]}D[u]=v}},internal:function(u,v){if(d.isPlainObject(u)){d.extend(!0,A,u)}else{if(v===b){return A[u]}A[u]=v}},debug:function(){!D.silent&&D.debug&&(D.performance?A.performance.log(arguments):(A.debug=Function.prototype.bind.call(console.info,console,D.name+":"),A.debug.apply(console,arguments)))},verbose:function(){!D.silent&&D.verbose&&D.debug&&(D.performance?A.performance.log(arguments):(A.verbose=Function.prototype.bind.call(console.info,console,D.name+":"),A.verbose.apply(console,arguments)))},error:function(){D.silent||(A.error=Function.prototype.bind.call(console.error,console,D.name+":"),A.error.apply(console,arguments))},performance:{log:function(u){var w,v;D.performance&&(v=(w=(new Date).getTime())-(l||w),l=w,o.push({Name:u[0],Arguments:[].slice.call(u,1)||"",Element:T,"Execution Time":v})),clearTimeout(A.performance.timer),A.performance.timer=setTimeout(A.performance.display,500)},display:function(){var u=D.name+":",v=0;l=!1,clearTimeout(A.performance.timer),d.each(o,function(w,x){v+=x["Execution Time"]}),u+=" "+v+"ms",i&&(u+=" '"+i+"'"),(console.group!==b||console.table!==b)&&0<o.length&&(console.groupCollapsed(u),console.table?console.table(o):d.each(o,function(w,x){console.log(x.Name+": "+x["Execution Time"]+"ms")}),console.groupEnd()),o=[]}},invoke:function(w,v,S){var y,u,x,C=O;return v=v||m,S=T||S,"string"==typeof w&&C!==b&&(w=w.split(/[\. ]/),y=w.length-1,d.each(w,function(W,Y){var X=W!=y?Y+w[W+1].charAt(0).toUpperCase()+w[W+1].slice(1):w;if(d.isPlainObject(C[X])&&W!=y){C=C[X]}else{if(C[X]!==b){return u=C[X],!1}if(!d.isPlainObject(C[Y])||W==y){return C[Y]!==b&&(u=C[Y]),!1}C=C[Y]}})),d.isFunction(u)?x=u.apply(S,v):u!==b&&(x=u),d.isArray(t)?t.push(x):t!==b?t=[t,x]:x!==b&&(t=x),u}},r?(O===b&&A.initialize(),A.invoke(g)):(O!==b&&O.invoke("destroy"),A.initialize())}),t!==b?t:this},d.fn.popup.settings={name:"Popup",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"popup",observeChanges:!0,onCreate:function(){},onRemove:function(){},onShow:function(){},onVisible:function(){},onHide:function(){},onUnplaceable:function(){},onHidden:function(){},on:"hover",boundary:a,addTouchEvents:!0,position:"top left",variation:"",movePopup:!0,target:!1,popup:!1,inline:!1,preserve:!1,hoverable:!1,content:!1,html:!1,title:!1,closable:!0,hideOnScroll:"auto",exclusive:!1,context:"body",scrollContext:a,prefer:"opposite",lastResort:!1,arrowPixelsFromEdge:20,delay:{show:50,hide:70},setFluidWidth:!0,duration:200,transition:"scale",distanceAway:0,jitter:2,offset:0,maxSearchDepth:15,error:{invalidPosition:"The position you specified is not a valid position",cannotPlace:"Popup does not fit within the boundaries of the viewport",method:"The method you called is not defined.",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>",notFound:"The target or popup you specified does not exist on the page"},metadata:{activator:"activator",content:"content",html:"html",offset:"offset",position:"position",title:"title",variation:"variation"},className:{active:"active",basic:"basic",animating:"animating",dropdown:"dropdown",fluid:"fluid",loading:"loading",popup:"ui popup",position:"top left center bottom right",visible:"visible",popupVisible:"visible"},selector:{popup:".ui.popup"},templates:{escape:function(f){var g={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};return/[&<>"'`]/.test(f)?f.replace(/[&<>"'`]/g,function(h){return g[h]}):f},popup:function(f){var h="",g=d.fn.popup.settings.templates.escape;return typeof f!==b&&(typeof f.title!==b&&f.title&&(f.title=g(f.title),h+='<div class="header">'+f.title+"</div>"),typeof f.content!==b&&f.content&&(f.content=g(f.content),h+='<div class="content">'+f.content+"</div>")),h}}}}(jQuery,window,document),function(c,b,d,a){void 0!==(b=void 0!==b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")())&&b.Math==Math||("undefined"!=typeof self&&self.Math==Math?self:Function("return this")());c.fn.progress=function(j){var l,i=c(this),f=i.selector||"",o=(new Date).getTime(),n=[],g=j,m="string"==typeof g,k=[].slice.call(arguments,1);return i.each(function(){var G,z=c.isPlainObject(j)?c.extend(!0,{},c.fn.progress.settings,j):c.extend({},c.fn.progress.settings),H=z.className,C=z.metadata,w=z.namespace,D=z.selector,A=z.error,h="."+w,F="module-"+w,q=c(this),I=c(this).find(D.bar),v=c(this).find(D.progress),x=c(this).find(D.label),B=this,y=q.data(F),E=!1;G={initialize:function(){G.debug("Initializing progress bar",z),G.set.duration(),G.set.transitionEvent(),G.read.metadata(),G.read.settings(),G.instantiate()},instantiate:function(){G.verbose("Storing instance of progress",G),y=G,q.data(F,G)},destroy:function(){G.verbose("Destroying previous progress for",q),clearInterval(y.interval),G.remove.state(),q.removeData(F),y=a},reset:function(){G.remove.nextValue(),G.update.progress(0)},complete:function(){(G.percent===a||G.percent<100)&&(G.remove.progressPoll(),G.set.percent(100))},read:{metadata:function(){var p={percent:q.data(C.percent),total:q.data(C.total),value:q.data(C.value)};p.percent&&(G.debug("Current percent value set from metadata",p.percent),G.set.percent(p.percent)),p.total&&(G.debug("Total value set from metadata",p.total),G.set.total(p.total)),p.value&&(G.debug("Current value set from metadata",p.value),G.set.value(p.value),G.set.progress(p.value))},settings:function(){!1!==z.total&&(G.debug("Current total set in settings",z.total),G.set.total(z.total)),!1!==z.value&&(G.debug("Current value set in settings",z.value),G.set.value(z.value),G.set.progress(G.value)),!1!==z.percent&&(G.debug("Current percent set in settings",z.percent),G.set.percent(z.percent))}},bind:{transitionEnd:function(r){var p=G.get.transitionEnd();I.one(p+h,function(s){clearTimeout(G.failSafeTimer),r.call(this,s)}),G.failSafeTimer=setTimeout(function(){I.triggerHandler(p)},z.duration+z.failSafeDelay),G.verbose("Adding fail safe timer",G.timer)}},increment:function(p){var s,r;G.has.total()?r=(s=G.get.value())+(p=p||1):(r=(s=G.get.percent())+(p=p||G.get.randomValue()),100,G.debug("Incrementing percentage by",s,r)),r=G.get.normalizedValue(r),G.set.progress(r)},decrement:function(p){var s,r;G.get.total()?(r=(s=G.get.value())-(p=p||1),G.debug("Decrementing value by",p,s)):(r=(s=G.get.percent())-(p=p||G.get.randomValue()),G.debug("Decrementing percentage by",p,s)),r=G.get.normalizedValue(r),G.set.progress(r)},has:{progressPoll:function(){return G.progressPoll},total:function(){return !1!==G.get.total()}},get:{text:function(p){var J=G.value||0,s=G.total||0,r=E?G.get.displayPercent():G.percent||0,u=0<G.total?s-J:100-r;return p=(p=p||"").replace("{value}",J).replace("{total}",s).replace("{left}",u).replace("{percent}",r),G.verbose("Adding variables to progress bar text",p),p},normalizedValue:function(p){if(p<0){return G.debug("Value cannot decrement below 0"),0}if(G.has.total()){if(p>G.total){return G.debug("Value cannot increment above total",G.total),G.total}}else{if(100<p){return G.debug("Value cannot increment above 100 percent"),100}}return p},updateInterval:function(){return"auto"==z.updateInterval?z.duration:z.updateInterval},randomValue:function(){return G.debug("Generating random increment percentage"),Math.floor(Math.random()*z.random.max+z.random.min)},numericValue:function(p){return"string"==typeof p?""!==p.replace(/[^\d.]/g,"")&&+p.replace(/[^\d.]/g,""):p},transitionEnd:function(){var p,s=d.createElement("element"),r={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(p in r){if(s.style[p]!==a){return r[p]}}},displayPercent:function(){var p=I.width(),s=q.width(),r=parseInt(I.css("min-width"),10)<p?p/s*100:G.percent;return 0<z.precision?Math.round(r*(10*z.precision))/(10*z.precision):Math.round(r)},percent:function(){return G.percent||0},value:function(){return G.nextValue||G.value||0},total:function(){return G.total||!1}},create:{progressPoll:function(){G.progressPoll=setTimeout(function(){G.update.toNextValue(),G.remove.progressPoll()},G.get.updateInterval())}},is:{complete:function(){return G.is.success()||G.is.warning()||G.is.error()},success:function(){return q.hasClass(H.success)},warning:function(){return q.hasClass(H.warning)},error:function(){return q.hasClass(H.error)},active:function(){return q.hasClass(H.active)},visible:function(){return q.is(":visible")}},remove:{progressPoll:function(){G.verbose("Removing progress poll timer"),G.progressPoll&&(clearTimeout(G.progressPoll),delete G.progressPoll)},nextValue:function(){G.verbose("Removing progress value stored for next update"),delete G.nextValue},state:function(){G.verbose("Removing stored state"),delete G.total,delete G.percent,delete G.value},active:function(){G.verbose("Removing active state"),q.removeClass(H.active)},success:function(){G.verbose("Removing success state"),q.removeClass(H.success)},warning:function(){G.verbose("Removing warning state"),q.removeClass(H.warning)},error:function(){G.verbose("Removing error state"),q.removeClass(H.error)}},set:{barWidth:function(p){100<p?G.error(A.tooHigh,p):p<0?G.error(A.tooLow,p):(I.css("width",p+"%"),q.attr("data-percent",parseInt(p,10)))},duration:function(p){p="number"==typeof(p=p||z.duration)?p+"ms":p,G.verbose("Setting progress bar transition duration",p),I.css({"transition-duration":p})},percent:function(p){p="string"==typeof p?+p.replace("%",""):p,p=0<z.precision?Math.round(p*(10*z.precision))/(10*z.precision):Math.round(p),G.percent=p,G.has.total()||(G.value=0<z.precision?Math.round(p/100*G.total*(10*z.precision))/(10*z.precision):Math.round(p/100*G.total*10)/10,z.limitValues&&(G.value=100<G.value?100:G.value<0?0:G.value)),G.set.barWidth(p),G.set.labelInterval(),G.set.labels(),z.onChange.call(B,p,G.value,G.total)},labelInterval:function(){clearInterval(G.interval),G.bind.transitionEnd(function(){G.verbose("Bar finished animating, removing continuous label updates"),clearInterval(G.interval),E=!1,G.set.labels()}),E=!0,G.interval=setInterval(function(){c.contains(d.documentElement,B)||(clearInterval(G.interval),E=!1),G.set.labels()},z.framerate)},labels:function(){G.verbose("Setting both bar progress and outer label text"),G.set.barLabel(),G.set.state()},label:function(p){(p=p||"")&&(p=G.get.text(p),G.verbose("Setting label to text",p),x.text(p))},state:function(p){100===(p=p!==a?p:G.percent)?z.autoSuccess&&!(G.is.warning()||G.is.error()||G.is.success())?(G.set.success(),G.debug("Automatically triggering success at 100%")):(G.verbose("Reached 100% removing active state"),G.remove.active(),G.remove.progressPoll()):0<p?(G.verbose("Adjusting active progress bar label",p),G.set.active()):(G.remove.active(),G.set.label(z.text.active))},barLabel:function(p){p!==a?v.text(G.get.text(p)):"ratio"==z.label&&G.total?(G.verbose("Adding ratio to bar label"),v.text(G.get.text(z.text.ratio))):"percent"==z.label&&(G.verbose("Adding percentage to bar label"),v.text(G.get.text(z.text.percent)))},active:function(p){p=p||z.text.active,G.debug("Setting active state"),z.showActivity&&!G.is.active()&&q.addClass(H.active),G.remove.warning(),G.remove.error(),G.remove.success(),(p=z.onLabelUpdate("active",p,G.value,G.total))&&G.set.label(p),G.bind.transitionEnd(function(){z.onActive.call(B,G.value,G.total)})},success:function(p){p=p||z.text.success||z.text.active,G.debug("Setting success state"),q.addClass(H.success),G.remove.active(),G.remove.warning(),G.remove.error(),G.complete(),p=z.text.success?z.onLabelUpdate("success",p,G.value,G.total):z.onLabelUpdate("active",p,G.value,G.total),G.set.label(p),G.bind.transitionEnd(function(){z.onSuccess.call(B,G.total)})},warning:function(p){p=p||z.text.warning,G.debug("Setting warning state"),q.addClass(H.warning),G.remove.active(),G.remove.success(),G.remove.error(),G.complete(),(p=z.onLabelUpdate("warning",p,G.value,G.total))&&G.set.label(p),G.bind.transitionEnd(function(){z.onWarning.call(B,G.value,G.total)})},error:function(p){p=p||z.text.error,G.debug("Setting error state"),q.addClass(H.error),G.remove.active(),G.remove.success(),G.remove.warning(),G.complete(),(p=z.onLabelUpdate("error",p,G.value,G.total))&&G.set.label(p),G.bind.transitionEnd(function(){z.onError.call(B,G.value,G.total)})},transitionEvent:function(){G.get.transitionEnd()},total:function(p){G.total=p},value:function(p){G.value=p},progress:function(p){G.has.progressPoll()?(G.debug("Updated within interval, setting next update to use new value",p),G.set.nextValue(p)):(G.debug("First update in progress update interval, immediately updating",p),G.update.progress(p),G.create.progressPoll())},nextValue:function(p){G.nextValue=p}},update:{toNextValue:function(){var p=G.nextValue;p&&(G.debug("Update interval complete using last updated value",p),G.update.progress(p),G.remove.nextValue())},progress:function(p){var r;!1===(p=G.get.numericValue(p))&&G.error(A.nonNumeric,p),p=G.get.normalizedValue(p),G.has.total()?(G.set.value(p),r=p/G.total*100,G.debug("Calculating percent complete from total",r)):(r=p,G.debug("Setting value to exact percentage value",r)),G.set.percent(r)}},setting:function(p,r){if(G.debug("Changing setting",p,r),c.isPlainObject(p)){c.extend(!0,z,p)}else{if(r===a){return z[p]}c.isPlainObject(z[p])?c.extend(!0,z[p],r):z[p]=r}},internal:function(p,r){if(c.isPlainObject(p)){c.extend(!0,G,p)}else{if(r===a){return G[p]}G[p]=r}},debug:function(){!z.silent&&z.debug&&(z.performance?G.performance.log(arguments):(G.debug=Function.prototype.bind.call(console.info,console,z.name+":"),G.debug.apply(console,arguments)))},verbose:function(){!z.silent&&z.verbose&&z.debug&&(z.performance?G.performance.log(arguments):(G.verbose=Function.prototype.bind.call(console.info,console,z.name+":"),G.verbose.apply(console,arguments)))},error:function(){z.silent||(G.error=Function.prototype.bind.call(console.error,console,z.name+":"),G.error.apply(console,arguments))},performance:{log:function(p){var s,r;z.performance&&(r=(s=(new Date).getTime())-(o||s),o=s,n.push({Name:p[0],Arguments:[].slice.call(p,1)||"",Element:B,"Execution Time":r})),clearTimeout(G.performance.timer),G.performance.timer=setTimeout(G.performance.display,500)},display:function(){var p=z.name+":",r=0;o=!1,clearTimeout(G.performance.timer),c.each(n,function(s,u){r+=u["Execution Time"]}),p+=" "+r+"ms",f&&(p+=" '"+f+"'"),(console.group!==a||console.table!==a)&&0<n.length&&(console.groupCollapsed(p),console.table?console.table(n):c.each(n,function(s,u){console.log(u.Name+": "+u["Execution Time"]+"ms")}),console.groupEnd()),n=[]}},invoke:function(u,s,M){var K,p,J,L=y;return s=s||k,M=B||M,"string"==typeof u&&L!==a&&(u=u.split(/[\. ]/),K=u.length-1,c.each(u,function(r,O){var N=r!=K?O+u[r+1].charAt(0).toUpperCase()+u[r+1].slice(1):u;if(c.isPlainObject(L[N])&&r!=K){L=L[N]}else{if(L[N]!==a){return p=L[N],!1}if(!c.isPlainObject(L[O])||r==K){return L[O]!==a?p=L[O]:G.error(A.method,u),!1}L=L[O]}})),c.isFunction(p)?J=p.apply(M,s):p!==a&&(J=p),c.isArray(l)?l.push(J):l!==a?l=[l,J]:J!==a&&(l=J),p}},m?(y===a&&G.initialize(),G.invoke(g)):(y!==a&&y.invoke("destroy"),G.initialize())}),l!==a?l:this},c.fn.progress.settings={name:"Progress",namespace:"progress",silent:!1,debug:!1,verbose:!1,performance:!0,random:{min:2,max:5},duration:300,updateInterval:"auto",autoSuccess:!0,showActivity:!0,limitValues:!0,label:"percent",precision:0,framerate:1000/30,percent:!1,total:!1,value:!1,failSafeDelay:100,onLabelUpdate:function(f,j,h,g){return j},onChange:function(f,h,g){},onSuccess:function(f){},onActive:function(f,g){},onError:function(f,g){},onWarning:function(f,g){},error:{method:"The method you called is not defined.",nonNumeric:"Progress value is non numeric",tooHigh:"Value specified is above 100%",tooLow:"Value specified is below 0%"},regExp:{variable:/\{\$*[A-z0-9]+\}/g},metadata:{percent:"percent",total:"total",value:"value"},selector:{bar:"> .bar",label:"> .label",progress:".bar > .progress"},text:{active:!1,error:!1,success:!1,warning:!1,percent:"{percent}%",ratio:"{value} of {total}"},className:{active:"active",error:"error",success:"success",warning:"warning"}}}(jQuery,window,document),function(d,a,c,b){a=void 0!==a&&a.Math==Math?a:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),d.fn.rating=function(k){var i,l=d(this),j=l.selector||"",n=(new Date).getTime(),e=[],q=k,o="string"==typeof q,f=[].slice.call(arguments,1);return l.each(function(){var p,w,z=d.isPlainObject(k)?d.extend(!0,{},d.fn.rating.settings,k):d.extend({},d.fn.rating.settings),C=z.namespace,g=z.className,y=z.metadata,A=z.selector,B=(z.error,"."+C),x="module-"+C,h=this,D=d(this).data(x),m=d(this),v=m.find(A.icon);w={initialize:function(){w.verbose("Initializing rating module",z),0===v.length&&w.setup.layout(),z.interactive?w.enable():w.disable(),w.set.initialLoad(),w.set.rating(w.get.initialRating()),w.remove.initialLoad(),w.instantiate()},instantiate:function(){w.verbose("Instantiating module",z),D=w,m.data(x,w)},destroy:function(){w.verbose("Destroying previous instance",D),w.remove.events(),m.removeData(x)},refresh:function(){v=m.find(A.icon)},setup:{layout:function(){var r=w.get.maxRating(),s=d.fn.rating.settings.templates.icon(r);w.debug("Generating icon html dynamically"),m.html(s),w.refresh()}},event:{mouseenter:function(){var r=d(this);r.nextAll().removeClass(g.selected),m.addClass(g.selected),r.addClass(g.selected).prevAll().addClass(g.selected)},mouseleave:function(){m.removeClass(g.selected),v.removeClass(g.selected)},click:function(){var r=d(this),u=w.get.rating(),s=v.index(r)+1;("auto"==z.clearable?1===v.length:z.clearable)&&u==s?w.clearRating():w.set.rating(s)}},clearRating:function(){w.debug("Clearing current rating"),w.set.rating(0)},bind:{events:function(){w.verbose("Binding events"),m.on("mouseenter"+B,A.icon,w.event.mouseenter).on("mouseleave"+B,A.icon,w.event.mouseleave).on("click"+B,A.icon,w.event.click)}},remove:{events:function(){w.verbose("Removing events"),m.off(B)},initialLoad:function(){p=!1}},enable:function(){w.debug("Setting rating to interactive mode"),w.bind.events(),m.removeClass(g.disabled)},disable:function(){w.debug("Setting rating to read-only mode"),w.remove.events(),m.addClass(g.disabled)},is:{initialLoad:function(){return p}},get:{initialRating:function(){return m.data(y.rating)!==b?(m.removeData(y.rating),m.data(y.rating)):z.initialRating},maxRating:function(){return m.data(y.maxRating)!==b?(m.removeData(y.maxRating),m.data(y.maxRating)):z.maxRating},rating:function(){var r=v.filter("."+g.active).length;return w.verbose("Current rating retrieved",r),r}},set:{rating:function(r){var u=0<=r-1?r-1:0,s=v.eq(u);m.removeClass(g.selected),v.removeClass(g.selected).removeClass(g.active),0<r&&(w.verbose("Setting current rating to",r),s.prevAll().addBack().addClass(g.active)),w.is.initialLoad()||z.onRate.call(h,r)},initialLoad:function(){p=!0}},setting:function(r,s){if(w.debug("Changing setting",r,s),d.isPlainObject(r)){d.extend(!0,z,r)}else{if(s===b){return z[r]}d.isPlainObject(z[r])?d.extend(!0,z[r],s):z[r]=s}},internal:function(r,s){if(d.isPlainObject(r)){d.extend(!0,w,r)}else{if(s===b){return w[r]}w[r]=s}},debug:function(){!z.silent&&z.debug&&(z.performance?w.performance.log(arguments):(w.debug=Function.prototype.bind.call(console.info,console,z.name+":"),w.debug.apply(console,arguments)))},verbose:function(){!z.silent&&z.verbose&&z.debug&&(z.performance?w.performance.log(arguments):(w.verbose=Function.prototype.bind.call(console.info,console,z.name+":"),w.verbose.apply(console,arguments)))},error:function(){z.silent||(w.error=Function.prototype.bind.call(console.error,console,z.name+":"),w.error.apply(console,arguments))},performance:{log:function(r){var u,s;z.performance&&(s=(u=(new Date).getTime())-(n||u),n=u,e.push({Name:r[0],Arguments:[].slice.call(r,1)||"",Element:h,"Execution Time":s})),clearTimeout(w.performance.timer),w.performance.timer=setTimeout(w.performance.display,500)},display:function(){var r=z.name+":",s=0;n=!1,clearTimeout(w.performance.timer),d.each(e,function(u,E){s+=E["Execution Time"]}),r+=" "+s+"ms",j&&(r+=" '"+j+"'"),1<l.length&&(r+=" ("+l.length+")"),(console.group!==b||console.table!==b)&&0<e.length&&(console.groupCollapsed(r),console.table?console.table(e):d.each(e,function(u,E){console.log(E.Name+": "+E["Execution Time"]+"ms")}),console.groupEnd()),e=[]}},invoke:function(E,u,I){var G,s,F,H=D;return u=u||f,I=h||I,"string"==typeof E&&H!==b&&(E=E.split(/[\. ]/),G=E.length-1,d.each(E,function(r,K){var J=r!=G?K+E[r+1].charAt(0).toUpperCase()+E[r+1].slice(1):E;if(d.isPlainObject(H[J])&&r!=G){H=H[J]}else{if(H[J]!==b){return s=H[J],!1}if(!d.isPlainObject(H[K])||r==G){return H[K]!==b&&(s=H[K]),!1}H=H[K]}})),d.isFunction(s)?F=s.apply(I,u):s!==b&&(F=s),d.isArray(i)?i.push(F):i!==b?i=[i,F]:F!==b&&(i=F),s}},o?(D===b&&w.initialize(),w.invoke(q)):(D!==b&&D.invoke("destroy"),w.initialize())}),i!==b?i:this},d.fn.rating.settings={name:"Rating",namespace:"rating",slent:!1,debug:!1,verbose:!1,performance:!0,initialRating:0,interactive:!0,maxRating:4,clearable:"auto",fireOnInit:!1,onRate:function(f){},error:{method:"The method you called is not defined",noMaximum:"No maximum rating specified. Cannot generate HTML automatically"},metadata:{rating:"rating",maxRating:"maxRating"},className:{active:"active",disabled:"disabled",selected:"selected",loading:"loading"},selector:{icon:".icon"},templates:{icon:function(f){for(var h=1,g="";h<=f;){g+='<i class="icon"></i>',h++}return g}}}}(jQuery,window,document),function(b,c,d,a){c=void 0!==c&&c.Math==Math?c:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),b.fn.search=function(h){var f,o=b(this),m=o.selector||"",g=(new Date).getTime(),n=[],e=h,j="string"==typeof e,i=[].slice.call(arguments,1);return b(this).each(function(){var A,q=b.isPlainObject(h)?b.extend(!0,{},b.fn.search.settings,h):b.extend({},b.fn.search.settings),E=q.className,L=q.metadata,w=q.regExp,k=q.fields,B=q.selector,H=q.error,z=q.namespace,D="."+z,K=z+"-module",C=b(this),M=C.find(B.prompt),F=C.find(B.searchButton),G=C.find(B.results),I=C.find(B.result),l=(C.find(B.category),this),J=C.data(K),O=!1,N=!1;A={initialize:function(){A.verbose("Initializing module"),A.get.settings(),A.determine.searchFields(),A.bind.events(),A.set.type(),A.create.results(),A.instantiate()},instantiate:function(){A.verbose("Storing instance of module",A),J=A,C.data(K,A)},destroy:function(){A.verbose("Destroying instance"),C.off(D).removeData(K)},refresh:function(){A.debug("Refreshing selector cache"),M=C.find(B.prompt),F=C.find(B.searchButton),C.find(B.category),G=C.find(B.results),I=C.find(B.result)},refreshResults:function(){G=C.find(B.results),I=C.find(B.result)},bind:{events:function(){A.verbose("Binding events to search"),q.automatic&&(C.on(A.get.inputEvent()+D,B.prompt,A.event.input),M.attr("autocomplete","off")),C.on("focus"+D,B.prompt,A.event.focus).on("blur"+D,B.prompt,A.event.blur).on("keydown"+D,B.prompt,A.handleKeyboard).on("click"+D,B.searchButton,A.query).on("mousedown"+D,B.results,A.event.result.mousedown).on("mouseup"+D,B.results,A.event.result.mouseup).on("click"+D,B.result,A.event.result.click)}},determine:{searchFields:function(){h&&h.searchFields!==a&&(q.searchFields=h.searchFields)}},event:{input:function(){q.searchDelay?(clearTimeout(A.timer),A.timer=setTimeout(function(){A.is.focused()&&A.query()},q.searchDelay)):A.query()},focus:function(){A.set.focus(),q.searchOnFocus&&A.has.minimumCharacters()&&A.query(function(){A.can.show()&&A.showResults()})},blur:function(p){var s=d.activeElement===this,r=function(){A.cancel.query(),A.remove.focus(),A.timer=setTimeout(A.hideResults,q.hideDelay)};s||(N=!1,A.resultsClicked?(A.debug("Determining if user action caused search to close"),C.one("click.close"+D,B.results,function(t){A.is.inMessage(t)||O?M.focus():(O=!1,A.is.animating()||A.is.hidden()||r())})):(A.debug("Input blurred without user action, closing results"),r()))},result:{mousedown:function(){A.resultsClicked=!0},mouseup:function(){A.resultsClicked=!1},click:function(u){A.debug("Search result selected");var S=b(this),y=S.find(B.title).eq(0),v=S.is("a[href]")?S:S.find("a[href]").eq(0),P=v.attr("href")||!1,p=v.attr("target")||!1,Q=(y.html(),0<y.length&&y.text()),R=A.get.results(),x=S.data(L.result)||A.get.result(Q,R);if(b.isFunction(q.onSelect)&&!1===q.onSelect.call(l,x,R)){return A.debug("Custom onSelect callback cancelled default select action"),void (O=!0)}A.hideResults(),Q&&A.set.value(Q),P&&(A.verbose("Opening search link found in result",v),"_blank"==p||u.ctrlKey?c.open(P):c.location.href=P)}}},handleKeyboard:function(y){var V,R=C.find(B.result),P=C.find(B.category),S=R.filter("."+E.active),p=R.index(S),T=R.length,U=0<S.length,Q=y.which,v=13,W=38,x=40;if(Q==27&&(A.verbose("Escape key pressed, blurring search field"),A.hideResults(),N=!0),A.is.visible()){if(Q==v){if(A.verbose("Enter key pressed, selecting active result"),0<R.filter("."+E.active).length){return A.event.result.click.call(R.filter("."+E.active),y),y.preventDefault(),!1}}else{Q==W&&U?(A.verbose("Up key pressed, changing active result"),V=p-1<0?p:p-1,P.removeClass(E.active),R.removeClass(E.active).eq(V).addClass(E.active).closest(P).addClass(E.active),y.preventDefault()):Q==x&&(A.verbose("Down key pressed, changing active result"),V=T<=p+1?p:p+1,P.removeClass(E.active),R.removeClass(E.active).eq(V).addClass(E.active).closest(P).addClass(E.active),y.preventDefault())}}else{Q==v&&(A.verbose("Enter key pressed, executing query"),A.query(),A.set.buttonPressed(),M.one("keyup",A.remove.buttonFocus))}},setup:{api:function(s,r){var p={debug:q.debug,on:!1,cache:q.cache,action:"search",urlData:{query:s},onSuccess:function(t){A.parse.response.call(l,t,s),r()},onFailure:function(){A.displayMessage(H.serverError),r()},onAbort:function(t){},onError:A.error};b.extend(!0,p,q.apiSettings),A.verbose("Setting up API request",p),C.api(p)}},can:{useAPI:function(){return b.fn.api!==a},show:function(){return A.is.focused()&&!A.is.visible()&&!A.is.empty()},transition:function(){return q.transition&&b.fn.transition!==a&&C.transition("is supported")}},is:{animating:function(){return G.hasClass(E.animating)},hidden:function(){return G.hasClass(E.hidden)},inMessage:function(p){if(p.target){var r=b(p.target);return b.contains(d.documentElement,p.target)&&0<r.closest(B.message).length}},empty:function(){return""===G.html()},visible:function(){return 0<G.filter(":visible").length},focused:function(){return 0<M.filter(":focus").length}},get:{settings:function(){b.isPlainObject(h)&&h.searchFullText&&(q.fullTextSearch=h.searchFullText,A.error(q.error.oldSearchSyntax,l))},inputEvent:function(){var p=M[0];return p!==a&&p.oninput!==a?"input":p!==a&&p.onpropertychange!==a?"propertychange":"keyup"},value:function(){return M.val()},results:function(){return C.data(L.results)},result:function(s,p){var r=["title","id"],t=!1;return s=s!==a?s:A.get.value(),p=p!==a?p:A.get.results(),"category"===q.type?(A.debug("Finding result that matches",s),b.each(p,function(u,v){if(b.isArray(v.results)&&(t=A.search.object(s,v.results,r)[0])){return !1}})):(A.debug("Finding result in results object",s),t=A.search.object(s,p,r)[0]),t||!1}},select:{firstResult:function(){A.verbose("Selecting first result"),I.first().addClass(E.active)}},set:{focus:function(){C.addClass(E.focus)},loading:function(){C.addClass(E.loading)},value:function(p){A.verbose("Setting search input value",p),M.val(p)},type:function(p){p=p||q.type,"category"==q.type&&C.addClass(q.type)},buttonPressed:function(){F.addClass(E.pressed)}},remove:{loading:function(){C.removeClass(E.loading)},focus:function(){C.removeClass(E.focus)},buttonPressed:function(){F.removeClass(E.pressed)}},query:function(p){p=b.isFunction(p)?p:function(){};var s=A.get.value(),r=A.read.cache(s);p=p||function(){},A.has.minimumCharacters()?(r?(A.debug("Reading result from cache",s),A.save.results(r.results),A.addResults(r.html),A.inject.id(r.results),p()):(A.debug("Querying for",s),b.isPlainObject(q.source)||b.isArray(q.source)?(A.search.local(s),p()):A.can.useAPI()?A.search.remote(s,p):(A.error(H.source),p())),q.onSearchQuery.call(l,s)):A.hideResults()},search:{local:function(p){var s,r=A.search.object(p,q.content);A.set.loading(),A.save.results(r),A.debug("Returned full local search results",r),0<q.maxResults&&(A.debug("Using specified max results",r),r=r.slice(0,q.maxResults)),"category"==q.type&&(r=A.create.categoryResults(r)),s=A.generateResults({results:r}),A.remove.loading(),A.addResults(s),A.inject.id(r),A.write.cache(p,{html:s,results:r})},remote:function(p,r){r=b.isFunction(r)?r:function(){},C.api("is loading")&&C.api("abort"),A.setup.api(p,r),C.api("query")},object:function(v,S,u){var p=[],Q=[],R=[],y=v.toString().replace(w.escape,"\\$&"),P=new RegExp(w.beginsWith+y,"i"),x=function(r,V){var T=-1==b.inArray(V,p),s=-1==b.inArray(V,R),U=-1==b.inArray(V,Q);T&&s&&U&&r.push(V)};return S=S||q.source,u=u!==a?u:q.searchFields,b.isArray(u)||(u=[u]),S===a||!1===S?(A.error(H.source),[]):(b.each(u,function(r,s){b.each(S,function(T,U){"string"==typeof U[s]&&(-1!==U[s].search(P)?x(p,U):"exact"===q.fullTextSearch&&A.exactSearch(v,U[s])?x(Q,U):1==q.fullTextSearch&&A.fuzzySearch(v,U[s])&&x(R,U))})}),b.merge(Q,R),b.merge(p,Q),p)}},exactSearch:function(p,r){return p=p.toLowerCase(),-1<(r=r.toLowerCase()).indexOf(p)},fuzzySearch:function(s,P){var v=P.length,u=s.length;if("string"!=typeof s){return !1}if(s=s.toLowerCase(),P=P.toLowerCase(),v<u){return !1}if(u===v){return s===P}s:for(var x=0,p=0;x<u;x++){for(var y=s.charCodeAt(x);p<v;){if(P.charCodeAt(p++)===y){continue s}}return !1}return !0},parse:{response:function(p,s){var r=A.generateResults(p);A.verbose("Parsing server response",p),p!==a&&s!==a&&p[k.results]!==a&&(A.addResults(r),A.inject.id(p[k.results]),A.write.cache(s,{html:r,results:p[k.results]}),A.save.results(p[k.results]))}},cancel:{query:function(){A.can.useAPI()&&C.api("abort")}},has:{minimumCharacters:function(){return A.get.value().length>=q.minCharacters},results:function(){return 0!==G.length&&""!=G.html()}},clear:{cache:function(p){var r=C.data(L.cache);p?p&&r&&r[p]&&(A.debug("Removing value from cache",p),delete r[p],C.data(L.cache,r)):(A.debug("Clearing cache",p),C.removeData(L.cache))}},read:{cache:function(p){var r=C.data(L.cache);return !!q.cache&&(A.verbose("Checking cache for generated html for query",p),"object"==typeof r&&r[p]!==a&&r[p])}},create:{categoryResults:function(p){var r={};return b.each(p,function(s,u){u.category&&(r[u.category]===a?(A.verbose("Creating new category of results",u.category),r[u.category]={name:u.category,results:[u]}):r[u.category].results.push(u))}),r},id:function(p,u){var s,r=p+1;return u!==a?(s=String.fromCharCode(97+u)+r,A.verbose("Creating category result id",s)):(s=r,A.verbose("Creating result id",s)),s},results:function(){0===G.length&&(G=b("<div />").addClass(E.results).appendTo(C))}},inject:{result:function(p,u,s){A.verbose("Injecting result into results");var r=s!==a?G.children().eq(s).children(B.results).first().children(B.result).eq(u):G.children(B.result).eq(u);A.verbose("Injecting results metadata",r),r.data(L.result,p)},id:function(r){A.debug("Injecting unique ids into results");var s=0,p=0;return"category"===q.type?b.each(r,function(t,u){p=0,b.each(u.results,function(v,y){var x=u.results[v];x.id===a&&(x.id=A.create.id(p,s)),A.inject.result(x,p,s),p++}),s++}):b.each(r,function(u,x){var v=r[u];v.id===a&&(v.id=A.create.id(p)),A.inject.result(v,p),p++}),r}},save:{results:function(p){A.verbose("Saving current search results to metadata",p),C.data(L.results,p)}},write:{cache:function(p,s){var r=C.data(L.cache)!==a?C.data(L.cache):{};q.cache&&(A.verbose("Writing generated html to cache",p,s),r[p]=s,C.data(L.cache,r))}},addResults:function(p){if(b.isFunction(q.onResultsAdd)&&!1===q.onResultsAdd.call(G,p)){return A.debug("onResultsAdd callback cancelled default action"),!1}p?(G.html(p),A.refreshResults(),q.selectFirstResult&&A.select.firstResult(),A.showResults()):A.hideResults(function(){G.empty()})},showResults:function(p){p=b.isFunction(p)?p:function(){},N||!A.is.visible()&&A.has.results()&&(A.can.transition()?(A.debug("Showing results with css animations"),G.transition({animation:q.transition+" in",debug:q.debug,verbose:q.verbose,duration:q.duration,onComplete:function(){p()},queue:!0})):(A.debug("Showing results with javascript"),G.stop().fadeIn(q.duration,q.easing)),q.onResultsOpen.call(G))},hideResults:function(p){p=b.isFunction(p)?p:function(){},A.is.visible()&&(A.can.transition()?(A.debug("Hiding results with css animations"),G.transition({animation:q.transition+" out",debug:q.debug,verbose:q.verbose,duration:q.duration,onComplete:function(){p()},queue:!0})):(A.debug("Hiding results with javascript"),G.stop().fadeOut(q.duration,q.easing)),q.onResultsClose.call(G))},generateResults:function(p){A.debug("Generating html from response",p);var v=q.templates[q.type],s=b.isPlainObject(p[k.results])&&!b.isEmptyObject(p[k.results]),r=b.isArray(p[k.results])&&0<p[k.results].length,u="";return s||r?(0<q.maxResults&&(s?"standard"==q.type&&A.error(H.maxResults):p[k.results]=p[k.results].slice(0,q.maxResults)),b.isFunction(v)?u=v(p,k):A.error(H.noTemplate,!1)):q.showNoResults&&(u=A.displayMessage(H.noResults,"empty")),q.onResults.call(l,p),u},displayMessage:function(p,r){return r=r||"standard",A.debug("Displaying message",p,r),A.addResults(q.templates.message(p,r)),q.templates.message(p,r)},setting:function(p,r){if(b.isPlainObject(p)){b.extend(!0,q,p)}else{if(r===a){return q[p]}q[p]=r}},internal:function(p,r){if(b.isPlainObject(p)){b.extend(!0,A,p)}else{if(r===a){return A[p]}A[p]=r}},debug:function(){!q.silent&&q.debug&&(q.performance?A.performance.log(arguments):(A.debug=Function.prototype.bind.call(console.info,console,q.name+":"),A.debug.apply(console,arguments)))},verbose:function(){!q.silent&&q.verbose&&q.debug&&(q.performance?A.performance.log(arguments):(A.verbose=Function.prototype.bind.call(console.info,console,q.name+":"),A.verbose.apply(console,arguments)))},error:function(){q.silent||(A.error=Function.prototype.bind.call(console.error,console,q.name+":"),A.error.apply(console,arguments))},performance:{log:function(p){var s,r;q.performance&&(r=(s=(new Date).getTime())-(g||s),g=s,n.push({Name:p[0],Arguments:[].slice.call(p,1)||"",Element:l,"Execution Time":r})),clearTimeout(A.performance.timer),A.performance.timer=setTimeout(A.performance.display,500)},display:function(){var p=q.name+":",r=0;g=!1,clearTimeout(A.performance.timer),b.each(n,function(s,u){r+=u["Execution Time"]}),p+=" "+r+"ms",m&&(p+=" '"+m+"'"),1<o.length&&(p+=" ("+o.length+")"),(console.group!==a||console.table!==a)&&0<n.length&&(console.groupCollapsed(p),console.table?console.table(n):b.each(n,function(s,u){console.log(u.Name+": "+u["Execution Time"]+"ms")}),console.groupEnd()),n=[]}},invoke:function(u,s,P){var x,p,v,y=J;return s=s||i,P=l||P,"string"==typeof u&&y!==a&&(u=u.split(/[\. ]/),x=u.length-1,b.each(u,function(r,R){var Q=r!=x?R+u[r+1].charAt(0).toUpperCase()+u[r+1].slice(1):u;if(b.isPlainObject(y[Q])&&r!=x){y=y[Q]}else{if(y[Q]!==a){return p=y[Q],!1}if(!b.isPlainObject(y[R])||r==x){return y[R]!==a&&(p=y[R]),!1}y=y[R]}})),b.isFunction(p)?v=p.apply(P,s):p!==a&&(v=p),b.isArray(f)?f.push(v):f!==a?f=[f,v]:v!==a&&(f=v),p}},j?(J===a&&A.initialize(),A.invoke(e)):(J!==a&&J.invoke("destroy"),A.initialize())}),f!==a?f:this},b.fn.search.settings={name:"Search",namespace:"search",silent:!1,debug:!1,verbose:!1,performance:!0,type:"standard",minCharacters:1,selectFirstResult:!1,apiSettings:!1,source:!1,searchOnFocus:!0,searchFields:["title","description"],displayField:"",fullTextSearch:"exact",automatic:!0,hideDelay:0,searchDelay:200,maxResults:7,cache:!0,showNoResults:!0,transition:"scale",duration:200,easing:"easeOutExpo",onSelect:!1,onResultsAdd:!1,onSearchQuery:function(f){},onResults:function(f){},onResultsOpen:function(){},onResultsClose:function(){},className:{animating:"animating",active:"active",empty:"empty",focus:"focus",hidden:"hidden",loading:"loading",results:"results",pressed:"down"},error:{source:"Cannot search. No source used, and Semantic API module was not included",noResults:"Your search returned no results",logging:"Error in debug logging, exiting.",noEndpoint:"No search endpoint was specified",noTemplate:"A valid template name was not specified.",oldSearchSyntax:"searchFullText setting has been renamed fullTextSearch for consistency, please adjust your settings.",serverError:"There was an issue querying the server.",maxResults:"Results must be an array to use maxResults setting",method:"The method you called is not defined."},metadata:{cache:"cache",results:"results",result:"result"},regExp:{escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,beginsWith:"(?:s|^)"},fields:{categories:"results",categoryName:"name",categoryResults:"results",description:"description",image:"image",price:"price",results:"results",title:"title",url:"url",action:"action",actionText:"text",actionURL:"url"},selector:{prompt:".prompt",searchButton:".search.button",results:".results",message:".results > .message",category:".category",result:".result",title:".title, .name"},templates:{escape:function(f){var g={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};return/[&<>"'`]/.test(f)?f.replace(/[&<>"'`]/g,function(h){return g[h]}):f},message:function(f,h){var g="";return f!==a&&h!==a&&(g+='<div class="message '+h+'">',g+="empty"==h?'<div class="header">No Results</div class="header"><div class="description">'+f+'</div class="description">':' <div class="description">'+f+"</div>",g+="</div>"),g},category:function(f,h){var g="";b.fn.search.settings.templates.escape;return f[h.categoryResults]!==a&&(b.each(f[h.categoryResults],function(i,j){j[h.results]!==a&&0<j.results.length&&(g+='<div class="category">',j[h.categoryName]!==a&&(g+='<div class="name">'+j[h.categoryName]+"</div>"),g+='<div class="results">',b.each(j.results,function(k,l){l[h.url]?g+='<a class="result" href="'+l[h.url]+'">':g+='<a class="result">',l[h.image]!==a&&(g+='<div class="image"> <img src="'+l[h.image]+'"></div>'),g+='<div class="content">',l[h.price]!==a&&(g+='<div class="price">'+l[h.price]+"</div>"),l[h.title]!==a&&(g+='<div class="title">'+l[h.title]+"</div>"),l[h.description]!==a&&(g+='<div class="description">'+l[h.description]+"</div>"),g+="</div>",g+="</a>"}),g+="</div>",g+="</div>")}),f[h.action]&&(g+='<a href="'+f[h.action][h.actionURL]+'" class="action">'+f[h.action][h.actionText]+"</a>"),g)},standard:function(f,h){var g="";return f[h.results]!==a&&(b.each(f[h.results],function(i,j){j[h.url]?g+='<a class="result" href="'+j[h.url]+'">':g+='<a class="result">',j[h.image]!==a&&(g+='<div class="image"> <img src="'+j[h.image]+'"></div>'),g+='<div class="content">',j[h.price]!==a&&(g+='<div class="price">'+j[h.price]+"</div>"),j[h.title]!==a&&(g+='<div class="title">'+j[h.title]+"</div>"),j[h.description]!==a&&(g+='<div class="description">'+j[h.description]+"</div>"),g+="</div>",g+="</a>"}),f[h.action]&&(g+='<a href="'+f[h.action][h.actionURL]+'" class="action">'+f[h.action][h.actionText]+"</a>"),g)}}}}(jQuery,window,document),function(a,b,d,c){b=void 0!==b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),a.fn.shape=function(j){var e,n=a(this),m=(a("body"),(new Date).getTime()),f=[],l=j,h="string"==typeof l,g=[].slice.call(arguments,1),i=b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame||function(k){setTimeout(k,0)};return n.each(function(){var A,E,k,I=n.selector||"",G=a.isPlainObject(j)?a.extend(!0,{},a.fn.shape.settings,j):a.extend({},a.fn.shape.settings),w=G.namespace,H=G.selector,D=G.error,B=G.className,q="."+w,J="module-"+w,v=a(this),x=v.find(H.sides),C=v.find(H.side),y=!1,F=this,z=v.data(J);k={initialize:function(){k.verbose("Initializing module for",F),k.set.defaultSide(),k.instantiate()},instantiate:function(){k.verbose("Storing instance of module",k),z=k,v.data(J,z)},destroy:function(){k.verbose("Destroying previous module for",F),v.removeData(J).off(q)},refresh:function(){k.verbose("Refreshing selector cache for",F),v=a(F),x=a(this).find(H.shape),C=a(this).find(H.side)},repaint:function(){k.verbose("Forcing repaint event");(x[0]||d.createElement("div")).offsetWidth},animate:function(o,p){k.verbose("Animating box with properties",o),p=p||function(r){k.verbose("Executing animation callback"),r!==c&&r.stopPropagation(),k.reset(),k.set.active()},G.beforeChange.call(E[0]),k.get.transitionEvent()?(k.verbose("Starting CSS animation"),v.addClass(B.animating),x.css(o).one(k.get.transitionEvent(),p),k.set.duration(G.duration),i(function(){v.addClass(B.animating),A.addClass(B.hidden)})):p()},queue:function(o){k.debug("Queueing animation of",o),x.one(k.get.transitionEvent(),function(){k.debug("Executing queued animation"),setTimeout(function(){v.shape(o)},0)})},reset:function(){k.verbose("Animating states reset"),v.removeClass(B.animating).attr("style","").removeAttr("style"),x.attr("style","").removeAttr("style"),C.attr("style","").removeAttr("style").removeClass(B.hidden),E.removeClass(B.animating).attr("style","").removeAttr("style")},is:{complete:function(){return C.filter("."+B.active)[0]==E[0]},animating:function(){return v.hasClass(B.animating)}},set:{defaultSide:function(){A=v.find("."+G.className.active),E=0<A.next(H.side).length?A.next(H.side):v.find(H.side).first(),y=!1,k.verbose("Active side set to",A),k.verbose("Next side set to",E)},duration:function(o){o="number"==typeof(o=o||G.duration)?o+"ms":o,k.verbose("Setting animation duration",o),(G.duration||0===G.duration)&&x.add(C).css({"-webkit-transition-duration":o,"-moz-transition-duration":o,"-ms-transition-duration":o,"-o-transition-duration":o,"transition-duration":o})},currentStageSize:function(){var o=v.find("."+G.className.active),r=o.outerWidth(!0),p=o.outerHeight(!0);v.css({width:r,height:p})},stageSize:function(){var p=v.clone().addClass(B.loading),K=p.find("."+G.className.active),s=y?p.find(H.side).eq(y):0<K.next(H.side).length?K.next(H.side):p.find(H.side).first(),r="next"==G.width?s.outerWidth(!0):"initial"==G.width?v.width():G.width,u="next"==G.height?s.outerHeight(!0):"initial"==G.height?v.height():G.height;K.removeClass(B.active),s.addClass(B.active),p.insertAfter(v),p.remove(),"auto"!=G.width&&(v.css("width",r+G.jitter),k.verbose("Specifying width during animation",r)),"auto"!=G.height&&(v.css("height",u+G.jitter),k.verbose("Specifying height during animation",u))},nextSide:function(o){y=o,E=C.filter(o),y=C.index(E),0===E.length&&(k.set.defaultSide(),k.error(D.side)),k.verbose("Next side manually set to",E)},active:function(){k.verbose("Setting new side to active",E),C.removeClass(B.active),E.addClass(B.active),G.onChange.call(E[0]),k.set.defaultSide()}},flip:{up:function(){if(!k.is.complete()||k.is.animating()||G.allowRepeats){if(k.is.animating()){k.queue("flip up")}else{k.debug("Flipping up",E);var o=k.get.transform.up();k.set.stageSize(),k.stage.above(),k.animate(o)}}else{k.debug("Side already visible",E)}},down:function(){if(!k.is.complete()||k.is.animating()||G.allowRepeats){if(k.is.animating()){k.queue("flip down")}else{k.debug("Flipping down",E);var o=k.get.transform.down();k.set.stageSize(),k.stage.below(),k.animate(o)}}else{k.debug("Side already visible",E)}},left:function(){if(!k.is.complete()||k.is.animating()||G.allowRepeats){if(k.is.animating()){k.queue("flip left")}else{k.debug("Flipping left",E);var o=k.get.transform.left();k.set.stageSize(),k.stage.left(),k.animate(o)}}else{k.debug("Side already visible",E)}},right:function(){if(!k.is.complete()||k.is.animating()||G.allowRepeats){if(k.is.animating()){k.queue("flip right")}else{k.debug("Flipping right",E);var o=k.get.transform.right();k.set.stageSize(),k.stage.right(),k.animate(o)}}else{k.debug("Side already visible",E)}},over:function(){!k.is.complete()||k.is.animating()||G.allowRepeats?k.is.animating()?k.queue("flip over"):(k.debug("Flipping over",E),k.set.stageSize(),k.stage.behind(),k.animate(k.get.transform.over())):k.debug("Side already visible",E)},back:function(){!k.is.complete()||k.is.animating()||G.allowRepeats?k.is.animating()?k.queue("flip back"):(k.debug("Flipping back",E),k.set.stageSize(),k.stage.behind(),k.animate(k.get.transform.back())):k.debug("Side already visible",E)}},get:{transform:{up:function(){return{transform:"translateY("+-(A.outerHeight(!0)-E.outerHeight(!0))/2+"px) translateZ("+-A.outerHeight(!0)/2+"px) rotateX(-90deg)"}},down:function(){return{transform:"translateY("+-(A.outerHeight(!0)-E.outerHeight(!0))/2+"px) translateZ("+-A.outerHeight(!0)/2+"px) rotateX(90deg)"}},left:function(){return{transform:"translateX("+-(A.outerWidth(!0)-E.outerWidth(!0))/2+"px) translateZ("+-A.outerWidth(!0)/2+"px) rotateY(90deg)"}},right:function(){return{transform:"translateX("+-(A.outerWidth(!0)-E.outerWidth(!0))/2+"px) translateZ("+-A.outerWidth(!0)/2+"px) rotateY(-90deg)"}},over:function(){return{transform:"translateX("+-(A.outerWidth(!0)-E.outerWidth(!0))/2+"px) rotateY(180deg)"}},back:function(){return{transform:"translateX("+-(A.outerWidth(!0)-E.outerWidth(!0))/2+"px) rotateY(-180deg)"}}},transitionEvent:function(){var o,r=d.createElement("element"),p={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(o in p){if(r.style[o]!==c){return p[o]}}},nextSide:function(){return 0<A.next(H.side).length?A.next(H.side):v.find(H.side).first()}},stage:{above:function(){var o={origin:(A.outerHeight(!0)-E.outerHeight(!0))/2,depth:{active:E.outerHeight(!0)/2,next:A.outerHeight(!0)/2}};k.verbose("Setting the initial animation position as above",E,o),x.css({transform:"translateZ(-"+o.depth.active+"px)"}),A.css({transform:"rotateY(0deg) translateZ("+o.depth.active+"px)"}),E.addClass(B.animating).css({top:o.origin+"px",transform:"rotateX(90deg) translateZ("+o.depth.next+"px)"})},below:function(){var o={origin:(A.outerHeight(!0)-E.outerHeight(!0))/2,depth:{active:E.outerHeight(!0)/2,next:A.outerHeight(!0)/2}};k.verbose("Setting the initial animation position as below",E,o),x.css({transform:"translateZ(-"+o.depth.active+"px)"}),A.css({transform:"rotateY(0deg) translateZ("+o.depth.active+"px)"}),E.addClass(B.animating).css({top:o.origin+"px",transform:"rotateX(-90deg) translateZ("+o.depth.next+"px)"})},left:function(){var o=A.outerWidth(!0),r=E.outerWidth(!0),p={origin:(o-r)/2,depth:{active:r/2,next:o/2}};k.verbose("Setting the initial animation position as left",E,p),x.css({transform:"translateZ(-"+p.depth.active+"px)"}),A.css({transform:"rotateY(0deg) translateZ("+p.depth.active+"px)"}),E.addClass(B.animating).css({left:p.origin+"px",transform:"rotateY(-90deg) translateZ("+p.depth.next+"px)"})},right:function(){var o=A.outerWidth(!0),r=E.outerWidth(!0),p={origin:(o-r)/2,depth:{active:r/2,next:o/2}};k.verbose("Setting the initial animation position as left",E,p),x.css({transform:"translateZ(-"+p.depth.active+"px)"}),A.css({transform:"rotateY(0deg) translateZ("+p.depth.active+"px)"}),E.addClass(B.animating).css({left:p.origin+"px",transform:"rotateY(90deg) translateZ("+p.depth.next+"px)"})},behind:function(){var o=A.outerWidth(!0),r=E.outerWidth(!0),p={origin:(o-r)/2,depth:{active:r/2,next:o/2}};k.verbose("Setting the initial animation position as behind",E,p),A.css({transform:"rotateY(0deg)"}),E.addClass(B.animating).css({left:p.origin+"px",transform:"rotateY(-180deg)"})}},setting:function(o,p){if(k.debug("Changing setting",o,p),a.isPlainObject(o)){a.extend(!0,G,o)}else{if(p===c){return G[o]}a.isPlainObject(G[o])?a.extend(!0,G[o],p):G[o]=p}},internal:function(o,p){if(a.isPlainObject(o)){a.extend(!0,k,o)}else{if(p===c){return k[o]}k[o]=p}},debug:function(){!G.silent&&G.debug&&(G.performance?k.performance.log(arguments):(k.debug=Function.prototype.bind.call(console.info,console,G.name+":"),k.debug.apply(console,arguments)))},verbose:function(){!G.silent&&G.verbose&&G.debug&&(G.performance?k.performance.log(arguments):(k.verbose=Function.prototype.bind.call(console.info,console,G.name+":"),k.verbose.apply(console,arguments)))},error:function(){G.silent||(k.error=Function.prototype.bind.call(console.error,console,G.name+":"),k.error.apply(console,arguments))},performance:{log:function(o){var r,p;G.performance&&(p=(r=(new Date).getTime())-(m||r),m=r,f.push({Name:o[0],Arguments:[].slice.call(o,1)||"",Element:F,"Execution Time":p})),clearTimeout(k.performance.timer),k.performance.timer=setTimeout(k.performance.display,500)},display:function(){var o=G.name+":",p=0;m=!1,clearTimeout(k.performance.timer),a.each(f,function(r,s){p+=s["Execution Time"]}),o+=" "+p+"ms",I&&(o+=" '"+I+"'"),1<n.length&&(o+=" ("+n.length+")"),(console.group!==c||console.table!==c)&&0<f.length&&(console.groupCollapsed(o),console.table?console.table(f):a.each(f,function(r,s){console.log(s.Name+": "+s["Execution Time"]+"ms")}),console.groupEnd()),f=[]}},invoke:function(u,s,N){var L,p,K,M=z;return s=s||g,N=F||N,"string"==typeof u&&M!==c&&(u=u.split(/[\. ]/),L=u.length-1,a.each(u,function(o,O){var r=o!=L?O+u[o+1].charAt(0).toUpperCase()+u[o+1].slice(1):u;if(a.isPlainObject(M[r])&&o!=L){M=M[r]}else{if(M[r]!==c){return p=M[r],!1}if(!a.isPlainObject(M[O])||o==L){return M[O]!==c&&(p=M[O]),!1}M=M[O]}})),a.isFunction(p)?K=p.apply(N,s):p!==c&&(K=p),a.isArray(e)?e.push(K):e!==c?e=[e,K]:K!==c&&(e=K),p}},h?(z===c&&k.initialize(),k.invoke(l)):(z!==c&&z.invoke("destroy"),k.initialize())}),e!==c?e:this},a.fn.shape.settings={name:"Shape",silent:!1,debug:!1,verbose:!1,jitter:0,performance:!0,namespace:"shape",width:"initial",height:"initial",beforeChange:function(){},onChange:function(){},allowRepeats:!1,duration:!1,error:{side:"You tried to switch to a side that does not exist.",method:"The method you called is not defined"},className:{animating:"animating",hidden:"hidden",loading:"loading",active:"active"},selector:{sides:".sides",side:".side"}}}(jQuery,window,document),function(c,b,d,a){b=void 0!==b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),c.fn.sidebar=function(t){var g,i=c(this),s=c(b),q=c(d),m=c("html"),r=c("head"),f=i.selector||"",p=(new Date).getTime(),o=[],j=t,l="string"==typeof j,n=[].slice.call(arguments,1),h=b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame||function(k){setTimeout(k,0)};return i.each(function(){var K,L,A,M,F,x,N=c.isPlainObject(t)?c.extend(!0,{},c.fn.sidebar.settings,t):c.extend({},c.fn.sidebar.settings),H=N.selector,k=N.className,E=N.namespace,I=N.regExp,z=N.error,B="."+E,G="module-"+E,C=c(this),J=c(N.context),D=C.children(H.sidebar),O=(J.children(H.fixed),J.children(H.pusher)),w=this,P=C.data(G);x={initialize:function(){x.debug("Initializing sidebar",t),x.create.id(),F=x.get.transitionEvent(),N.delaySetup?h(x.setup.layout):x.setup.layout(),h(function(){x.setup.cache()}),x.instantiate()},instantiate:function(){x.verbose("Storing instance of module",x),P=x,C.data(G,x)},create:{id:function(){A=(Math.random().toString(16)+"000000000").substr(2,8),L="."+A,x.verbose("Creating unique id for element",A)}},destroy:function(){x.verbose("Destroying previous module for",C),C.off(B).removeData(G),x.is.ios()&&x.remove.ios(),J.off(L),s.off(L),q.off(L)},event:{clickaway:function(u){var y=0<O.find(u.target).length||O.is(u.target),v=J.is(u.target);y&&(x.verbose("User clicked on dimmed page"),x.hide()),v&&(x.verbose("User clicked on dimmable context (scaled out page)"),x.hide())},touch:function(u){},containScroll:function(u){w.scrollTop<=0&&(w.scrollTop=1),w.scrollTop+w.offsetHeight>=w.scrollHeight&&(w.scrollTop=w.scrollHeight-w.offsetHeight-1)},scroll:function(u){0===c(u.target).closest(H.sidebar).length&&u.preventDefault()}},bind:{clickaway:function(){x.verbose("Adding clickaway events to context",J),N.closable&&J.on("click"+L,x.event.clickaway).on("touchend"+L,x.event.clickaway)},scrollLock:function(){N.scrollLock&&(x.debug("Disabling page scroll"),s.on("DOMMouseScroll"+L,x.event.scroll)),x.verbose("Adding events to contain sidebar scroll"),q.on("touchmove"+L,x.event.touch),C.on("scroll"+B,x.event.containScroll)}},unbind:{clickaway:function(){x.verbose("Removing clickaway events from context",J),J.off(L)},scrollLock:function(){x.verbose("Removing scroll lock from page"),q.off(L),s.off(L),C.off("scroll"+B)}},add:{inlineCSS:function(){var v,S=x.cache.width||C.outerWidth(),Q=x.cache.height||C.outerHeight(),y=x.is.rtl(),R=x.get.direction(),u={left:S,right:-S,top:Q,bottom:-Q};y&&(x.verbose("RTL detected, flipping widths"),u.left=-S,u.right=S),v="<style>","left"===R||"right"===R?(x.debug("Adding CSS rules for animation distance",S),v+=" .ui.visible."+R+".sidebar ~ .fixed, .ui.visible."+R+".sidebar ~ .pusher {   -webkit-transform: translate3d("+u[R]+"px, 0, 0);           transform: translate3d("+u[R]+"px, 0, 0); }"):"top"!==R&&"bottom"!=R||(v+=" .ui.visible."+R+".sidebar ~ .fixed, .ui.visible."+R+".sidebar ~ .pusher {   -webkit-transform: translate3d(0, "+u[R]+"px, 0);           transform: translate3d(0, "+u[R]+"px, 0); }"),x.is.ie()&&("left"===R||"right"===R?(x.debug("Adding CSS rules for animation distance",S),v+=" body.pushable > .ui.visible."+R+".sidebar ~ .pusher:after {   -webkit-transform: translate3d("+u[R]+"px, 0, 0);           transform: translate3d("+u[R]+"px, 0, 0); }"):"top"!==R&&"bottom"!=R||(v+=" body.pushable > .ui.visible."+R+".sidebar ~ .pusher:after {   -webkit-transform: translate3d(0, "+u[R]+"px, 0);           transform: translate3d(0, "+u[R]+"px, 0); }"),v+=" body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after, body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {   -webkit-transform: translate3d(0px, 0, 0);           transform: translate3d(0px, 0, 0); }"),K=c(v+="</style>").appendTo(r),x.debug("Adding sizing css to head",K)}},refresh:function(){x.verbose("Refreshing selector cache"),J=c(N.context),D=J.children(H.sidebar),O=J.children(H.pusher),J.children(H.fixed),x.clear.cache()},refreshSidebars:function(){x.verbose("Refreshing other sidebars"),D=J.children(H.sidebar)},repaint:function(){x.verbose("Forcing repaint event"),w.style.display="none";w.offsetHeight;w.scrollTop=w.scrollTop,w.style.display=""},setup:{cache:function(){x.cache={width:C.outerWidth(),height:C.outerHeight(),rtl:"rtl"==C.css("direction")}},layout:function(){0===J.children(H.pusher).length&&(x.debug("Adding wrapper element for sidebar"),x.error(z.pusher),O=c('<div class="pusher" />'),J.children().not(H.omitted).not(D).wrapAll(O),x.refresh()),0!==C.nextAll(H.pusher).length&&C.nextAll(H.pusher)[0]===O[0]||(x.debug("Moved sidebar to correct parent element"),x.error(z.movedSidebar,w),C.detach().prependTo(J),x.refresh()),x.clear.cache(),x.set.pushable(),x.set.direction()}},attachEvents:function(u,y){var v=c(u);y=c.isFunction(x[y])?x[y]:x.toggle,0<v.length?(x.debug("Attaching sidebar events to element",u,y),v.on("click"+B,y)):x.error(z.notFound,u)},show:function(u){if(u=c.isFunction(u)?u:function(){},x.is.hidden()){if(x.refreshSidebars(),N.overlay&&(x.error(z.overlay),N.transition="overlay"),x.refresh(),x.othersActive()){if(x.debug("Other sidebars currently visible"),N.exclusive){if("overlay"!=N.transition){return void x.hideOthers(x.show)}x.hideOthers()}else{N.transition="overlay"}}x.pushPage(function(){u.call(w),N.onShow.call(w)}),N.onChange.call(w),N.onVisible.call(w)}else{x.debug("Sidebar is already visible")}},hide:function(u){u=c.isFunction(u)?u:function(){},(x.is.visible()||x.is.animating())&&(x.debug("Hiding sidebar",u),x.refreshSidebars(),x.pullPage(function(){u.call(w),N.onHidden.call(w)}),N.onChange.call(w),N.onHide.call(w))},othersAnimating:function(){return 0<D.not(C).filter("."+k.animating).length},othersVisible:function(){return 0<D.not(C).filter("."+k.visible).length},othersActive:function(){return x.othersVisible()||x.othersAnimating()},hideOthers:function(u){var Q=D.not(C).filter("."+k.visible),y=Q.length,v=0;u=u||function(){},Q.sidebar("hide",function(){++v==y&&u()})},toggle:function(){x.verbose("Determining toggled direction"),x.is.hidden()?x.show():x.hide()},pushPage:function(S){var v,Q,y,R=x.get.transition(),u="overlay"===R||x.othersActive()?C:O;S=c.isFunction(S)?S:function(){},"scale down"==N.transition&&x.scrollToTop(),x.set.transition(R),x.repaint(),v=function(){x.bind.clickaway(),x.add.inlineCSS(),x.set.animating(),x.set.visible()},Q=function(){x.set.dimmed()},y=function(T){T.target==u[0]&&(u.off(F+L,y),x.remove.animating(),x.bind.scrollLock(),S.call(w))},u.off(F+L),u.on(F+L,y),h(v),N.dimPage&&!x.othersVisible()&&h(Q)},pullPage:function(R){var u,y,v=x.get.transition(),Q="overlay"==v||x.othersActive()?C:O;R=c.isFunction(R)?R:function(){},x.verbose("Removing context push state",x.get.direction()),x.unbind.clickaway(),x.unbind.scrollLock(),u=function(){x.set.transition(v),x.set.animating(),x.remove.visible(),N.dimPage&&!x.othersVisible()&&O.removeClass(k.dimmed)},y=function(S){S.target==Q[0]&&(Q.off(F+L,y),x.remove.animating(),x.remove.transition(),x.remove.inlineCSS(),("scale down"==v||N.returnScroll&&x.is.mobile())&&x.scrollBack(),R.call(w))},Q.off(F+L),Q.on(F+L,y),h(u)},scrollToTop:function(){x.verbose("Scrolling to top of page to avoid animation issues"),M=c(b).scrollTop(),C.scrollTop(0),b.scrollTo(0,0)},scrollBack:function(){x.verbose("Scrolling back to original page position"),b.scrollTo(0,M)},clear:{cache:function(){x.verbose("Clearing cached dimensions"),x.cache={}}},set:{ios:function(){m.addClass(k.ios)},pushed:function(){J.addClass(k.pushed)},pushable:function(){J.addClass(k.pushable)},dimmed:function(){O.addClass(k.dimmed)},active:function(){C.addClass(k.active)},animating:function(){C.addClass(k.animating)},transition:function(u){u=u||x.get.transition(),C.addClass(u)},direction:function(u){u=u||x.get.direction(),C.addClass(k[u])},visible:function(){C.addClass(k.visible)},overlay:function(){C.addClass(k.overlay)}},remove:{inlineCSS:function(){x.debug("Removing inline css styles",K),K&&0<K.length&&K.remove()},ios:function(){m.removeClass(k.ios)},pushed:function(){J.removeClass(k.pushed)},pushable:function(){J.removeClass(k.pushable)},active:function(){C.removeClass(k.active)},animating:function(){C.removeClass(k.animating)},transition:function(u){u=u||x.get.transition(),C.removeClass(u)},direction:function(u){u=u||x.get.direction(),C.removeClass(k[u])},visible:function(){C.removeClass(k.visible)},overlay:function(){C.removeClass(k.overlay)}},get:{direction:function(){return C.hasClass(k.top)?k.top:C.hasClass(k.right)?k.right:C.hasClass(k.bottom)?k.bottom:k.left},transition:function(){var u,v=x.get.direction();return u=x.is.mobile()?"auto"==N.mobileTransition?N.defaultTransition.mobile[v]:N.mobileTransition:"auto"==N.transition?N.defaultTransition.computer[v]:N.transition,x.verbose("Determined transition",u),u},transitionEvent:function(){var u,y=d.createElement("element"),v={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(u in v){if(y.style[u]!==a){return v[u]}}}},is:{ie:function(){return !b.ActiveXObject&&"ActiveXObject" in b||"ActiveXObject" in b},ios:function(){var u=navigator.userAgent,y=u.match(I.ios),v=u.match(I.mobileChrome);return !(!y||v)&&(x.verbose("Browser was found to be iOS",u),!0)},mobile:function(){var u=navigator.userAgent;return u.match(I.mobile)?(x.verbose("Browser was found to be mobile",u),!0):(x.verbose("Browser is not mobile, using regular transition",u),!1)},hidden:function(){return !x.is.visible()},visible:function(){return C.hasClass(k.visible)},open:function(){return x.is.visible()},closed:function(){return x.is.hidden()},vertical:function(){return C.hasClass(k.top)},animating:function(){return J.hasClass(k.animating)},rtl:function(){return x.cache.rtl===a&&(x.cache.rtl="rtl"==C.css("direction")),x.cache.rtl}},setting:function(u,v){if(x.debug("Changing setting",u,v),c.isPlainObject(u)){c.extend(!0,N,u)}else{if(v===a){return N[u]}c.isPlainObject(N[u])?c.extend(!0,N[u],v):N[u]=v}},internal:function(u,v){if(c.isPlainObject(u)){c.extend(!0,x,u)}else{if(v===a){return x[u]}x[u]=v}},debug:function(){!N.silent&&N.debug&&(N.performance?x.performance.log(arguments):(x.debug=Function.prototype.bind.call(console.info,console,N.name+":"),x.debug.apply(console,arguments)))},verbose:function(){!N.silent&&N.verbose&&N.debug&&(N.performance?x.performance.log(arguments):(x.verbose=Function.prototype.bind.call(console.info,console,N.name+":"),x.verbose.apply(console,arguments)))},error:function(){N.silent||(x.error=Function.prototype.bind.call(console.error,console,N.name+":"),x.error.apply(console,arguments))},performance:{log:function(u){var y,v;N.performance&&(v=(y=(new Date).getTime())-(p||y),p=y,o.push({Name:u[0],Arguments:[].slice.call(u,1)||"",Element:w,"Execution Time":v})),clearTimeout(x.performance.timer),x.performance.timer=setTimeout(x.performance.display,500)},display:function(){var u=N.name+":",v=0;p=!1,clearTimeout(x.performance.timer),c.each(o,function(y,Q){v+=Q["Execution Time"]}),u+=" "+v+"ms",f&&(u+=" '"+f+"'"),(console.group!==a||console.table!==a)&&0<o.length&&(console.groupCollapsed(u),console.table?console.table(o):c.each(o,function(y,Q){console.log(Q.Name+": "+Q["Execution Time"]+"ms")}),console.groupEnd()),o=[]}},invoke:function(y,v,T){var R,u,Q,S=P;return v=v||n,T=w||T,"string"==typeof y&&S!==a&&(y=y.split(/[\. ]/),R=y.length-1,c.each(y,function(U,W){var V=U!=R?W+y[U+1].charAt(0).toUpperCase()+y[U+1].slice(1):y;if(c.isPlainObject(S[V])&&U!=R){S=S[V]}else{if(S[V]!==a){return u=S[V],!1}if(!c.isPlainObject(S[W])||U==R){return S[W]!==a?u=S[W]:x.error(z.method,y),!1}S=S[W]}})),c.isFunction(u)?Q=u.apply(T,v):u!==a&&(Q=u),c.isArray(g)?g.push(Q):g!==a?g=[g,Q]:Q!==a&&(g=Q),u}},l?(P===a&&x.initialize(),x.invoke(j)):(P!==a&&x.invoke("destroy"),x.initialize())}),g!==a?g:this},c.fn.sidebar.settings={name:"Sidebar",namespace:"sidebar",silent:!1,debug:!1,verbose:!1,performance:!0,transition:"auto",mobileTransition:"auto",defaultTransition:{computer:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"},mobile:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"}},context:"body",exclusive:!1,closable:!0,dimPage:!0,scrollLock:!1,returnScroll:!1,delaySetup:!1,duration:500,onChange:function(){},onShow:function(){},onHide:function(){},onHidden:function(){},onVisible:function(){},className:{active:"active",animating:"animating",dimmed:"dimmed",ios:"ios",pushable:"pushable",pushed:"pushed",right:"right",top:"top",left:"left",bottom:"bottom",visible:"visible"},selector:{fixed:".fixed",omitted:"script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed",pusher:".pusher",sidebar:".ui.sidebar"},regExp:{ios:/(iPad|iPhone|iPod)/g,mobileChrome:/(CriOS)/g,mobile:/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g},error:{method:"The method you called is not defined.",pusher:"Had to add pusher element. For optimal performance make sure body content is inside a pusher element",movedSidebar:"Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag",overlay:"The overlay setting is no longer supported, use animation: overlay",notFound:"There were no elements that matched the specified selector"}}}(jQuery,window,document),function(d,a,c,b){a=void 0!==a&&a.Math==Math?a:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),d.fn.sticky=function(l){var f,h=d(this),o=h.selector||"",n=(new Date).getTime(),g=[],m=l,j="string"==typeof m,i=[].slice.call(arguments,1);return h.each(function(){var A,E,w,I,v,x=d.isPlainObject(l)?d.extend(!0,{},d.fn.sticky.settings,l):d.extend({},d.fn.sticky.settings),D=x.className,k=x.namespace,G=x.error,H="."+k,B="module-"+k,q=d(this),J=d(a),C=d(x.scrollContext),y=(q.selector,q.data(B)),F=a.requestAnimationFrame||a.mozRequestAnimationFrame||a.webkitRequestAnimationFrame||a.msRequestAnimationFrame||function(p){setTimeout(p,0)},z=this;v={initialize:function(){v.determineContainer(),v.determineContext(),v.verbose("Initializing sticky",x,A),v.save.positions(),v.checkErrors(),v.bind.events(),x.observeChanges&&v.observeChanges(),v.instantiate()},instantiate:function(){v.verbose("Storing instance of module",v),y=v,q.data(B,v)},destroy:function(){v.verbose("Destroying previous instance"),v.reset(),w&&w.disconnect(),I&&I.disconnect(),J.off("load"+H,v.event.load).off("resize"+H,v.event.resize),C.off("scrollchange"+H,v.event.scrollchange),q.removeData(B)},observeChanges:function(){"MutationObserver" in a&&(w=new MutationObserver(v.event.documentChanged),I=new MutationObserver(v.event.changed),w.observe(c,{childList:!0,subtree:!0}),I.observe(z,{childList:!0,subtree:!0}),I.observe(E[0],{childList:!0,subtree:!0}),v.debug("Setting up mutation observer",I))},determineContainer:function(){A=x.container?d(x.container):q.offsetParent()},determineContext:function(){0!==(E=x.context?d(x.context):A).length||v.error(G.invalidContext,x.context,q)},checkErrors:function(){if(v.is.hidden()&&v.error(G.visible,q),v.cache.element.height>v.cache.context.height){return v.reset(),void v.error(G.elementSize,q)}},bind:{events:function(){J.on("load"+H,v.event.load).on("resize"+H,v.event.resize),C.off("scroll"+H).on("scroll"+H,v.event.scroll).on("scrollchange"+H,v.event.scrollchange)}},event:{changed:function(p){clearTimeout(v.timer),v.timer=setTimeout(function(){v.verbose("DOM tree modified, updating sticky menu",p),v.refresh()},100)},documentChanged:function(p){[].forEach.call(p,function(r){r.removedNodes&&[].forEach.call(r.removedNodes,function(s){(s==z||0<d(s).find(z).length)&&(v.debug("Element removed from DOM, tearing down events"),v.destroy())})})},load:function(){v.verbose("Page contents finished loading"),F(v.refresh)},resize:function(){v.verbose("Window resized"),F(v.refresh)},scroll:function(){F(function(){C.triggerHandler("scrollchange"+H,C.scrollTop())})},scrollchange:function(p,r){v.stick(r),x.onScroll.call(z)}},refresh:function(p){v.reset(),x.context||v.determineContext(),p&&v.determineContainer(),v.save.positions(),v.stick(),x.onReposition.call(z)},supports:{sticky:function(){var p=d("<div/>");p[0];return p.addClass(D.supported),p.css("position").match("sticky")}},save:{lastScroll:function(p){v.lastScroll=p},elementScroll:function(p){v.elementScroll=p},positions:function(){var p={height:C.height()},s={margin:{top:parseInt(q.css("margin-top"),10),bottom:parseInt(q.css("margin-bottom"),10)},offset:q.offset(),width:q.outerWidth(),height:q.outerHeight()},r={offset:E.offset(),height:E.outerHeight()};A.outerHeight();v.is.standardScroll()||(v.debug("Non-standard scroll. Removing scroll offset from element offset"),p.top=C.scrollTop(),p.left=C.scrollLeft(),s.offset.top+=p.top,r.offset.top+=p.top,s.offset.left+=p.left,r.offset.left+=p.left),v.cache={fits:s.height+x.offset<=p.height,sameHeight:s.height==r.height,scrollContext:{height:p.height},element:{margin:s.margin,top:s.offset.top-s.margin.top,left:s.offset.left,width:s.width,height:s.height,bottom:s.offset.top+s.height},context:{top:r.offset.top,height:r.height,bottom:r.offset.top+r.height}},v.set.containerSize(),v.stick(),v.debug("Caching element positions",v.cache)}},get:{direction:function(p){var r="down";return p=p||C.scrollTop(),v.lastScroll!==b&&(v.lastScroll<p?r="down":v.lastScroll>p&&(r="up")),r},scrollChange:function(p){return p=p||C.scrollTop(),v.lastScroll?p-v.lastScroll:0},currentElementScroll:function(){return v.elementScroll?v.elementScroll:v.is.top()?Math.abs(parseInt(q.css("top"),10))||0:Math.abs(parseInt(q.css("bottom"),10))||0},elementScroll:function(s){s=s||C.scrollTop();var N=v.cache.element,K=v.cache.scrollContext,u=v.get.scrollChange(s),L=N.height-K.height+x.offset,p=v.get.currentElementScroll(),M=p+u;return p=v.cache.fits||M<0?0:L<M?L:M}},remove:{lastScroll:function(){delete v.lastScroll},elementScroll:function(p){delete v.elementScroll},minimumSize:function(){A.css("min-height","")},offset:function(){q.css("margin-top","")}},set:{offset:function(){v.verbose("Setting offset on element",x.offset),q.css("margin-top",x.offset)},containerSize:function(){var p=A.get(0).tagName;"HTML"===p||"body"==p?v.determineContainer():Math.abs(A.outerHeight()-v.cache.context.height)>x.jitter&&(v.debug("Context has padding, specifying exact height for container",v.cache.context.height),A.css({height:v.cache.context.height}))},minimumSize:function(){var p=v.cache.element;A.css("min-height",p.height)},scroll:function(p){v.debug("Setting scroll on element",p),v.elementScroll!=p&&(v.is.top()&&q.css("bottom","").css("top",-p),v.is.bottom()&&q.css("top","").css("bottom",p))},size:function(){0!==v.cache.element.height&&0!==v.cache.element.width&&(z.style.setProperty("width",v.cache.element.width+"px","important"),z.style.setProperty("height",v.cache.element.height+"px","important"))}},is:{standardScroll:function(){return C[0]==a},top:function(){return q.hasClass(D.top)},bottom:function(){return q.hasClass(D.bottom)},initialPosition:function(){return !v.is.fixed()&&!v.is.bound()},hidden:function(){return !q.is(":visible")},bound:function(){return q.hasClass(D.bound)},fixed:function(){return q.hasClass(D.fixed)}},stick:function(L){var S=L||C.scrollTop(),O=v.cache,M=O.fits,P=O.sameHeight,p=O.element,Q=O.scrollContext,R=O.context,N=v.is.bottom()&&x.pushing?x.bottomOffset:x.offset,K=(L={top:S+N,bottom:S+N+Q.height},v.get.direction(L.top),M?0:v.get.elementScroll(L.top)),T=!M;0!==p.height&&!P&&(v.is.initialPosition()?L.top>=R.bottom?(v.debug("Initial element position is bottom of container"),v.bindBottom()):L.top>p.top&&(p.height+L.top-K>=R.bottom?(v.debug("Initial element position is bottom of container"),v.bindBottom()):(v.debug("Initial element position is fixed"),v.fixTop())):v.is.fixed()?v.is.top()?L.top<=p.top?(v.debug("Fixed element reached top of container"),v.setInitialPosition()):p.height+L.top-K>=R.bottom?(v.debug("Fixed element reached bottom of container"),v.bindBottom()):T&&(v.set.scroll(K),v.save.lastScroll(L.top),v.save.elementScroll(K)):v.is.bottom()&&(L.bottom-p.height<=p.top?(v.debug("Bottom fixed rail has reached top of container"),v.setInitialPosition()):L.bottom>=R.bottom?(v.debug("Bottom fixed rail has reached bottom of container"),v.bindBottom()):T&&(v.set.scroll(K),v.save.lastScroll(L.top),v.save.elementScroll(K))):v.is.bottom()&&(L.top<=p.top?(v.debug("Jumped from bottom fixed to top fixed, most likely used home/end button"),v.setInitialPosition()):x.pushing?v.is.bound()&&L.bottom<=R.bottom&&(v.debug("Fixing bottom attached element to bottom of browser."),v.fixBottom()):v.is.bound()&&L.top<=R.bottom-p.height&&(v.debug("Fixing bottom attached element to top of browser."),v.fixTop())))},bindTop:function(){v.debug("Binding element to top of parent container"),v.remove.offset(),q.css({left:"",top:"",marginBottom:""}).removeClass(D.fixed).removeClass(D.bottom).addClass(D.bound).addClass(D.top),x.onTop.call(z),x.onUnstick.call(z)},bindBottom:function(){v.debug("Binding element to bottom of parent container"),v.remove.offset(),q.css({left:"",top:""}).removeClass(D.fixed).removeClass(D.top).addClass(D.bound).addClass(D.bottom),x.onBottom.call(z),x.onUnstick.call(z)},setInitialPosition:function(){v.debug("Returning to initial position"),v.unfix(),v.unbind()},fixTop:function(){v.debug("Fixing element to top of page"),x.setSize&&v.set.size(),v.set.minimumSize(),v.set.offset(),q.css({left:v.cache.element.left,bottom:"",marginBottom:""}).removeClass(D.bound).removeClass(D.bottom).addClass(D.fixed).addClass(D.top),x.onStick.call(z)},fixBottom:function(){v.debug("Sticking element to bottom of page"),x.setSize&&v.set.size(),v.set.minimumSize(),v.set.offset(),q.css({left:v.cache.element.left,bottom:"",marginBottom:""}).removeClass(D.bound).removeClass(D.top).addClass(D.fixed).addClass(D.bottom),x.onStick.call(z)},unbind:function(){v.is.bound()&&(v.debug("Removing container bound position on element"),v.remove.offset(),q.removeClass(D.bound).removeClass(D.top).removeClass(D.bottom))},unfix:function(){v.is.fixed()&&(v.debug("Removing fixed position on element"),v.remove.minimumSize(),v.remove.offset(),q.removeClass(D.fixed).removeClass(D.top).removeClass(D.bottom),x.onUnstick.call(z))},reset:function(){v.debug("Resetting elements position"),v.unbind(),v.unfix(),v.resetCSS(),v.remove.offset(),v.remove.lastScroll()},resetCSS:function(){q.css({width:"",height:""}),A.css({height:""})},setting:function(p,r){if(d.isPlainObject(p)){d.extend(!0,x,p)}else{if(r===b){return x[p]}x[p]=r}},internal:function(p,r){if(d.isPlainObject(p)){d.extend(!0,v,p)}else{if(r===b){return v[p]}v[p]=r}},debug:function(){!x.silent&&x.debug&&(x.performance?v.performance.log(arguments):(v.debug=Function.prototype.bind.call(console.info,console,x.name+":"),v.debug.apply(console,arguments)))},verbose:function(){!x.silent&&x.verbose&&x.debug&&(x.performance?v.performance.log(arguments):(v.verbose=Function.prototype.bind.call(console.info,console,x.name+":"),v.verbose.apply(console,arguments)))},error:function(){x.silent||(v.error=Function.prototype.bind.call(console.error,console,x.name+":"),v.error.apply(console,arguments))},performance:{log:function(p){var s,r;x.performance&&(r=(s=(new Date).getTime())-(n||s),n=s,g.push({Name:p[0],Arguments:[].slice.call(p,1)||"",Element:z,"Execution Time":r})),clearTimeout(v.performance.timer),v.performance.timer=setTimeout(v.performance.display,0)},display:function(){var p=x.name+":",r=0;n=!1,clearTimeout(v.performance.timer),d.each(g,function(s,u){r+=u["Execution Time"]}),p+=" "+r+"ms",o&&(p+=" '"+o+"'"),(console.group!==b||console.table!==b)&&0<g.length&&(console.groupCollapsed(p),console.table?console.table(g):d.each(g,function(s,u){console.log(u.Name+": "+u["Execution Time"]+"ms")}),console.groupEnd()),g=[]}},invoke:function(u,s,N){var L,p,K,M=y;return s=s||i,N=z||N,"string"==typeof u&&M!==b&&(u=u.split(/[\. ]/),L=u.length-1,d.each(u,function(r,P){var O=r!=L?P+u[r+1].charAt(0).toUpperCase()+u[r+1].slice(1):u;if(d.isPlainObject(M[O])&&r!=L){M=M[O]}else{if(M[O]!==b){return p=M[O],!1}if(!d.isPlainObject(M[P])||r==L){return M[P]!==b&&(p=M[P]),!1}M=M[P]}})),d.isFunction(p)?K=p.apply(N,s):p!==b&&(K=p),d.isArray(f)?f.push(K):f!==b?f=[f,K]:K!==b&&(f=K),p}},j?(y===b&&v.initialize(),v.invoke(m)):(y!==b&&y.invoke("destroy"),v.initialize())}),f!==b?f:this},d.fn.sticky.settings={name:"Sticky",namespace:"sticky",silent:!1,debug:!1,verbose:!0,performance:!0,pushing:!1,context:!1,container:!1,scrollContext:a,offset:0,bottomOffset:0,jitter:5,setSize:!0,observeChanges:!1,onReposition:function(){},onScroll:function(){},onStick:function(){},onUnstick:function(){},onTop:function(){},onBottom:function(){},error:{container:"Sticky element must be inside a relative container",visible:"Element is hidden, you must call refresh after element becomes visible. Use silent setting to surpress this warning in production.",method:"The method you called is not defined.",invalidContext:"Context specified does not exist",elementSize:"Sticky element is larger than its container, cannot create sticky."},className:{bound:"bound",fixed:"fixed",supported:"native",top:"top",bottom:"bottom"}}}(jQuery,window,document),function(b,c,d,a){c=void 0!==c&&c.Math==Math?c:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),b.fn.tab=function(o){var h,q=b.isFunction(this)?b(c):b(this),i=q.selector||"",j=(new Date).getTime(),l=[],k=o,e="string"==typeof k,p=[].slice.call(arguments,1),n=!1;return q.each(function(){var F,f,u,K,g,N,M=b.isPlainObject(o)?b.extend(!0,{},b.fn.tab.settings,o):b.extend({},b.fn.tab.settings),m=M.className,L=M.metadata,I=M.selector,H=M.error,r="."+M.namespace,D="module-"+M.namespace,A=b(this),z={},J=!0,E=0,G=this,B=A.data(D);g={initialize:function(){g.debug("Initializing tab menu item",A),g.fix.callbacks(),g.determineTabs(),g.debug("Determining tabs",M.context,f),M.auto&&g.set.auto(),g.bind.events(),M.history&&!n&&(g.initializeHistory(),n=!0),g.instantiate()},instantiate:function(){g.verbose("Storing instance of module",g),B=g,A.data(D,g)},destroy:function(){g.debug("Destroying tabs",A),A.removeData(D).off(r)},bind:{events:function(){b.isWindow(G)||(g.debug("Attaching tab activation events to element",A),A.on("click"+r,g.event.click))}},determineTabs:function(){var s;"parent"===M.context?(0<A.closest(I.ui).length?(s=A.closest(I.ui),g.verbose("Using closest UI element as parent",s)):s=A,F=s.parent(),g.verbose("Determined parent element for creating context",F)):M.context?(F=b(M.context),g.verbose("Using selector for tab context",M.context,F)):F=b("body"),M.childrenOnly?(f=F.children(I.tabs),g.debug("Searching tab context children for tabs",F,f)):(f=F.find(I.tabs),g.debug("Searching tab context for tabs",F,f))},fix:{callbacks:function(){b.isPlainObject(o)&&(o.onTabLoad||o.onTabInit)&&(o.onTabLoad&&(o.onLoad=o.onTabLoad,delete o.onTabLoad,g.error(H.legacyLoad,o.onLoad)),o.onTabInit&&(o.onFirstLoad=o.onTabInit,delete o.onTabInit,g.error(H.legacyInit,o.onFirstLoad)),M=b.extend(!0,{},b.fn.tab.settings,o))}},initializeHistory:function(){if(g.debug("Initializing page state"),b.address===a){return g.error(H.state),!1}if("state"==M.historyType){if(g.debug("Using HTML5 to manage state"),!1===M.path){return g.error(H.path),!1}b.address.history(!0).state(M.path)}b.address.bind("change",g.event.history.change)},event:{click:function(s){var v=b(this).data(L.tab);v!==a?(M.history?(g.verbose("Updating page state",s),b.address.value(v)):(g.verbose("Changing tab",s),g.changeTab(v)),s.preventDefault()):g.debug("No tab specified")},history:{change:function(s){var w=s.pathNames.join("/")||g.get.initialPath(),v=M.templates.determineTitle(w)||!1;g.performance.display(),g.debug("History change event",w,s),N=s,w!==a&&g.changeTab(w),v&&b.address.title(v)}}},refresh:function(){u&&(g.debug("Refreshing tab",u),g.changeTab(u))},cache:{read:function(s){return s!==a&&z[s]},add:function(s,v){s=s||u,g.debug("Adding cached content for",s),z[s]=v},remove:function(s){s=s||u,g.debug("Removing cached content for",s),delete z[s]}},set:{auto:function(){var s="string"==typeof M.path?M.path.replace(/\/$/,"")+"/{$tab}":"/{$tab}";g.verbose("Setting up automatic tab retrieval from server",s),b.isPlainObject(M.apiSettings)?M.apiSettings.url=s:M.apiSettings={url:s}},loading:function(s){var v=g.get.tabElement(s);v.hasClass(m.loading)||(g.verbose("Setting loading state for",v),v.addClass(m.loading).siblings(f).removeClass(m.active+" "+m.loading),0<v.length&&M.onRequest.call(v[0],s))},state:function(s){b.address.value(s)}},changeTab:function(s){var t=c.history&&c.history.pushState&&M.ignoreFirstLoad&&J,w=M.auto||b.isPlainObject(M.apiSettings),v=w&&!t?g.utilities.pathToArray(s):g.get.defaultPathArray(s);s=g.utilities.arrayToPath(v),b.each(v,function(C,U){var Q,O,R,x,S=v.slice(0,C+1),T=g.utilities.arrayToPath(S),P=g.is.tab(T),y=C+1==v.length,V=g.get.tabElement(T);if(g.verbose("Looking for tab",U),P){if(g.verbose("Tab was found",U),u=T,K=g.utilities.filterArray(v,S),y?x=!0:(O=v.slice(0,C+2),R=g.utilities.arrayToPath(O),(x=!g.is.tab(R))&&g.verbose("Tab parameters found",O)),x&&w){return t?(g.debug("Ignoring remote content on first tab load",T),J=!1,g.cache.add(s,V.html()),g.activate.all(T),M.onFirstLoad.call(V[0],T,K,N),M.onLoad.call(V[0],T,K,N)):(g.activate.navigation(T),g.fetch.content(T,s)),!1}g.debug("Opened local tab",T),g.activate.all(T),g.cache.read(T)||(g.cache.add(T,!0),g.debug("First time tab loaded calling tab init"),M.onFirstLoad.call(V[0],T,K,N)),M.onLoad.call(V[0],T,K,N)}else{if(-1!=s.search("/")||""===s){return g.error(H.missingTab,A,F,T),!1}if(T=(Q=b("#"+s+', a[name="'+s+'"]')).closest("[data-tab]").data(L.tab),V=g.get.tabElement(T),Q&&0<Q.length&&T){return g.debug("Anchor link used, opening parent tab",V,Q),V.hasClass(m.active)||setTimeout(function(){g.scrollTo(Q)},0),g.activate.all(T),g.cache.read(T)||(g.cache.add(T,!0),g.debug("First time tab loaded calling tab init"),M.onFirstLoad.call(V[0],T,K,N)),M.onLoad.call(V[0],T,K,N),!1}}})},scrollTo:function(s){var v=!!(s&&0<s.length)&&s.offset().top;!1!==v&&(g.debug("Forcing scroll to an in-page link in a hidden tab",v,s),b(d).scrollTop(v))},update:{content:function(s,y,w){var v=g.get.tabElement(s),x=v[0];w=w!==a?w:M.evaluateScripts,"string"==typeof M.cacheType&&"dom"==M.cacheType.toLowerCase()&&"string"!=typeof y?v.empty().append(b(y).clone(!0)):w?(g.debug("Updating HTML and evaluating inline scripts",s,y),v.html(y)):(g.debug("Updating HTML",s,y),x.innerHTML=y)}},fetch:{content:function(Q,y){var w,x,C=g.get.tabElement(Q),v={dataType:"html",encodeParameters:!1,on:"now",cache:M.alwaysRefresh,headers:{"X-Remote":!0},onSuccess:function(s){"response"==M.cacheType&&g.cache.add(y,s),g.update.content(Q,s),Q==u?(g.debug("Content loaded",Q),g.activate.tab(Q)):g.debug("Content loaded in background",Q),M.onFirstLoad.call(C[0],Q,K,N),M.onLoad.call(C[0],Q,K,N),M.loadOnce?g.cache.add(y,!0):"string"==typeof M.cacheType&&"dom"==M.cacheType.toLowerCase()&&0<C.children().length?setTimeout(function(){var t=C.children().clone(!0);t=t.not("script"),g.cache.add(y,t)},0):g.cache.add(y,C.html())},urlData:{tab:y}},O=C.api("get request")||!1,P=O&&"pending"===O.state();y=y||Q,x=g.cache.read(y),M.cache&&x?(g.activate.tab(Q),g.debug("Adding cached content",y),M.loadOnce||("once"==M.evaluateScripts?g.update.content(Q,x,!1):g.update.content(Q,x)),M.onLoad.call(C[0],Q,K,N)):P?(g.set.loading(Q),g.debug("Content is already loading",y)):b.api!==a?(w=b.extend(!0,{},M.apiSettings,v),g.debug("Retrieving remote content",y,w),g.set.loading(Q),C.api(w)):g.error(H.api)}},activate:{all:function(s){g.activate.tab(s),g.activate.navigation(s)},tab:function(s){var x=g.get.tabElement(s),w="siblings"==M.deactivate?x.siblings(f):f.not(x),v=x.hasClass(m.active);g.verbose("Showing tab content for",x),v||(x.addClass(m.active),w.removeClass(m.active+" "+m.loading),0<x.length&&M.onVisible.call(x[0],s))},navigation:function(s){var x=g.get.navElement(s),w="siblings"==M.deactivate?x.siblings(q):q.not(x),v=x.hasClass(m.active);g.verbose("Activating tab navigation for",x,s),v||(x.addClass(m.active),w.removeClass(m.active+" "+m.loading))}},deactivate:{all:function(){g.deactivate.navigation(),g.deactivate.tabs()},navigation:function(){q.removeClass(m.active)},tabs:function(){f.removeClass(m.active+" "+m.loading)}},is:{tab:function(s){return s!==a&&0<g.get.tabElement(s).length}},get:{initialPath:function(){return q.eq(0).data(L.tab)||f.eq(0).data(L.tab)},path:function(){return b.address.value()},defaultPathArray:function(s){return g.utilities.pathToArray(g.get.defaultPath(s))},defaultPath:function(s){var v=q.filter("[data-"+L.tab+'^="'+s+'/"]').eq(0).data(L.tab)||!1;if(v){if(g.debug("Found default tab",v),E<M.maxDepth){return E++,g.get.defaultPath(v)}g.error(H.recursion)}else{g.debug("No default tabs found for",s,f)}return E=0,s},navElement:function(s){return s=s||u,q.filter("[data-"+L.tab+'="'+s+'"]')},tabElement:function(s){var y,w,v,x;return s=s||u,v=g.utilities.pathToArray(s),x=g.utilities.last(v),y=f.filter("[data-"+L.tab+'="'+s+'"]'),w=f.filter("[data-"+L.tab+'="'+x+'"]'),0<y.length?y:w},tab:function(){return u}},utilities:{filterArray:function(s,v){return b.grep(s,function(t){return -1==b.inArray(t,v)})},last:function(s){return !!b.isArray(s)&&s[s.length-1]},pathToArray:function(s){return s===a&&(s=u),"string"==typeof s?s.split("/"):[s]},arrayToPath:function(s){return !!b.isArray(s)&&s.join("/")}},setting:function(s,v){if(g.debug("Changing setting",s,v),b.isPlainObject(s)){b.extend(!0,M,s)}else{if(v===a){return M[s]}b.isPlainObject(M[s])?b.extend(!0,M[s],v):M[s]=v}},internal:function(s,v){if(b.isPlainObject(s)){b.extend(!0,g,s)}else{if(v===a){return g[s]}g[s]=v}},debug:function(){!M.silent&&M.debug&&(M.performance?g.performance.log(arguments):(g.debug=Function.prototype.bind.call(console.info,console,M.name+":"),g.debug.apply(console,arguments)))},verbose:function(){!M.silent&&M.verbose&&M.debug&&(M.performance?g.performance.log(arguments):(g.verbose=Function.prototype.bind.call(console.info,console,M.name+":"),g.verbose.apply(console,arguments)))},error:function(){M.silent||(g.error=Function.prototype.bind.call(console.error,console,M.name+":"),g.error.apply(console,arguments))},performance:{log:function(s){var w,v;M.performance&&(v=(w=(new Date).getTime())-(j||w),j=w,l.push({Name:s[0],Arguments:[].slice.call(s,1)||"",Element:G,"Execution Time":v})),clearTimeout(g.performance.timer),g.performance.timer=setTimeout(g.performance.display,500)},display:function(){var s=M.name+":",t=0;j=!1,clearTimeout(g.performance.timer),b.each(l,function(v,w){t+=w["Execution Time"]}),s+=" "+t+"ms",i&&(s+=" '"+i+"'"),(console.group!==a||console.table!==a)&&0<l.length&&(console.groupCollapsed(s),console.table?console.table(l):b.each(l,function(v,w){console.log(w.Name+": "+w["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(w,v,O){var y,s,x,C=B;return v=v||p,O=G||O,"string"==typeof w&&C!==a&&(w=w.split(/[\. ]/),y=w.length-1,b.each(w,function(P,R){var Q=P!=y?R+w[P+1].charAt(0).toUpperCase()+w[P+1].slice(1):w;if(b.isPlainObject(C[Q])&&P!=y){C=C[Q]}else{if(C[Q]!==a){return s=C[Q],!1}if(!b.isPlainObject(C[R])||P==y){return C[R]!==a?s=C[R]:g.error(H.method,w),!1}C=C[R]}})),b.isFunction(s)?x=s.apply(O,v):s!==a&&(x=s),b.isArray(h)?h.push(x):h!==a?h=[h,x]:x!==a&&(h=x),s}},e?(B===a&&g.initialize(),g.invoke(k)):(B!==a&&B.invoke("destroy"),g.initialize())}),h!==a?h:this},b.tab=function(){b(c).tab.apply(this,arguments)},b.fn.tab.settings={name:"Tab",namespace:"tab",silent:!1,debug:!1,verbose:!1,performance:!0,auto:!1,history:!1,historyType:"hash",path:!1,context:!1,childrenOnly:!1,maxDepth:25,deactivate:"siblings",alwaysRefresh:!1,cache:!0,loadOnce:!1,cacheType:"response",ignoreFirstLoad:!1,apiSettings:!1,evaluateScripts:"once",onFirstLoad:function(f,h,g){},onLoad:function(f,h,g){},onVisible:function(f,h,g){},onRequest:function(f,h,g){},templates:{determineTitle:function(f){}},error:{api:"You attempted to load content without API module",method:"The method you called is not defined",missingTab:"Activated tab cannot be found. Tabs are case-sensitive.",noContent:"The tab you specified is missing a content url.",path:"History enabled, but no path was specified",recursion:"Max recursive depth reached",legacyInit:"onTabInit has been renamed to onFirstLoad in 2.0, please adjust your code.",legacyLoad:"onTabLoad has been renamed to onLoad in 2.0. Please adjust your code",state:"History requires Asual's Address library <https://github.com/asual/jquery-address>"},metadata:{tab:"tab",loaded:"loaded",promise:"promise"},className:{loading:"loading",active:"active"},selector:{tabs:".ui.tab",ui:".ui"}}}(jQuery,window,document),function(a,b,d,c){b=void 0!==b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),a.fn.transition=function(){var f,l=a(this),i=l.selector||"",k=(new Date).getTime(),j=[],m=arguments,e=m[0],o=[].slice.call(arguments,1),n="string"==typeof e;b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame;return l.each(function(r){var B,z,A,h,x,y,p,g,q,w=a(this),v=this;(q={initialize:function(){B=q.get.settings.apply(v,m),h=B.className,A=B.error,x=B.metadata,g="."+B.namespace,p="module-"+B.namespace,z=w.data(p)||q,y=q.get.animationEndEvent(),n&&(n=q.invoke(e)),!1===n&&(q.verbose("Converted arguments into settings object",B),B.interval?q.delay(B.animate):q.animate(),q.instantiate())},instantiate:function(){q.verbose("Storing instance of module",q),z=q,w.data(p,z)},destroy:function(){q.verbose("Destroying previous module for",v),w.removeData(p)},refresh:function(){q.verbose("Refreshing display type on next animation"),delete q.displayType},forceRepaint:function(){q.verbose("Forcing element repaint");var s=w.parent(),u=w.next();0===u.length?w.detach().appendTo(s):w.detach().insertBefore(u)},repaint:function(){q.verbose("Repainting element");v.offsetWidth},delay:function(s){var C,u=q.get.animationDirection();u||(u=q.can.transition()?q.get.direction():"static"),s=s!==c?s:B.interval,C="auto"==B.reverse&&u==h.outward||1==B.reverse?(l.length-r)*B.interval:r*B.interval,q.debug("Delaying animation by",C),setTimeout(q.animate,C)},animate:function(s){if(B=s||B,!q.is.supported()){return q.error(A.support),!1}if(q.debug("Preparing animation",B.animation),q.is.animating()){if(B.queue){return !B.allowRepeats&&q.has.direction()&&q.is.occurring()&&!0!==q.queuing?q.debug("Animation is currently occurring, preventing queueing same animation",B.animation):q.queue(B.animation),!1}if(!B.allowRepeats&&q.is.occurring()){return q.debug("Animation is already occurring, will not execute repeated animation",B.animation),!1}q.debug("New animation started, completing previous early",B.animation),z.complete()}q.can.animate()?q.set.animating(B.animation):q.error(A.noAnimation,B.animation,v)},reset:function(){q.debug("Resetting animation to beginning conditions"),q.remove.animationCallbacks(),q.restore.conditions(),q.remove.animating()},queue:function(s){q.debug("Queueing animation of",s),q.queuing=!0,w.one(y+".queue"+g,function(){q.queuing=!1,q.repaint(),q.animate.apply(this,B)})},complete:function(s){q.debug("Animation complete",B.animation),q.remove.completeCallback(),q.remove.failSafe(),q.is.looping()||(q.is.outward()?(q.verbose("Animation is outward, hiding element"),q.restore.conditions(),q.hide()):q.is.inward()?(q.verbose("Animation is outward, showing element"),q.restore.conditions(),q.show()):(q.verbose("Static animation completed"),q.restore.conditions(),B.onComplete.call(v)))},force:{visible:function(){var u=w.attr("style"),F=q.get.userStyle(),D=q.get.displayType(),C=F+"display: "+D+" !important;",E=w.css("display"),s=u===c||""===u;E!==D?(q.verbose("Overriding default display to show element",D),w.attr("style",C)):s&&w.removeAttr("style")},hidden:function(){var s=w.attr("style"),C=w.css("display"),u=s===c||""===s;"none"===C||q.is.hidden()?u&&w.removeAttr("style"):(q.verbose("Overriding default display to hide element"),w.css("display","none"))}},has:{direction:function(s){var t=!1;return"string"==typeof(s=s||B.animation)&&(s=s.split(" "),a.each(s,function(u,C){C!==h.inward&&C!==h.outward||(t=!0)})),t},inlineDisplay:function(){var s=w.attr("style")||"";return a.isArray(s.match(/display.*?;/,""))}},set:{animating:function(s){var u;q.remove.completeCallback(),s=s||B.animation,u=q.get.animationClass(s),q.save.animation(u),q.force.visible(),q.remove.hidden(),q.remove.direction(),q.start.animation(u)},duration:function(s,u){((u="number"==typeof(u=u||B.duration)?u+"ms":u)||0===u)&&(q.verbose("Setting animation duration",u),w.css({"animation-duration":u}))},direction:function(s){(s=s||q.get.direction())==h.inward?q.set.inward():q.set.outward()},looping:function(){q.debug("Transition set to loop"),w.addClass(h.looping)},hidden:function(){w.addClass(h.transition).addClass(h.hidden)},inward:function(){q.debug("Setting direction to inward"),w.removeClass(h.outward).addClass(h.inward)},outward:function(){q.debug("Setting direction to outward"),w.removeClass(h.inward).addClass(h.outward)},visible:function(){w.addClass(h.transition).addClass(h.visible)}},start:{animation:function(s){s=s||q.get.animationClass(),q.debug("Starting tween",s),w.addClass(s).one(y+".complete"+g,q.complete),B.useFailSafe&&q.add.failSafe(),q.set.duration(B.duration),B.onStart.call(v)}},save:{animation:function(s){q.cache||(q.cache={}),q.cache.animation=s},displayType:function(s){"none"!==s&&w.data(x.displayType,s)},transitionExists:function(s,u){a.fn.transition.exists[s]=u,q.verbose("Saving existence of transition",s,u)}},restore:{conditions:function(){var s=q.get.currentAnimation();s&&(w.removeClass(s),q.verbose("Removing animation class",q.cache)),q.remove.duration()}},add:{failSafe:function(){var s=q.get.duration();q.timer=setTimeout(function(){w.triggerHandler(y)},s+B.failSafeDelay),q.verbose("Adding fail safe timer",q.timer)}},remove:{animating:function(){w.removeClass(h.animating)},animationCallbacks:function(){q.remove.queueCallback(),q.remove.completeCallback()},queueCallback:function(){w.off(".queue"+g)},completeCallback:function(){w.off(".complete"+g)},display:function(){w.css("display","")},direction:function(){w.removeClass(h.inward).removeClass(h.outward)},duration:function(){w.css("animation-duration","")},failSafe:function(){q.verbose("Removing fail safe timer",q.timer),q.timer&&clearTimeout(q.timer)},hidden:function(){w.removeClass(h.hidden)},visible:function(){w.removeClass(h.visible)},looping:function(){q.debug("Transitions are no longer looping"),q.is.looping()&&(q.reset(),w.removeClass(h.looping))},transition:function(){w.removeClass(h.visible).removeClass(h.hidden)}},get:{settings:function(s,C,u){return"object"==typeof s?a.extend(!0,{},a.fn.transition.settings,s):"function"==typeof u?a.extend({},a.fn.transition.settings,{animation:s,onComplete:u,duration:C}):"string"==typeof C||"number"==typeof C?a.extend({},a.fn.transition.settings,{animation:s,duration:C}):"object"==typeof C?a.extend({},a.fn.transition.settings,C,{animation:s}):"function"==typeof C?a.extend({},a.fn.transition.settings,{animation:s,onComplete:C}):a.extend({},a.fn.transition.settings,{animation:s})},animationClass:function(s){var C=s||B.animation,u=q.can.transition()&&!q.has.direction()?q.get.direction()+" ":"";return h.animating+" "+h.transition+" "+u+C},currentAnimation:function(){return !(!q.cache||q.cache.animation===c)&&q.cache.animation},currentDirection:function(){return q.is.inward()?h.inward:h.outward},direction:function(){return q.is.hidden()||!q.is.visible()?h.inward:h.outward},animationDirection:function(s){var t;return"string"==typeof(s=s||B.animation)&&(s=s.split(" "),a.each(s,function(u,C){C===h.inward?t=h.inward:C===h.outward&&(t=h.outward)})),t||!1},duration:function(s){return !1===(s=s||B.duration)&&(s=w.css("animation-duration")||0),"string"==typeof s?-1<s.indexOf("ms")?parseFloat(s):1000*parseFloat(s):s},displayType:function(s){return s=s===c||s,B.displayType?B.displayType:(s&&w.data(x.displayType)===c&&q.can.transition(!0),w.data(x.displayType))},userStyle:function(s){return(s=s||w.attr("style")||"").replace(/display.*?;/,"")},transitionExists:function(s){return a.fn.transition.exists[s]},animationStartEvent:function(){var s,C=d.createElement("div"),u={animation:"animationstart",OAnimation:"oAnimationStart",MozAnimation:"mozAnimationStart",WebkitAnimation:"webkitAnimationStart"};for(s in u){if(C.style[s]!==c){return u[s]}}return !1},animationEndEvent:function(){var s,C=d.createElement("div"),u={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(s in u){if(C.style[s]!==c){return u[s]}}return !1}},can:{transition:function(D){var K,G,E,H,u,I,J=B.animation,F=q.get.transitionExists(J),C=q.get.displayType(!1);if(F===c||D){if(q.verbose("Determining whether animation exists"),K=w.attr("class"),G=w.prop("tagName"),H=(E=a("<"+G+" />").addClass(K).insertAfter(w)).addClass(J).removeClass(h.inward).removeClass(h.outward).addClass(h.animating).addClass(h.transition).css("animationName"),u=E.addClass(h.inward).css("animationName"),C||(C=E.attr("class",K).removeAttr("style").removeClass(h.hidden).removeClass(h.visible).show().css("display"),q.verbose("Determining final display state",C),q.save.displayType(C)),E.remove(),H!=u){q.debug("Direction exists for animation",J),I=!0}else{if("none"==H||!H){return void q.debug("No animation defined in css",J)}q.debug("Static animation found",J,C),I=!1}q.save.transitionExists(J,I)}return F!==c?F:I},animate:function(){return q.can.transition()!==c}},is:{animating:function(){return w.hasClass(h.animating)},inward:function(){return w.hasClass(h.inward)},outward:function(){return w.hasClass(h.outward)},looping:function(){return w.hasClass(h.looping)},occurring:function(s){return s="."+(s=s||B.animation).replace(" ","."),0<w.filter(s).length},visible:function(){return w.is(":visible")},hidden:function(){return"hidden"===w.css("visibility")},supported:function(){return !1!==y}},hide:function(){q.verbose("Hiding element"),q.is.animating()&&q.reset(),v.blur(),q.remove.display(),q.remove.visible(),q.set.hidden(),q.force.hidden(),B.onHide.call(v),B.onComplete.call(v)},show:function(s){q.verbose("Showing element",s),q.remove.hidden(),q.set.visible(),q.force.visible(),B.onShow.call(v),B.onComplete.call(v)},toggle:function(){q.is.visible()?q.hide():q.show()},stop:function(){q.debug("Stopping current animation"),w.triggerHandler(y)},stopAll:function(){q.debug("Stopping all animation"),q.remove.queueCallback(),w.triggerHandler(y)},clear:{queue:function(){q.debug("Clearing animation queue"),q.remove.queueCallback()}},enable:function(){q.verbose("Starting animation"),w.removeClass(h.disabled)},disable:function(){q.debug("Stopping animation"),w.addClass(h.disabled)},setting:function(s,u){if(q.debug("Changing setting",s,u),a.isPlainObject(s)){a.extend(!0,B,s)}else{if(u===c){return B[s]}a.isPlainObject(B[s])?a.extend(!0,B[s],u):B[s]=u}},internal:function(s,u){if(a.isPlainObject(s)){a.extend(!0,q,s)}else{if(u===c){return q[s]}q[s]=u}},debug:function(){!B.silent&&B.debug&&(B.performance?q.performance.log(arguments):(q.debug=Function.prototype.bind.call(console.info,console,B.name+":"),q.debug.apply(console,arguments)))},verbose:function(){!B.silent&&B.verbose&&B.debug&&(B.performance?q.performance.log(arguments):(q.verbose=Function.prototype.bind.call(console.info,console,B.name+":"),q.verbose.apply(console,arguments)))},error:function(){B.silent||(q.error=Function.prototype.bind.call(console.error,console,B.name+":"),q.error.apply(console,arguments))},performance:{log:function(s){var C,u;B.performance&&(u=(C=(new Date).getTime())-(k||C),k=C,j.push({Name:s[0],Arguments:[].slice.call(s,1)||"",Element:v,"Execution Time":u})),clearTimeout(q.performance.timer),q.performance.timer=setTimeout(q.performance.display,500)},display:function(){var s=B.name+":",t=0;k=!1,clearTimeout(q.performance.timer),a.each(j,function(u,C){t+=C["Execution Time"]}),s+=" "+t+"ms",i&&(s+=" '"+i+"'"),1<l.length&&(s+=" ("+l.length+")"),(console.group!==c||console.table!==c)&&0<j.length&&(console.groupCollapsed(s),console.table?console.table(j):a.each(j,function(u,C){console.log(C.Name+": "+C["Execution Time"]+"ms")}),console.groupEnd()),j=[]}},invoke:function(C,u,G){var E,s,D,F=z;return u=u||o,G=v||G,"string"==typeof C&&F!==c&&(C=C.split(/[\. ]/),E=C.length-1,a.each(C,function(H,J){var I=H!=E?J+C[H+1].charAt(0).toUpperCase()+C[H+1].slice(1):C;if(a.isPlainObject(F[I])&&H!=E){F=F[I]}else{if(F[I]!==c){return s=F[I],!1}if(!a.isPlainObject(F[J])||H==E){return F[J]!==c&&(s=F[J]),!1}F=F[J]}})),a.isFunction(s)?D=s.apply(G,u):s!==c&&(D=s),a.isArray(f)?f.push(D):f!==c?f=[f,D]:D!==c&&(f=D),s!==c&&s}}).initialize()}),f!==c?f:this},a.fn.transition.exists={},a.fn.transition.settings={name:"Transition",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"transition",interval:0,reverse:"auto",onStart:function(){},onComplete:function(){},onShow:function(){},onHide:function(){},useFailSafe:!0,failSafeDelay:100,allowRepeats:!1,displayType:!1,animation:"fade",duration:!1,queue:!0,metadata:{displayType:"display"},className:{animating:"animating",disabled:"disabled",hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"transition",visible:"visible"},error:{noAnimation:"Element is no longer attached to DOM. Unable to animate.  Use silent setting to surpress this warning in production.",repeated:"That animation is already occurring, cancelling repeated animation",method:"The method you called is not defined",support:"This browser does not support CSS animations"}}}(jQuery,window,document),function(d,b,a,c){b=void 0!==b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();d.api=d.fn.api=function(o){var g,h=d.isFunction(this)?d(b):d(this),n=h.selector||"",l=(new Date).getTime(),i=[],m=o,f="string"==typeof m,j=[].slice.call(arguments,1);return h.each(function(){var k,J,G,z,K,E,w=d.isPlainObject(o)?d.extend(!0,{},d.fn.api.settings,o):d.extend({},d.fn.api.settings),L=w.namespace,D=w.metadata,H=w.selector,M=w.error,x=w.className,A="."+L,F="module-"+L,B=d(this),I=B.closest(H.form),C=w.stateContext?d(w.stateContext):B,N=this,q=C[0],O=B.data(F);E={initialize:function(){f||E.bind.events(),E.instantiate()},instantiate:function(){E.verbose("Storing instance of module",E),O=E,B.data(F,O)},destroy:function(){E.verbose("Destroying previous module for",N),B.removeData(F).off(A)},bind:{events:function(){var p=E.get.event();p?(E.verbose("Attaching API events to element",p),B.on(p+A,E.event.trigger)):"now"==w.on&&(E.debug("Querying API endpoint immediately"),E.query())}},decode:{json:function(p){if(p!==c&&"string"==typeof p){try{p=JSON.parse(p)}catch(p){}}return p}},read:{cachedResponse:function(p){var r;if(b.Storage!==c){return r=sessionStorage.getItem(p),E.debug("Using cached response",p,r),r=E.decode.json(r)}E.error(M.noStorage)}},write:{cachedResponse:function(p,r){r&&""===r?E.debug("Response empty, not caching",r):b.Storage!==c?(d.isPlainObject(r)&&(r=JSON.stringify(r)),sessionStorage.setItem(p,r),E.verbose("Storing cached response for url",p,r)):E.error(M.noStorage)}},query:function(){if(E.is.disabled()){E.debug("Element is disabled API request aborted")}else{if(E.is.loading()){if(!w.interruptRequests){return void E.debug("Cancelling request, previous request is still pending")}E.debug("Interrupting previous request"),E.abort()}if(w.defaultData&&d.extend(!0,w.urlData,E.get.defaultData()),w.serializeForm&&(w.data=E.add.formData(w.data)),!1===(J=E.get.settings())){return E.cancelled=!0,void E.error(M.beforeSend)}if(E.cancelled=!1,(G=E.get.templatedURL())||E.is.mocked()){if((G=E.add.urlData(G))||E.is.mocked()){if(J.url=w.base+G,k=d.extend(!0,{},w,{type:w.method||w.type,data:z,url:w.base+G,beforeSend:w.beforeXHR,success:function(){},failure:function(){},complete:function(){}}),E.debug("Querying URL",k.url),E.verbose("Using AJAX settings",k),"local"===w.cache&&E.read.cachedResponse(G)){return E.debug("Response returned from local cache"),E.request=E.create.request(),void E.request.resolveWith(q,[E.read.cachedResponse(G)])}w.throttle?w.throttleFirstRequest||E.timer?(E.debug("Throttling request",w.throttle),clearTimeout(E.timer),E.timer=setTimeout(function(){E.timer&&delete E.timer,E.debug("Sending throttled request",z,k.method),E.send.request()},w.throttle)):(E.debug("Sending request",z,k.method),E.send.request(),E.timer=setTimeout(function(){},w.throttle)):(E.debug("Sending request",z,k.method),E.send.request())}}else{E.error(M.missingURL)}}},should:{removeError:function(){return !0===w.hideError||"auto"===w.hideError&&!E.is.form()}},is:{disabled:function(){return 0<B.filter(H.disabled).length},expectingJSON:function(){return"json"===w.dataType||"jsonp"===w.dataType},form:function(){return B.is("form")||C.is("form")},mocked:function(){return w.mockResponse||w.mockResponseAsync||w.response||w.responseAsync},input:function(){return B.is("input")},loading:function(){return !!E.request&&"pending"==E.request.state()},abortedRequest:function(p){return p&&p.readyState!==c&&0===p.readyState?(E.verbose("XHR request determined to be aborted"),!0):(E.verbose("XHR request was not aborted"),!1)},validResponse:function(p){return E.is.expectingJSON()&&d.isFunction(w.successTest)?(E.debug("Checking JSON returned success",w.successTest,p),w.successTest(p)?(E.debug("Response passed success test",p),!0):(E.debug("Response failed success test",p),!1)):(E.verbose("Response is not JSON, skipping validation",w.successTest,p),!0)}},was:{cancelled:function(){return E.cancelled||!1},succesful:function(){return E.request&&"resolved"==E.request.state()},failure:function(){return E.request&&"rejected"==E.request.state()},complete:function(){return E.request&&("resolved"==E.request.state()||"rejected"==E.request.state())}},add:{urlData:function(s,p){var r,u;return s&&(r=s.match(w.regExp.required),u=s.match(w.regExp.optional),p=p||w.urlData,r&&(E.debug("Looking for required URL variables",r),d.each(r,function(v,Q){var P=-1!==Q.indexOf("$")?Q.substr(2,Q.length-3):Q.substr(1,Q.length-2),y=d.isPlainObject(p)&&p[P]!==c?p[P]:B.data(P)!==c?B.data(P):C.data(P)!==c?C.data(P):p[P];if(y===c){return E.error(M.requiredParameter,P,s),s=!1}E.verbose("Found required variable",P,y),y=w.encodeParameters?E.get.urlEncodedValue(y):y,s=s.replace(Q,y)})),u&&(E.debug("Looking for optional URL variables",r),d.each(u,function(v,Q){var P=-1!==Q.indexOf("$")?Q.substr(3,Q.length-4):Q.substr(2,Q.length-3),y=d.isPlainObject(p)&&p[P]!==c?p[P]:B.data(P)!==c?B.data(P):C.data(P)!==c?C.data(P):p[P];s=y!==c?(E.verbose("Optional variable Found",P,y),s.replace(Q,y)):(E.verbose("Optional variable not found",P),-1!==s.indexOf("/"+Q)?s.replace("/"+Q,""):s.replace(Q,""))}))),s},formData:function(p){var s=d.fn.serializeObject!==c,r=s?I.serializeObject():I.serialize();return p=p||w.data,p=d.isPlainObject(p)?s?(E.debug("Extending existing data with form data",p,r),d.extend(!0,{},p,r)):(E.error(M.missingSerialize),E.debug("Cant extend data. Replacing data with form data",p,r),r):(E.debug("Adding form data",r),r)}},send:{request:function(){E.set.loading(),E.request=E.create.request(),E.is.mocked()?E.mockedXHR=E.create.mockedXHR():E.xhr=E.create.xhr(),w.onRequest.call(q,E.request,E.xhr)}},event:{trigger:function(p){E.query(),"submit"!=p.type&&"click"!=p.type||p.preventDefault()},xhr:{always:function(){},done:function(s,Q,v){var u=this,y=(new Date).getTime()-K,p=w.loadingDuration-y,P=!!d.isFunction(w.onResponse)&&(E.is.expectingJSON()?w.onResponse.call(u,d.extend(!0,{},s)):w.onResponse.call(u,s));p=0<p?p:0,P&&(E.debug("Modified API response in onResponse callback",w.onResponse,P,s),s=P),0<p&&E.debug("Response completed early delaying state change by",p),setTimeout(function(){E.is.validResponse(s)?E.request.resolveWith(u,[s,v]):E.request.rejectWith(u,[v,"invalid"])},p)},fail:function(r,y,u){var s=this,v=(new Date).getTime()-K,p=w.loadingDuration-v;0<(p=0<p?p:0)&&E.debug("Response completed early delaying state change by",p),setTimeout(function(){E.is.abortedRequest(r)?E.request.rejectWith(s,[r,"aborted",u]):E.request.rejectWith(s,[r,"error",y,u])},p)}},request:{done:function(p,r){E.debug("Successful API Response",p),"local"===w.cache&&G&&(E.write.cachedResponse(G,p),E.debug("Saving server response locally",E.cache)),w.onSuccess.call(q,p,B,r)},complete:function(p,u){var s,r;E.was.succesful()?(r=p,s=u):(s=p,r=E.get.responseFromXHR(s)),E.remove.loading(),w.onComplete.call(q,r,B,s)},fail:function(p,v,s){var r=E.get.responseFromXHR(p),u=E.get.errorFromRequest(r,v,s);if("aborted"==v){return E.debug("XHR Aborted (Most likely caused by page navigation or CORS Policy)",v,s),w.onAbort.call(q,v,B,p),!0}"invalid"==v?E.debug("JSON did not pass success test. A server-side error has most likely occurred",r):"error"==v&&p!==c&&(E.debug("XHR produced a server error",v,s),200!=p.status&&s!==c&&""!==s&&E.error(M.statusMessage+s,k.url),w.onError.call(q,u,B,p)),w.errorDuration&&"aborted"!==v&&(E.debug("Adding error state"),E.set.error(),E.should.removeError()&&setTimeout(E.remove.error,w.errorDuration)),E.debug("API Request failed",u,p),w.onFailure.call(q,r,B,p)}}},create:{request:function(){return d.Deferred().always(E.event.request.complete).done(E.event.request.done).fail(E.event.request.fail)},mockedXHR:function(){var p,v,s,r=w.mockResponse||w.response,u=w.mockResponseAsync||w.responseAsync;return s=d.Deferred().always(E.event.xhr.complete).done(E.event.xhr.done).fail(E.event.xhr.fail),r?(v=d.isFunction(r)?(E.debug("Using specified synchronous callback",r),r.call(q,J)):(E.debug("Using settings specified response",r),r),s.resolveWith(q,[v,!1,{responseText:v}])):d.isFunction(u)&&(p=function(t){E.debug("Async callback returned response",t),t?s.resolveWith(q,[t,!1,{responseText:t}]):s.rejectWith(q,[{responseText:t},!1,!1])},E.debug("Using specified async response callback",u),u.call(q,J,p)),s},xhr:function(){var p;return p=d.ajax(k).always(E.event.xhr.always).done(E.event.xhr.done).fail(E.event.xhr.fail),E.verbose("Created server request",p,k),p}},set:{error:function(){E.verbose("Adding error state to element",C),C.addClass(x.error)},loading:function(){E.verbose("Adding loading state to element",C),C.addClass(x.loading),K=(new Date).getTime()}},remove:{error:function(){E.verbose("Removing error state from element",C),C.removeClass(x.error)},loading:function(){E.verbose("Removing loading state from element",C),C.removeClass(x.loading)}},get:{responseFromXHR:function(p){return !!d.isPlainObject(p)&&(E.is.expectingJSON()?E.decode.json(p.responseText):p.responseText)},errorFromRequest:function(p,s,r){return d.isPlainObject(p)&&p.error!==c?p.error:w.error[s]!==c?w.error[s]:r},request:function(){return E.request||!1},xhr:function(){return E.xhr||!1},settings:function(){var p;return(p=w.beforeSend.call(q,w))&&(p.success!==c&&(E.debug("Legacy success callback detected",p),E.error(M.legacyParameters,p.success),p.onSuccess=p.success),p.failure!==c&&(E.debug("Legacy failure callback detected",p),E.error(M.legacyParameters,p.failure),p.onFailure=p.failure),p.complete!==c&&(E.debug("Legacy complete callback detected",p),E.error(M.legacyParameters,p.complete),p.onComplete=p.complete)),p===c&&E.error(M.noReturnedValue),!1===p?p:p!==c?d.extend(!0,{},p):d.extend(!0,{},w)},urlEncodedValue:function(p){var s=b.decodeURIComponent(p),r=b.encodeURIComponent(p);return s!==p?(E.debug("URL value is already encoded, avoiding double encoding",p),p):(E.verbose("Encoding value using encodeURIComponent",p,r),r)},defaultData:function(){var p={};return d.isWindow(N)||(E.is.input()?p.value=B.val():E.is.form()||(p.text=B.text())),p},event:function(){return d.isWindow(N)||"now"==w.on?(E.debug("API called without element, no events attached"),!1):"auto"==w.on?B.is("input")?N.oninput!==c?"input":N.onpropertychange!==c?"propertychange":"keyup":B.is("form")?"submit":"click":w.on},templatedURL:function(p){if(p=p||B.data(D.action)||w.action||!1,G=B.data(D.url)||w.url||!1){return E.debug("Using specified url",G),G}if(p){if(E.debug("Looking up url for action",p,w.api),w.api[p]===c&&!E.is.mocked()){return void E.error(M.missingAction,w.action,w.api)}G=w.api[p]}else{E.is.form()&&(G=B.attr("action")||C.attr("action")||!1,E.debug("No url or action specified, defaulting to form action",G))}return G}},abort:function(){var p=E.get.xhr();p&&"resolved"!==p.state()&&(E.debug("Cancelling API request"),p.abort())},reset:function(){E.remove.error(),E.remove.loading()},setting:function(p,r){if(E.debug("Changing setting",p,r),d.isPlainObject(p)){d.extend(!0,w,p)}else{if(r===c){return w[p]}d.isPlainObject(w[p])?d.extend(!0,w[p],r):w[p]=r}},internal:function(p,r){if(d.isPlainObject(p)){d.extend(!0,E,p)}else{if(r===c){return E[p]}E[p]=r}},debug:function(){!w.silent&&w.debug&&(w.performance?E.performance.log(arguments):(E.debug=Function.prototype.bind.call(console.info,console,w.name+":"),E.debug.apply(console,arguments)))},verbose:function(){!w.silent&&w.verbose&&w.debug&&(w.performance?E.performance.log(arguments):(E.verbose=Function.prototype.bind.call(console.info,console,w.name+":"),E.verbose.apply(console,arguments)))},error:function(){w.silent||(E.error=Function.prototype.bind.call(console.error,console,w.name+":"),E.error.apply(console,arguments))},performance:{log:function(p){var s,r;w.performance&&(r=(s=(new Date).getTime())-(l||s),l=s,i.push({Name:p[0],Arguments:[].slice.call(p,1)||"","Execution Time":r})),clearTimeout(E.performance.timer),E.performance.timer=setTimeout(E.performance.display,500)},display:function(){var p=w.name+":",r=0;l=!1,clearTimeout(E.performance.timer),d.each(i,function(s,u){r+=u["Execution Time"]}),p+=" "+r+"ms",n&&(p+=" '"+n+"'"),(console.group!==c||console.table!==c)&&0<i.length&&(console.groupCollapsed(p),console.table?console.table(i):d.each(i,function(s,u){console.log(u.Name+": "+u["Execution Time"]+"ms")}),console.groupEnd()),i=[]}},invoke:function(u,s,Q){var y,p,v,P=O;return s=s||j,Q=N||Q,"string"==typeof u&&P!==c&&(u=u.split(/[\. ]/),y=u.length-1,d.each(u,function(r,S){var R=r!=y?S+u[r+1].charAt(0).toUpperCase()+u[r+1].slice(1):u;if(d.isPlainObject(P[R])&&r!=y){P=P[R]}else{if(P[R]!==c){return p=P[R],!1}if(!d.isPlainObject(P[S])||r==y){return P[S]!==c?p=P[S]:E.error(M.method,u),!1}P=P[S]}})),d.isFunction(p)?v=p.apply(Q,s):p!==c&&(v=p),d.isArray(g)?g.push(v):g!==c?g=[g,v]:v!==c&&(g=v),p}},f?(O===c&&E.initialize(),E.invoke(m)):(O!==c&&O.invoke("destroy"),E.initialize())}),g!==c?g:this},d.api.settings={name:"API",namespace:"api",debug:!1,verbose:!1,performance:!0,api:{},cache:!0,interruptRequests:!0,on:"auto",stateContext:!1,loadingDuration:0,hideError:"auto",errorDuration:2000,encodeParameters:!0,action:!1,url:!1,base:"",urlData:{},defaultData:!0,serializeForm:!1,throttle:0,throttleFirstRequest:!0,method:"get",data:{},dataType:"json",mockResponse:!1,mockResponseAsync:!1,response:!1,responseAsync:!1,beforeSend:function(f){return f},beforeXHR:function(f){},onRequest:function(f,g){},onResponse:!1,onSuccess:function(f,g){},onComplete:function(f,g){},onFailure:function(f,g){},onError:function(f,g){},onAbort:function(f,g){},successTest:!1,error:{beforeSend:"The before send function has aborted the request",error:"There was an error with your request",exitConditions:"API Request Aborted. Exit conditions met",JSONParse:"JSON could not be parsed during error handling",legacyParameters:"You are using legacy API success callback names",method:"The method you called is not defined",missingAction:"API action used but no url was defined",missingSerialize:"jquery-serialize-object is required to add form data to an existing data object",missingURL:"No URL specified for api event",noReturnedValue:"The beforeSend callback must return a settings object, beforeSend ignored.",noStorage:"Caching responses locally requires session storage",parseError:"There was an error parsing your request",requiredParameter:"Missing a required URL parameter: ",statusMessage:"Server gave an error: ",timeout:"Your request timed out"},regExp:{required:/\{\$*[A-z0-9]+\}/g,optional:/\{\/\$*[A-z0-9]+\}/g},className:{loading:"loading",error:"error"},selector:{disabled:".disabled",form:"form"},metadata:{action:"action",url:"url"}}}(jQuery,window,document),function(d,a,b,c){a=void 0!==a&&a.Math==Math?a:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),d.fn.visibility=function(g){var q,i=d(this),p=i.selector||"",h=(new Date).getTime(),o=[],m=g,j="string"==typeof m,n=[].slice.call(arguments,1),f=i.length,l=0;return i.each(function(){var y,K,F,J,G=d.isPlainObject(g)?d.extend(!0,{},d.fn.visibility.settings,g):d.extend({},d.fn.visibility.settings),C=G.className,k=G.namespace,D=G.error,I=G.metadata,w="."+k,L="module-"+k,x=d(a),z=d(this),E=d(G.context),A=(z.selector,z.data(L)),H=a.requestAnimationFrame||a.mozRequestAnimationFrame||a.webkitRequestAnimationFrame||a.msRequestAnimationFrame||function(r){setTimeout(r,0)},B=this,M=!1;J={initialize:function(){J.debug("Initializing",G),J.setup.cache(),J.should.trackChanges()&&("image"==G.type&&J.setup.image(),"fixed"==G.type&&J.setup.fixed(),G.observeChanges&&J.observeChanges(),J.bind.events()),J.save.position(),J.is.visible()||J.error(D.visible,z),G.initialCheck&&J.checkVisibility(),J.instantiate()},instantiate:function(){J.debug("Storing instance",J),z.data(L,J),A=J},destroy:function(){J.verbose("Destroying previous module"),F&&F.disconnect(),K&&K.disconnect(),x.off("load"+w,J.event.load).off("resize"+w,J.event.resize),E.off("scroll"+w,J.event.scroll).off("scrollchange"+w,J.event.scrollchange),"fixed"==G.type&&(J.resetFixed(),J.remove.placeholder()),z.off(w).removeData(L)},observeChanges:function(){"MutationObserver" in a&&(K=new MutationObserver(J.event.contextChanged),F=new MutationObserver(J.event.changed),K.observe(b,{childList:!0,subtree:!0}),F.observe(B,{childList:!0,subtree:!0}),J.debug("Setting up mutation observer",F))},bind:{events:function(){J.verbose("Binding visibility events to scroll and resize"),G.refreshOnLoad&&x.on("load"+w,J.event.load),x.on("resize"+w,J.event.resize),E.off("scroll"+w).on("scroll"+w,J.event.scroll).on("scrollchange"+w,J.event.scrollchange)}},event:{changed:function(r){J.verbose("DOM tree modified, updating visibility calculations"),J.timer=setTimeout(function(){J.verbose("DOM tree modified, updating sticky menu"),J.refresh()},100)},contextChanged:function(r){[].forEach.call(r,function(s){s.removedNodes&&[].forEach.call(s.removedNodes,function(t){(t==B||0<d(t).find(B).length)&&(J.debug("Element removed from DOM, tearing down events"),J.destroy())})})},resize:function(){J.debug("Window resized"),G.refreshOnResize&&H(J.refresh)},load:function(){J.debug("Page finished loading"),H(J.refresh)},scroll:function(){G.throttle?(clearTimeout(J.timer),J.timer=setTimeout(function(){E.triggerHandler("scrollchange"+w,[E.scrollTop()])},G.throttle)):H(function(){E.triggerHandler("scrollchange"+w,[E.scrollTop()])})},scrollchange:function(r,s){J.checkVisibility(s)}},precache:function(u,Q){u instanceof Array||(u=[u]);for(var N=u.length,v=0,O=[],s=b.createElement("img"),P=function(){++v>=u.length&&d.isFunction(Q)&&Q()};N--;){(s=b.createElement("img")).onload=P,s.onerror=P,s.src=u[N],O.push(s)}},enableCallbacks:function(){J.debug("Allowing callbacks to occur"),M=!1},disableCallbacks:function(){J.debug("Disabling all callbacks temporarily"),M=!0},should:{trackChanges:function(){return j?(J.debug("One time query, no need to bind events"),!1):(J.debug("Callbacks being attached"),!0)}},setup:{cache:function(){J.cache={occurred:{},screen:{},element:{}}},image:function(){var r=z.data(I.src);r&&(J.verbose("Lazy loading image",r),G.once=!0,G.observeChanges=!1,G.onOnScreen=function(){J.debug("Image on screen",B),J.precache(r,function(){J.set.image(r,function(){++l==f&&G.onAllLoaded.call(this),G.onLoad.call(this)})})})},fixed:function(){J.debug("Setting up fixed"),G.once=!1,G.observeChanges=!1,G.initialCheck=!0,G.refreshOnLoad=!0,g.transition||(G.transition=!1),J.create.placeholder(),J.debug("Added placeholder",y),G.onTopPassed=function(){J.debug("Element passed, adding fixed position",z),J.show.placeholder(),J.set.fixed(),G.transition&&d.fn.transition!==c&&z.transition(G.transition,G.duration)},G.onTopPassedReverse=function(){J.debug("Element returned to position, removing fixed",z),J.hide.placeholder(),J.remove.fixed()}}},create:{placeholder:function(){J.verbose("Creating fixed position placeholder"),y=z.clone(!1).css("display","none").addClass(C.placeholder).insertAfter(z)}},show:{placeholder:function(){J.verbose("Showing placeholder"),y.css("display","block").css("visibility","hidden")}},hide:{placeholder:function(){J.verbose("Hiding placeholder"),y.css("display","none").css("visibility","")}},set:{fixed:function(){J.verbose("Setting element to fixed position"),z.addClass(C.fixed).css({position:"fixed",top:G.offset+"px",left:"auto",zIndex:G.zIndex}),G.onFixed.call(B)},image:function(r,s){if(z.attr("src",r),G.transition){if(d.fn.transition!==c){if(z.hasClass(C.visible)){return void J.debug("Transition already occurred on this image, skipping animation")}z.transition(G.transition,G.duration,s)}else{z.fadeIn(G.duration,s)}}else{z.show()}}},is:{onScreen:function(){return J.get.elementCalculations().onScreen},offScreen:function(){return J.get.elementCalculations().offScreen},visible:function(){return !(!J.cache||!J.cache.element)&&!(0===J.cache.element.width&&0===J.cache.element.offset.top)},verticallyScrollableContext:function(){var r=E.get(0)!==a&&E.css("overflow-y");return"auto"==r||"scroll"==r},horizontallyScrollableContext:function(){var r=E.get(0)!==a&&E.css("overflow-x");return"auto"==r||"scroll"==r}},refresh:function(){J.debug("Refreshing constants (width/height)"),"fixed"==G.type&&J.resetFixed(),J.reset(),J.save.position(),G.checkOnRefresh&&J.checkVisibility(),G.onRefresh.call(B)},resetFixed:function(){J.remove.fixed(),J.remove.occurred()},reset:function(){J.verbose("Resetting all cached values"),d.isPlainObject(J.cache)&&(J.cache.screen={},J.cache.element={})},checkVisibility:function(r){J.verbose("Checking visibility of element",J.cache.element),!M&&J.is.visible()&&(J.save.scroll(r),J.save.calculations(),J.passed(),J.passingReverse(),J.topVisibleReverse(),J.bottomVisibleReverse(),J.topPassedReverse(),J.bottomPassedReverse(),J.onScreen(),J.offScreen(),J.passing(),J.topVisible(),J.bottomVisible(),J.topPassed(),J.bottomPassed(),G.onUpdate&&G.onUpdate.call(B,J.get.elementCalculations()))},passed:function(r,u){var s=J.get.elementCalculations();if(r&&u){G.onPassed[r]=u}else{if(r!==c){return J.get.pixelsPassed(r)>s.pixelsPassed}s.passing&&d.each(G.onPassed,function(v,N){s.bottomVisible||s.pixelsPassed>J.get.pixelsPassed(v)?J.execute(N,v):G.once||J.remove.occurred(N)})}},onScreen:function(r){var v=J.get.elementCalculations(),u=r||G.onOnScreen,s="onScreen";if(r&&(J.debug("Adding callback for onScreen",r),G.onOnScreen=r),v.onScreen?J.execute(u,s):G.once||J.remove.occurred(s),r!==c){return v.onOnScreen}},offScreen:function(r){var v=J.get.elementCalculations(),u=r||G.onOffScreen,s="offScreen";if(r&&(J.debug("Adding callback for offScreen",r),G.onOffScreen=r),v.offScreen?J.execute(u,s):G.once||J.remove.occurred(s),r!==c){return v.onOffScreen}},passing:function(r){var v=J.get.elementCalculations(),u=r||G.onPassing,s="passing";if(r&&(J.debug("Adding callback for passing",r),G.onPassing=r),v.passing?J.execute(u,s):G.once||J.remove.occurred(s),r!==c){return v.passing}},topVisible:function(r){var v=J.get.elementCalculations(),u=r||G.onTopVisible,s="topVisible";if(r&&(J.debug("Adding callback for top visible",r),G.onTopVisible=r),v.topVisible?J.execute(u,s):G.once||J.remove.occurred(s),r===c){return v.topVisible}},bottomVisible:function(r){var v=J.get.elementCalculations(),u=r||G.onBottomVisible,s="bottomVisible";if(r&&(J.debug("Adding callback for bottom visible",r),G.onBottomVisible=r),v.bottomVisible?J.execute(u,s):G.once||J.remove.occurred(s),r===c){return v.bottomVisible}},topPassed:function(r){var v=J.get.elementCalculations(),u=r||G.onTopPassed,s="topPassed";if(r&&(J.debug("Adding callback for top passed",r),G.onTopPassed=r),v.topPassed?J.execute(u,s):G.once||J.remove.occurred(s),r===c){return v.topPassed}},bottomPassed:function(r){var v=J.get.elementCalculations(),u=r||G.onBottomPassed,s="bottomPassed";if(r&&(J.debug("Adding callback for bottom passed",r),G.onBottomPassed=r),v.bottomPassed?J.execute(u,s):G.once||J.remove.occurred(s),r===c){return v.bottomPassed}},passingReverse:function(r){var v=J.get.elementCalculations(),u=r||G.onPassingReverse,s="passingReverse";if(r&&(J.debug("Adding callback for passing reverse",r),G.onPassingReverse=r),v.passing?G.once||J.remove.occurred(s):J.get.occurred("passing")&&J.execute(u,s),r!==c){return !v.passing}},topVisibleReverse:function(r){var v=J.get.elementCalculations(),u=r||G.onTopVisibleReverse,s="topVisibleReverse";if(r&&(J.debug("Adding callback for top visible reverse",r),G.onTopVisibleReverse=r),v.topVisible?G.once||J.remove.occurred(s):J.get.occurred("topVisible")&&J.execute(u,s),r===c){return !v.topVisible}},bottomVisibleReverse:function(r){var v=J.get.elementCalculations(),u=r||G.onBottomVisibleReverse,s="bottomVisibleReverse";if(r&&(J.debug("Adding callback for bottom visible reverse",r),G.onBottomVisibleReverse=r),v.bottomVisible?G.once||J.remove.occurred(s):J.get.occurred("bottomVisible")&&J.execute(u,s),r===c){return !v.bottomVisible}},topPassedReverse:function(r){var v=J.get.elementCalculations(),u=r||G.onTopPassedReverse,s="topPassedReverse";if(r&&(J.debug("Adding callback for top passed reverse",r),G.onTopPassedReverse=r),v.topPassed?G.once||J.remove.occurred(s):J.get.occurred("topPassed")&&J.execute(u,s),r===c){return !v.onTopPassed}},bottomPassedReverse:function(r){var v=J.get.elementCalculations(),u=r||G.onBottomPassedReverse,s="bottomPassedReverse";if(r&&(J.debug("Adding callback for bottom passed reverse",r),G.onBottomPassedReverse=r),v.bottomPassed?G.once||J.remove.occurred(s):J.get.occurred("bottomPassed")&&J.execute(u,s),r===c){return !v.bottomPassed}},execute:function(r,v){var u=J.get.elementCalculations(),s=J.get.screenCalculations();(r=r||!1)&&(G.continuous?(J.debug("Callback being called continuously",v,u),r.call(B,u,s)):J.get.occurred(v)||(J.debug("Conditions met",v,u),r.call(B,u,s))),J.save.occurred(v)},remove:{fixed:function(){J.debug("Removing fixed position"),z.removeClass(C.fixed).css({position:"",top:"",left:"",zIndex:""}),G.onUnfixed.call(B)},placeholder:function(){J.debug("Removing placeholder content"),y&&y.remove()},occurred:function(r){if(r){var s=J.cache.occurred;s[r]!==c&&!0===s[r]&&(J.debug("Callback can now be called again",r),J.cache.occurred[r]=!1)}else{J.cache.occurred={}}}},save:{calculations:function(){J.verbose("Saving all calculations necessary to determine positioning"),J.save.direction(),J.save.screenCalculations(),J.save.elementCalculations()},occurred:function(r){r&&(J.cache.occurred[r]!==c&&!0===J.cache.occurred[r]||(J.verbose("Saving callback occurred",r),J.cache.occurred[r]=!0))},scroll:function(r){r=r+G.offset||E.scrollTop()+G.offset,J.cache.scroll=r},direction:function(){var r,u=J.get.scroll(),s=J.get.lastScroll();return r=s<u&&s?"down":u<s&&s?"up":"static",J.cache.direction=r,J.cache.direction},elementPosition:function(){var r=J.cache.element,s=J.get.screenSize();return J.verbose("Saving element position"),r.fits=r.height<s.height,r.offset=z.offset(),r.width=z.outerWidth(),r.height=z.outerHeight(),J.is.verticallyScrollableContext()&&(r.offset.top+=E.scrollTop()-E.offset().top),J.is.horizontallyScrollableContext()&&(r.offset.left+=E.scrollLeft-E.offset().left),J.cache.element=r},elementCalculations:function(){var r=J.get.screenCalculations(),s=J.get.elementPosition();return G.includeMargin?(s.margin={},s.margin.top=parseInt(z.css("margin-top"),10),s.margin.bottom=parseInt(z.css("margin-bottom"),10),s.top=s.offset.top-s.margin.top,s.bottom=s.offset.top+s.height+s.margin.bottom):(s.top=s.offset.top,s.bottom=s.offset.top+s.height),s.topPassed=r.top>=s.top,s.bottomPassed=r.top>=s.bottom,s.topVisible=r.bottom>=s.top&&!s.topPassed,s.bottomVisible=r.bottom>=s.bottom&&!s.bottomPassed,s.pixelsPassed=0,s.percentagePassed=0,s.onScreen=(s.topVisible||s.passing)&&!s.bottomPassed,s.passing=s.topPassed&&!s.bottomPassed,s.offScreen=!s.onScreen,s.passing&&(s.pixelsPassed=r.top-s.top,s.percentagePassed=(r.top-s.top)/s.height),J.cache.element=s,J.verbose("Updated element calculations",s),s},screenCalculations:function(){var r=J.get.scroll();return J.save.direction(),J.cache.screen.top=r,J.cache.screen.bottom=r+J.cache.screen.height,J.cache.screen},screenSize:function(){J.verbose("Saving window position"),J.cache.screen={height:E.height()}},position:function(){J.save.screenSize(),J.save.elementPosition()}},get:{pixelsPassed:function(r){var s=J.get.elementCalculations();return -1<r.search("%")?s.height*(parseInt(r,10)/100):parseInt(r,10)},occurred:function(r){return J.cache.occurred!==c&&J.cache.occurred[r]||!1},direction:function(){return J.cache.direction===c&&J.save.direction(),J.cache.direction},elementPosition:function(){return J.cache.element===c&&J.save.elementPosition(),J.cache.element},elementCalculations:function(){return J.cache.element===c&&J.save.elementCalculations(),J.cache.element},screenCalculations:function(){return J.cache.screen===c&&J.save.screenCalculations(),J.cache.screen},screenSize:function(){return J.cache.screen===c&&J.save.screenSize(),J.cache.screen},scroll:function(){return J.cache.scroll===c&&J.save.scroll(),J.cache.scroll},lastScroll:function(){return J.cache.screen===c?(J.debug("First scroll event, no last scroll could be found"),!1):J.cache.screen.top}},setting:function(r,s){if(d.isPlainObject(r)){d.extend(!0,G,r)}else{if(s===c){return G[r]}G[r]=s}},internal:function(r,s){if(d.isPlainObject(r)){d.extend(!0,J,r)}else{if(s===c){return J[r]}J[r]=s}},debug:function(){!G.silent&&G.debug&&(G.performance?J.performance.log(arguments):(J.debug=Function.prototype.bind.call(console.info,console,G.name+":"),J.debug.apply(console,arguments)))},verbose:function(){!G.silent&&G.verbose&&G.debug&&(G.performance?J.performance.log(arguments):(J.verbose=Function.prototype.bind.call(console.info,console,G.name+":"),J.verbose.apply(console,arguments)))},error:function(){G.silent||(J.error=Function.prototype.bind.call(console.error,console,G.name+":"),J.error.apply(console,arguments))},performance:{log:function(r){var u,s;G.performance&&(s=(u=(new Date).getTime())-(h||u),h=u,o.push({Name:r[0],Arguments:[].slice.call(r,1)||"",Element:B,"Execution Time":s})),clearTimeout(J.performance.timer),J.performance.timer=setTimeout(J.performance.display,500)},display:function(){var r=G.name+":",s=0;h=!1,clearTimeout(J.performance.timer),d.each(o,function(u,v){s+=v["Execution Time"]}),r+=" "+s+"ms",p&&(r+=" '"+p+"'"),(console.group!==c||console.table!==c)&&0<o.length&&(console.groupCollapsed(r),console.table?console.table(o):d.each(o,function(u,v){console.log(v.Name+": "+v["Execution Time"]+"ms")}),console.groupEnd()),o=[]}},invoke:function(v,u,Q){var O,s,N,P=A;return u=u||n,Q=B||Q,"string"==typeof v&&P!==c&&(v=v.split(/[\. ]/),O=v.length-1,d.each(v,function(r,S){var R=r!=O?S+v[r+1].charAt(0).toUpperCase()+v[r+1].slice(1):v;if(d.isPlainObject(P[R])&&r!=O){P=P[R]}else{if(P[R]!==c){return s=P[R],!1}if(!d.isPlainObject(P[S])||r==O){return P[S]!==c?s=P[S]:J.error(D.method,v),!1}P=P[S]}})),d.isFunction(s)?N=s.apply(Q,u):s!==c&&(N=s),d.isArray(q)?q.push(N):q!==c?q=[q,N]:N!==c&&(q=N),s}},j?(A===c&&J.initialize(),A.save.scroll(),A.save.calculations(),J.invoke(m)):(A!==c&&A.invoke("destroy"),J.initialize())}),q!==c?q:this},d.fn.visibility.settings={name:"Visibility",namespace:"visibility",debug:!1,verbose:!1,performance:!0,observeChanges:!0,initialCheck:!0,refreshOnLoad:!0,refreshOnResize:!0,checkOnRefresh:!0,once:!0,continuous:!1,offset:0,includeMargin:!1,context:a,throttle:!1,type:!1,zIndex:"10",transition:"fade in",duration:1000,onPassed:{},onOnScreen:!1,onOffScreen:!1,onPassing:!1,onTopVisible:!1,onBottomVisible:!1,onTopPassed:!1,onBottomPassed:!1,onPassingReverse:!1,onTopVisibleReverse:!1,onBottomVisibleReverse:!1,onTopPassedReverse:!1,onBottomPassedReverse:!1,onLoad:function(){},onAllLoaded:function(){},onFixed:function(){},onUnfixed:function(){},onUpdate:!1,onRefresh:function(){},metadata:{src:"src"},className:{fixed:"fixed",placeholder:"placeholder",visible:"visible"},error:{method:"The method you called is not defined.",visible:"Element is hidden, you must call refresh after element becomes visible"}}}(jQuery,window,document);